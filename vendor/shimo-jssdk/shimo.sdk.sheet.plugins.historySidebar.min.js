!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://assets.smcdn.cn/sheet/",n(n.s=941)}([function(t,e){t.exports=React},function(t,e){t.exports=shimo.sdk.sheet},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},__assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},__generator=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_this=void 0;Object.defineProperty(exports,"__esModule",{value:!0});var locale_1=__webpack_require__(67),interweave=function(t,e){return t.map(function(n,r){return r===t.length-1?n:""+n+e[r]}).join("")},currentLocale="zh-CN",fallbackLocale="zh-CN",localeCache={},fetchLocaleSync,fetchLocale=function(t){throw new Error("'fetchLocale' is not provided, see: 's18n.configure()'")},getLocale=function(){return currentLocale},configure=function(t){if(t.fetchLocale){if("function"!=typeof t.fetchLocale)throw new Error("fetchLocale should be an async function resolving with locale resource");fetchLocale=t.fetchLocale}else{if(!t.fetchLocaleSync)throw new Error("Requiring at least one parameter: fetchLocale or fetchLocaleSync");fetchLocaleSync=t.fetchLocaleSync}},addLocaleResource=function(t,e){if(!locale_1.isValidLocaleResource(e))throw new Error("fetched locale resource is invalid");localeCache[t]=__assign({},localeCache[t]||{},e)},updateLocaleResource=function(t,e){return __awaiter(_this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:if(!e&&localeCache[t])return[3,2];if(!fetchLocale)throw new Error("'fetchLocale' is not provided, see: 's18n.configure()'");return[4,fetchLocale(t)];case 1:n=r.sent(),addLocaleResource(t,n),r.label=2;case 2:return[2]}})})},setLocaleSync=function(t){if("string"!=typeof t)throw new Error("'locale' is required");if(!fetchLocaleSync)throw new Error("'fetchLocaleSync' is not provided, see: 's18n.configure()'");var e=fetchLocaleSync(t);addLocaleResource(t,e),currentLocale=t},setLocaleAsync=function(t,e){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:if("string"!=typeof t)throw new Error("'locale' is required");return[4,updateLocaleResource(t)];case 1:return n.sent(),currentLocale=t,"string"==typeof e&&(updateLocaleResource(e),fallbackLocale=e),[2]}})})},getTextResult=function(t,e){return e&&e[t]},PLACEHOLDER_RE=/%(s|\d)/g,getInterpolateResult=function getInterpolateResult(parts,values,resource){try{if(!resource)return;var key=locale_1.rawTextToKey({type:"interpolated",textParts:parts}),translation=resource[key];if(!translation)return;var valueMap_1={},i_1=0;key.replace(PLACEHOLDER_RE,function(t){return valueMap_1[t]=values[i_1],i_1+=1,t});var interpolate=function(t,e){return t.replace(PLACEHOLDER_RE,function(n){return null!==e[n]?String(e[n]):(console.warn("[s18n] interpolation failed:",{str:t,valueMap:e}),n)})};if("string"==typeof translation)return interpolate(translation,valueMap_1);if("object"===(void 0===translation?"undefined":_typeof(translation))){for(var conditions=Object.keys(translation),index=0;index<conditions.length;index++){var conditionTemplate=conditions[index],conditionInterpolated=interpolate(conditionTemplate,valueMap_1),passed=eval(conditionInterpolated);if(passed)return interpolate(translation[conditionTemplate],valueMap_1)}return}return void console.warn("[s18n] Unexpected value: "+JSON.stringify(translation))}catch(t){var args={parts:parts,values:values,resource:resource};return console.error("[s18n] error when translating: ",args),void console.error(t)}},s18n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0],r=getTextResult(n,localeCache[currentLocale]);if("string"==typeof r)return r;var o=getTextResult(n,localeCache[fallbackLocale]);return"string"==typeof o?o:n}var i=t[0],a=t.slice(1);return getInterpolateResult(i,a,localeCache[currentLocale])||getInterpolateResult(i,a,localeCache[fallbackLocale])||interweave(i,a)};s18n.configure=configure,s18n.addLocaleResource=addLocaleResource,s18n.setLocaleAsync=setLocaleAsync,s18n.setLocaleSync=setLocaleSync,s18n.getLocale=getLocale,module.exports=s18n,exports.default=s18n},function(t,e,n){t.exports=n(151)()},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t,r){var o=n(89),i={function:!0,object:!0},a=i[typeof e]&&e&&!e.nodeType?e:void 0,s=i[typeof t]&&t&&!t.nodeType?t:void 0,c=o(a&&s&&"object"==typeof r&&r),u=o(i[typeof self]&&self),l=o(i[typeof window]&&window),f=o(i[typeof this]&&this),p=c||l!==(f&&f.window)&&l||u||f||Function("return this")();t.exports=p}).call(e,n(30)(t),n(25))},function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e){t.exports=ReactDOM},function(t,e,n){var r=n(88);t.exports=function(t,e){var n=t[e];return r(n)?n:void 0}},function(t,e){t.exports=function(t){return!!t&&"object"==typeof t}},function(t,e,n){var r=n(40),o=n(78),i=n(60),a=n(11),s=n(24),c=n(28);t.exports=function(t){var e=c(t);if(!e&&!a(t))return o(t);var n=i(t),u=!!n,l=n||[],f=l.length;for(var p in t)!r(t,p)||u&&("length"==p||s(p,f))||e&&"constructor"==p||l.push(p);return l}},function(t,e,n){var r=n(80),o=n(17),i=n(15);t.exports=function(t){return null!=t&&i(r(t))&&!o(t)}},,,,function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){"use strict";e.e=function(t){var e=document.createEvent("Event");e.initEvent("click",!0,!0),t.dispatchEvent(e)},e.c=function(t){return/^http:\/\//.test(t)},n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return i});var r="ActiveXObject"in window,o=window.navigator.userAgent.indexOf("Edge")>-1,i=window.navigator.userAgent.indexOf("Windows")>-1},function(t,e,n){var r=n(6),o="[object Function]",i="[object GeneratorFunction]",a=Object.prototype.toString;t.exports=function(t){var e=r(t)?a.call(t):"";return e==o||e==i}},function(t,e,n){var r=n(9),o="[object Symbol]",i=Object.prototype.toString;t.exports=function(t){return"symbol"==typeof t||r(t)&&i.call(t)==o}},function(t,e,n){var r=n(101),o=n(102),i=n(103),a=n(104),s=n(105);function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(29);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(8)(Object,"create");t.exports=r},function(t,e,n){var r=n(119);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){"use strict";var r=n(233),o=n(326),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===i.call(t)}function u(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(18),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&t.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}void 0!==t&&t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(4),o=n(18),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(111),o=n(118),i=n(120),a=n(121),s=n(122);function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(63),o="[object Arguments]",i=Object.prototype,a=i.hasOwnProperty,s=i.toString,c=i.propertyIsEnumerable;t.exports=function(t){return r(t)&&a.call(t,"callee")&&(!c.call(t,"callee")||s.call(t)==o)}},function(t,e,n){var r=n(4),o=n(9),i="[object String]",a=Object.prototype.toString;t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&a.call(t)==i}},,function(t,e){t.exports=function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}},,function(t,e,n){var r=n(90),o=n(45),i=n(91),a=n(81),s=n(92),c=n(42),u=Object.prototype.toString,l=c(r),f=c(o),p=c(i),h=c(a),d=c(s);function v(t){return u.call(t)}(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):void 0;if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){"use strict";var r=n(155),o=n(156),i=n(157),a=n(158),s=n(159),c=n(160),u=n(161);n.d(e,"h",function(){return r.a}),n.d(e,"a",function(){return o.a}),n.d(e,"g",function(){return i.a}),n.d(e,"e",function(){return a.a}),n.d(e,"d",function(){return s.a}),n.d(e,"b",function(){return c.a}),n.d(e,"k",function(){return u.a});var l=n(162);n.d(e,"j",function(){return l.d}),n.d(e,"i",function(){return l.c}),n.d(e,"f",function(){return l.b}),n.d(e,"l",function(){return l.e}),n.d(e,"c",function(){return l.a})},function(t,e,n){var r=n(59),o=Object.prototype.hasOwnProperty;t.exports=function(t,e){return o.call(t,e)||"object"==typeof t&&e in t&&null===r(t)}},,function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},,function(t,e,n){var r=n(19),o=n(106),i=n(107),a=n(108),s=n(109),c=n(110);function u(t){this.__data__=new r(t)}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},function(t,e,n){var r=n(8)(n(5),"Map");t.exports=r},function(t,e,n){var r=n(5).Symbol;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(17),o=n(6),i=n(18),a=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return a;if(o(t)){var e=r(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=u.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):c.test(t)?a:+t}},function(t,e,n){var r=n(170),o=n(176),i=n(148),a=n(4),s=n(183);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(77),o=n(98),i=1,a=2;t.exports=function(t,e,n,s,c,u){var l=c&a,f=t.length,p=e.length;if(f!=p&&!(l&&p>f))return!1;var h=u.get(t);if(h)return h==e;var d=-1,v=!0,y=c&i?new r:void 0;for(u.set(t,e);++d<f;){var b=t[d],g=e[d];if(s)var m=l?s(g,b,d,e,t,u):s(b,g,d,t,e,u);if(void 0!==m){if(m)continue;v=!1;break}if(y){if(!o(e,function(t,e){if(!y.has(e)&&(b===t||n(b,t,s,c,u)))return y.add(e)})){v=!1;break}}else if(b!==g&&!n(b,g,s,c,u)){v=!1;break}}return u.delete(t),v}},function(t,e,n){var r=n(29),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var i=t[e];o.call(t,e)&&r(i,n)&&(void 0!==n||e in t)||(t[e]=n)}},function(t,e,n){var r=n(123),o=n(6),i=n(9);t.exports=function t(e,n,a,s,c){return e===n||(null==e||null==n||!o(e)&&!i(n)?e!=e&&n!=n:r(e,n,t,a,s,c))}},,,,,function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e){var n=Object.getPrototypeOf;t.exports=function(t){return n(Object(t))}},function(t,e,n){var r=n(79),o=n(33),i=n(4),a=n(15),s=n(34);t.exports=function(t){var e=t?t.length:void 0;return a(e)&&(i(t)||s(t)||o(t))?r(e,String):null}},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=/^\[object (\w+)\]$/,o=function(t){if(null===t)return"null";if(void 0===t)return"undefined";if(t!=t)return"NaN";var e=Object.prototype.toString.call(t).match(r);return null==e?"unknown":e[1].toLowerCase()};o.isString=function(t){return"string"===o(t)},o.isFunction=function(t){return"function"===o(t)},o.isArray=function(t){return Array.isArray(t)},o.isUndefined=function(t){return void 0===t},o.isNull=function(t){return null===t},o.isObject=function(t){return"object"===o(t)},o.isRegExp=function(t){return"regexp"===o(t)},o.isArguments=function(t){return"arguments"===o(t)},o.isBoolean=function(t){return"boolean"===o(t)},o.isNaN=function(t){return"NaN"===o(t)},o.isNumber=function(t){return"number"===o(t)&&!isNaN(t)},o.isAny=function(t){return!0},e.default=o},function(t,e,n){var r=n(11),o=n(9);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(52);t.exports=function(t,e,n,o){n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=o?o(n[s],t[s],s,n,t):t[s];r(n,s,c)}return n}},,,function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(68);e.DEFAULT_LOCALES=["af","ar","az","be","bg","bn","bs","ca","cs","cy","da","de","de-AT","de-CH","de-DE","el","el-CY","en","en-AU","en-CA","en-GB","en-IE","en-IN","en-NZ","en-US","en-ZA","en-CY,eo","es","es-419","es-AR","es-CL","es-CO","es-CR","es-EC","es-ES","es-MX","es-NI","es-PA","es-PE","es-US","es-VE","et","eu","fa","fi","fr","fr-CA","fr-CH","fr-FR","gl","he","hi","hi-IN","hr","hu","id","is","it","it-CH","ja","ka","km","kn","ko","lb","lo","lt","lv","mk","ml","mn","mr-IN","ms","nb","ne","nl","nn","oc","or","pa","pl","pt","pt-BR","rm","ro","ru","sk","sl","sq","sr","sw","ta","te","th","tl","tr","tt","ug","ur","uz","vi","wo","zh-CN","zh-HK","zh-TW","zh-YUE"],e.isValidLocaleResource=function(t){return!!t&&(!Array.isArray(t)&&("object"===(void 0===t?"undefined":r(t))&&Object.keys(t).every(function(e){var n=t[e];return null==n||"string"==typeof n||"object"===(void 0===n?"undefined":r(n))})))},e.rawTextToKey=function(t){switch(t.type){case"string":return t.text;case"interpolated":var e=t.textParts.length;return 1===e?t.textParts[0]:2===e?t.textParts[0]+"%s"+t.textParts[1]:t.textParts.map(function(e,n){return n===t.textParts.length-1?e:e+"%"+(n+1)}).join("");default:return o.assertNever(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=function(t){throw new Error("unexpected type: "+JSON.stringify(t))}},,,function(t,e,n){var r=n(5).Uint8Array;t.exports=r},function(t,e,n){var r=n(133),o=n(84),i="Expected a function",a=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(i);return e=a(void 0===e?t.length-1:o(e),0),function(){for(var n=arguments,o=-1,i=a(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var c=Array(e+1);for(o=-1;++o<e;)c[o]=n[o];return c[e]=s,r(t,this,c)}}},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(7),a=n.n(i),s=n(74),c=n(16),u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.toggleOpen=function(){n.setState({open:!n.state.open,style:null})},n.close=function(){n.setState({open:!1,style:null})},n.checkClick=function(t){var e=a.a.findDOMNode(n),r=t.target;!e.contains(r)&&n.state.open&&n.close()},n.adjustStyle=function(){var t=a.a.findDOMNode(n);if(!c.b&&!c.a||!t.querySelector(".menu--submenu")){var e=t.lastElementChild.getBoundingClientRect(),r=e.top,o=e.bottom,i={},s=window.innerHeight-50;o>s&&(i.maxHeight=s-r,i.overflowY="auto"),n.setState({style:i})}},n.state={open:!1,style:null},n}return u(e,t),e.prototype.componentDidMount=function(){this.bindClick()},e.prototype.componentDidUpdate=function(t,e){this.state.open&&!e.open?(this.props.onOpen&&this.props.onOpen(),this.adjustStyle()):!this.state.open&&e.open&&this.props.onClose&&this.props.onClose()},e.prototype.componentWillUnmount=function(){this.unbindClick()},e.prototype.render=function(){var t=this,e="menu "+(this.props.customClass?this.props.customClass:"")+" "+(this.state.open?"menu__open":"")+" "+(this.props.disabled?"disabled":"");return o.a.createElement(s.a.Provider,{value:{closeMenu:this.close}},o.a.createElement("div",{className:e},o.a.cloneElement(this.props.head,{onClick:function(e){var n=t.props.head.props.onClick;n&&n(e),t.toggleOpen()}}),this.state.open&&o.a.createElement("div",{className:"menu--body"},o.a.createElement("div",{className:"menu--content",style:this.state.style},this.renderChildren()))))},e.prototype.bindClick=function(){document.addEventListener("click",this.checkClick,!1)},e.prototype.unbindClick=function(){document.removeEventListener("click",this.checkClick,!1)},e.prototype.renderChildren=function(){var t=this.props.children;if("function"==typeof t){if(t.cache)return t.cache;var e=t();return t.cache=e,e}return t},e}(o.a.Component);e.a=l},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),o=n.n(r).a.createContext({closeMenu:function(){}})},function(t,e,n){"use strict";e.a=function(t){return{background:'url("'+t+'") center no-repeat'}}},function(t,e,n){"use strict";e.e=function(t){return t.reduce(function(t,e){if(function(t){return"object"===Object(o.default)(t)}(e)){var n=Object.keys(e);n.forEach(function(n){if(function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n))throw new Error('[mergeObjsExn]duplicate key "'+n+'" to merge into');t[n]=e[n]})}return t},{})},e.b=function(t){return function(e){return Object(r.e)("::"+Object(s.a)(t,e))}},e.a=function(t,e){return a()(function(e){return function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(void 0,n))}}(t,e)},e)};var r=n(87),o=n(62),i=n(137),a=n.n(i),s=n(262);n.d(e,"c",function(){return s.a}),n.d(e,"d",function(){return s.b})},function(t,e,n){var r=n(32),o=n(124),i=n(125);function a(t){var e=-1,n=t?t.length:0;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){var n=Object.keys;t.exports=function(t){return n(Object(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(48)("length");t.exports=r},function(t,e,n){var r=n(8)(n(5),"Set");t.exports=r},function(t,e,n){var r=n(83),o=n(31),i=n(26);t.exports=function(t,e){for(var n=0,a=(e=o(e,t)?[e]:r(e)).length;null!=t&&n<a;)t=t[i(e[n++])];return n&&n==a?t:void 0}},function(t,e,n){var r=n(4),o=n(178);t.exports=function(t){return r(t)?t:o(t)}},function(t,e,n){var r=n(95);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e){t.exports=Zepto},,function(t,e,n){"use strict";n.d(e,"c",function(){return i}),e.f=function(t){return t&&"_$Action$_"===t._$Action$_&&"string"==typeof t.type},e.b=a,e.i=function(t,e){var n=i(t);function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e?a(n,e.apply(void 0,t)):a(n)}return r.type=n,r},e.g=function(t){return t&&"_$ActionError$_"===t._$ActionError$_&&"string"==typeof t.action&&t.error instanceof Error},e.d=function(t,e){return{_$ActionError$_:"_$ActionError$_",action:t,error:e}},n.d(e,"e",function(){return s}),e.a=function(t){null==t._$EventCreator$_&&(t._$EventCreator$_=!0);return t},e.h=function(t){return t&&!0===t._$EventCreator$_};var r=n(225),o=n(262),i=r.c;function a(t,e){return{_$Action$_:"_$Action$_",type:i(Object(o.a)("",t)),payload:e}}var s=r.c},function(t,e,n){var r=n(17),o=n(36),i=n(6),a=n(42),s=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,l=c.hasOwnProperty,f=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!!i(t)&&(r(t)||o(t)?f:s).test(a(t))}},function(t,e){t.exports=function(t){return t&&t.Object===Object?t:null}},function(t,e,n){var r=n(8)(n(5),"DataView");t.exports=r},function(t,e,n){var r=n(8)(n(5),"Promise");t.exports=r},function(t,e,n){var r=n(8)(n(5),"WeakMap");t.exports=r},function(t,e,n){var r=n(6);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(49),o=1/0,i=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},,,function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(217),o=n(218)(r);t.exports=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(419));var o={placeholder:"curry"};function i(t,e){switch(arguments.length){case 0:return function(t){return i(t)};case 1:return"function"==typeof t?i(-1,t):function(e){return i(t,e)}}if("number"!=typeof t)throw new TypeError("[curry] first argument should be a number! given: "+t);if("function"!=typeof e)throw new TypeError("[curry] second argument should be a function! given: "+e);return 0===(t=t>-1?t:e.length)?e:function(){for(var n=arguments.length,a=t-n,s=n;--s>=0;)arguments[s]===o&&(a+=1);if(a<=0)return e.apply(this,arguments);var c=(0,r.default)(arguments);return i(a,function(){for(var t=(0,r.default)(arguments),i=[],a=-1;++a<n;){var s=c[a];i[a]=s===o?t.shift():s}return e.apply(this,i.concat(t))})}}i.$=o,e.default=i,t.exports=e.default},function(t,e){t.exports=function(){this.__data__=[]}},function(t,e,n){var r=n(20),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),0))}},function(t,e,n){var r=n(20);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(20);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?n.push([t,e]):n[o][1]=e,this}},function(t,e,n){var r=n(19);t.exports=function(){this.__data__=new r}},function(t,e){t.exports=function(t){return this.__data__.delete(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(19),o=n(32),i=200;t.exports=function(t,e){var n=this.__data__;return n instanceof r&&n.__data__.length==i&&(n=this.__data__=new o(n.__data__)),n.set(t,e),this}},function(t,e,n){var r=n(112),o=n(19),i=n(45);t.exports=function(){this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(113),o=n(114),i=n(115),a=n(116),s=n(117);function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(21);t.exports=function(){this.__data__=r?r(null):{}}},function(t,e){t.exports=function(t){return this.has(t)&&delete this.__data__[t]}},function(t,e,n){var r=n(21),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(21),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(21),o="__lodash_hash_undefined__";t.exports=function(t,e){return this.__data__[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(22);t.exports=function(t){return r(this,t).delete(t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(22);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(22);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(22);t.exports=function(t,e){return r(this,t).set(t,e),this}},function(t,e,n){var r=n(44),o=n(51),i=n(126),a=n(127),s=n(38),c=n(4),u=n(36),l=n(128),f=2,p="[object Arguments]",h="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,b,g){var m=c(t),w=c(e),_=h,O=h;m||(_=(_=s(t))==p?d:_),w||(O=(O=s(e))==p?d:O);var j=_==d&&!u(t),S=O==d&&!u(e),x=_==O;if(x&&!j)return g||(g=new r),m||l(t)?o(t,e,n,y,b,g):i(t,e,_,n,y,b,g);if(!(b&f)){var E=j&&v.call(t,"__wrapped__"),k=S&&v.call(e,"__wrapped__");if(E||k){var P=E?t.value():t,C=k?e.value():e;return g||(g=new r),n(P,C,y,b,g)}}return!!x&&(g||(g=new r),a(t,e,n,y,b,g))}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(46),o=n(71),i=n(51),a=n(47),s=n(58),c=1,u=2,l="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",d="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",w="[object DataView]",_=r?r.prototype:void 0,O=_?_.valueOf:void 0;t.exports=function(t,e,n,r,_,j,S){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!r(new o(t),new o(e)));case l:case f:return+t==+e;case p:return t.name==e.name&&t.message==e.message;case d:return t!=+t?e!=+e:t==+e;case v:case b:return t==e+"";case h:var x=a;case y:var E=j&u;if(x||(x=s),t.size!=e.size&&!E)return!1;var k=S.get(t);return k?k==e:(j|=c,S.set(t,e),i(x(t),x(e),r,_,j,S));case g:if(O)return O.call(t)==O.call(e)}return!1}},function(t,e,n){var r=n(40),o=n(10),i=2;t.exports=function(t,e,n,a,s,c){var u=s&i,l=o(t),f=l.length;if(f!=o(e).length&&!u)return!1;for(var p=f;p--;){var h=l[p];if(!(u?h in e:r(e,h)))return!1}var d=c.get(t);if(d)return d==e;var v=!0;c.set(t,e);for(var y=u;++p<f;){var b=t[h=l[p]],g=e[h];if(a)var m=u?a(g,b,h,e,t,c):a(b,g,h,t,e,c);if(!(void 0===m?b===g||n(b,g,a,s,c):m)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return c.delete(t),v}},function(t,e,n){var r=n(15),o=n(9),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var a=Object.prototype.toString;t.exports=function(t){return o(t)&&r(t.length)&&!!i[a.call(t)]}},function(t,e){t.exports=function(t){return null==t}},,,function(t,e){t.exports=function(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},,,,function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(100)),o=i(n(269));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(2,function(t,e){var n={};return(0,o.default)(function(e,r,o){n[r]=t(e,r,o)},e),n}),t.exports=e.default},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(343);e.clone=function(t){return"object"!=typeof t||null===t?t:o(t,function(t){if("object"==typeof t&&t&&"function"==typeof t.clone)return t.clone()})},e.freeze=function(t){return t},e.isFrozen=function(t){return!1};var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ops=e,this.index=0,this.offset=0}return r(t,[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(t){t||(t=1/0);var e=this.ops[this.index];if(!e)return null;var n=this.offset,r=e.length;if(0===n&&r===t)return this.index+=1,e;t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t;var o={action:e.action,attributes:e.attributes};switch(e.action){case"remove":o.data=t;break;case"retain":if("number"==typeof e.data)o.data=t;else{if("string"==typeof e.data)throw new Error("retain with a string is not allowed");o.data=e.data}break;case"insert":"string"==typeof e.data?o.data=e.data.substr(n,t):"number"==typeof e.data?o.data=t:o.data=e.data}return e.createInstance(o)}},{key:"peekLength",value:function(){var t=this.ops[this.index];return t?t.length-this.offset:1/0}},{key:"peekAction",value:function(){var t=this.ops[this.index];return t?t.action:"retain"}}]),t}();e.OperatorIterator=i,e.parsePosition=function(t){for(var e=0,n=0,r=0;r<t.length;r++){var o=t[r].charCodeAt(0);if(o>=65&&o<=90)n=26*n+o-64;else{if(!(o>=48&&o<=57))throw new Error("Invalid cell position "+t);e=10*e+o-48}}return{row:e-1,col:n-1}},e.stringifyPosition=function(t,e){if(!(t>=0&&e>=0))throw new Error("Invalid cell position "+t+":"+e);for(var n=e+1,r="";n>0;){var o=(n-1)%26;r=String.fromCharCode(65+o)+r,n=Math.floor((n-o)/26)}return r+(t+1)}},function(t,e,n){var r=n(71);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},,,,,function(t,e,n){"use strict";function r(){return!0}function o(t){return void 0===t?o.CreateStream():o.CreateStream(t)}Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e,n=[],o=[],i=-1,a=!1,s={on:function(t,e){return c(function(t){e(t.val)},[t]),t},log:function(t,e){return c(function(){e=e||"",function(t,e){Object(e)===e?(console.log(t+"--\x3e\n"),console.log(e),console.log("<--"+t)):console.log(t+" - "+e)}("["+t.id+"]"+e,t.val)},[t]),c(function(){e=e?e+" - ":"",console.log("["+t.id+"]"+e+"stream<End>")},[t.end]),t}};function c(t,e){for(var n=e.length,o=l([],r),i=[],a=[],s=0;s<n;s++){var c=e[s];void 0!==c&&(i.push(c),void 0!==c.end&&a.push(c.end))}var u=l(i,t);return u.depsChanged=[],u.fnArgs=u.deps.concat([u,u.depsChanged]),u.end=o,o.listeners.push(u),v(a,o),o.deps=a,f(u),u}function u(){var t=Object.keys(s);var r=function(t){return 0===arguments.length?r.val:(function(t,r){t.val=r,t.hasVal=!0,t.lastTimestamp=(new Date).getTime(),void 0===e?(a=!0,p(t),n.length>0?d():a=!1):e===t?function(t,e){for(var n=e.length,r=0;r<n;r++){var o=e[r];o.end!==t?(void 0!==o.depsChanged&&o.depsChanged.push(t),o.shouldUpdate=!0):b(o)}}(t,t.listeners):(t.vals.push(r),n.push(t))}(r,t),r)};return r._$type$_="r$",r.hasVal=!1,r.val=void 0,r.vals=[],r.listeners=[],r.queued=!1,r.end=void 0,r.toString=function(){return function(t){return"stream["+t.id+"]('"+t.val+"')"}(r)},t.length&&t.forEach(function(t){r[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s[t].apply(s,[r].concat(e))}}),r}function l(t,e){var n=u();return n.fn=e,n.deps=t,n.depsMet=!1,n.depsChanged=t.length>0?[]:void 0,n.shouldUpdate=!1,v(t,n),n}function f(t){if(!(void 0===t.fn||!0!==t.depsMet&&function(t){return t.depsMet=t.deps.every(function(t){return t.hasVal}),!t.depsMet}(t)||void 0!==t.end&&!0===t.end.val))if(void 0===e){var r;e=t,t.depsChanged&&(t.fnArgs[t.fnArgs.length-1]=t.depsChanged);try{r=t.fn.apply(t.fn,t.fnArgs)}catch(t){r=t instanceof Error?t:new Error("[rstream unknown error]:"+t)}void 0!==r&&t(r),e=void 0,void 0!==t.depsChanged&&(t.depsChanged.length=0),t.shouldUpdate=!1,!1===a&&d()}else n.push(t)}function p(t){var e,n,r,a,s=t.listeners;for(e=0,n=s.length;e<n;e++)(a=s[e]).end===t?b(a):(void 0!==a.depsChanged&&t.hasVal&&a.depsChanged.push(t),a.shouldUpdate=!0,h(a));for(;i>=0;--i)!0===(r=o[i]).shouldUpdate&&f(r),r.queued=!1}function h(t){var e,n,r=t.listeners;if(!1===t.queued){for(t.queued=!0,e=0,n=r.length;e<n;e++)h(r[e]);o[++i]=t}}function d(){for(a=!0;n.length>0;){var t=n.shift();t.vals.length>0&&(t.val=t.vals.shift()),p(t)}a=!1}function v(t,e){t.forEach(function(t){t.listeners.push(e)})}function y(t){t.deps.forEach(function(e){!function(t,e){var n=e.indexOf(t);n>-1&&(e[n]=e[e.length-1],e.length-=1)}(t,e.listeners)}),t.deps.length=0}function b(t){void 0!==t.deps&&y(t),void 0!==t.end&&y(t.end)}t.CreateStream=function(t){var e=l([],r),n=u();return n.end=e,n.fnArgs=[],e.listeners.push(n),arguments.length>0&&n(t),n},t.combine=c,t.isStream=function(t){return function(t){return!!(t&&t.constructor&&t.call&&t.apply)}(t)&&"r$"===t._$type$_},t.immediate=function(t){var e=t;return!1===e.depsMet&&(e.depsMet=!0,f(e)),t},t.endsOn=function(t,e){var n=e.end,r=t;return y(n),r.listeners.push(n),n.deps.push(r),e}}(o||(o={})),e.default=o},function(t,e,n){var r=n(165);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(6),o=n(186),i=n(49),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){var u,l,f,p,h,d=0,v=0,y=!1,b=!1,g=!0;if("function"!=typeof t)throw new TypeError(a);function m(e){var n=u,r=l;return u=l=void 0,v=e,p=t.apply(r,n)}function w(t){var n=t-d;return!d||n>=e||n<0||b&&t-v>=f}function _(){var t=o();if(w(t))return O(t);h=setTimeout(_,function(t){var n=e-(t-d);return b?c(n,f-(t-v)):n}(t))}function O(t){return clearTimeout(h),h=void 0,g&&u?m(t):(u=l=void 0,p)}function j(){var t=o(),n=w(t);if(u=arguments,l=this,d=t,n){if(void 0===h)return function(t){return v=t,h=setTimeout(_,e),y?m(t):p}(d);if(b)return clearTimeout(h),h=setTimeout(_,e),m(d)}return void 0===h&&(h=setTimeout(_,e)),p}return e=i(e)||0,r(n)&&(y=!!n.leading,f=(b="maxWait"in n)?s(i(n.maxWait)||0,e):f,g="trailing"in n?!!n.trailing:g),j.cancel=function(){void 0!==h&&clearTimeout(h),d=v=0,u=l=h=void 0},j.flush=function(){return void 0===h?p:O(o())},j}},function(t,e,n){var r=n(187)();t.exports=r},function(t,e){t.exports=function(t){return t}},,function(t,e,n){var r=n(29),o=n(11),i=n(24),a=n(6);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(152),o=n(153),i=n(154);t.exports=function(){function t(t,e,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";var r=function(t){};t.exports=function(t,e,n,o,i,a,s,c){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,i,a,s,c],f=0;(u=new Error(e.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(73),a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onOpen=function(t){e.props.onOpen&&e.props.onOpen(),t&&(t.markAsOld(),e.forceUpdate())},e}return a(e,t),e.prototype.render=function(){var t=function(t){return t?(t instanceof Array?t:[t]).find(function(t){return t.visible}):void 0}(this.props.feature),e=t&&t.tooltip;return o.a.createElement(i.a,{head:o.a.createElement("span",{className:"tabMenuHead"},this.props.tabName(),e),customClass:"tabMenu",disabled:this.props.disabled,onOpen:this.onOpen.bind(this,t)},this.props.children)},e}(o.a.Component);e.a=s},function(t,e,n){"use strict";e.a=function(t){return o.a.createElement(i.a,{head:o.a.cloneElement(t.head,{className:"dropMenuHead indicator "+(t.head.props.className||"")}),disabled:t.disabled,customClass:t.customClass,onClose:t.onClose,onOpen:t.onOpen},t.children)};var r=n(0),o=n.n(r),i=n(73)},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(16),a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.showSubMenu=function(){n.setState({showSubMenu:!0})},n.hideSubMenu=function(t){n.notReallyLeaveMe(t)||n.setState({showSubMenu:!1,style:null})},n.adjustStyle=function(){var t=window.innerHeight,e=window.innerWidth,r=n.refs.itemDom,o=n.refs.contentDom.getBoundingClientRect(),i=o.right,a=o.height,s=r.getBoundingClientRect(),c=s.bottom,u=s.left,l=s.right,f=s.top,p=n.getRefPosition(),h=p.left,d=p.top,v={position:"fixed",transform:"translateX(0)",left:l-1-h,top:f-d},y=c-78,b=t-c-30;a>b&&(a<y||b/t<.25?(v.maxHeight=y,v.top=c-Math.min(a,y)-d,a>y&&(v.overflowY="auto")):(v.maxHeight=b,v.overflowY="auto")),e-i<50&&(v.left=u-h,v.transform="translateX(-100%)"),n.setState({style:v})},n.state={showSubMenu:!1,style:null},n}return a(e,t),e.prototype.componentDidUpdate=function(t,e){this.state.showSubMenu&&!e.showSubMenu&&this.adjustStyle()},e.prototype.render=function(){return o.a.createElement("div",{ref:"containerDom",className:"menu--submenu",onMouseLeave:this.hideSubMenu},o.a.createElement("div",{ref:"itemDom",className:"menuItem "+(this.props.disabled?"disabled":""),onMouseEnter:this.showSubMenu},void 0!==this.props.icon&&o.a.createElement("span",{className:"menuItem--icon "+(this.props.icon?"icon--"+this.props.icon:"")}),o.a.createElement("span",{className:"menuItem--text"},this.props.text),o.a.createElement("span",{className:"menuItem--placer"}),o.a.createElement("span",{className:"menuItem--arrow"})),this.state.showSubMenu&&o.a.createElement("div",{ref:"contentDom",className:"menu--content menu--content__submenu",style:this.state.style},this.props.children))},e.prototype.getRefPosition=function(){if(i.b)return{left:0,top:0};for(var t=this.refs.containerDom;t.parentElement;){var e=getComputedStyle(t);if("static"!==e.position&&"none"!==e.transform)break;t=t.parentElement}var n=t.getBoundingClientRect(),r=n.left;return{top:n.top,left:r}},e.prototype.notReallyLeaveMe=function(t){var e=t.pageX,n=t.pageY,r=this.refs.itemDom.getBoundingClientRect(),o=r.left,i=r.top,a=r.right,s=r.bottom;return e>o&&e<a&&n>i&&n<s},e}(o.a.Component);e.a=s},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(74),a=n(75),s=n(16),c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){var t=this,e="fake"===this.props.disabled?"fakeDisabled":this.props.disabled?"disabled":"",n=this.props.customClass||"";return o.a.createElement(i.a.Consumer,null,function(r){return o.a.createElement("div",{className:"menuItem tooltip--docker "+e+" "+n+" "+t.props.className,onClick:function(){return t.onClick(r)}},void 0!==t.props.checked&&o.a.createElement("span",{className:"menuItem--check "+(t.props.checked?"menuItem--check__checked":"")}),void 0!==t.props.icon&&t.getIcon(t.props.icon),t.props.text&&o.a.createElement("span",{className:"menuItem--text"},t.props.text),t.props.text&&o.a.createElement("span",{className:"menuItem--placer"}),t.props.children)})},e.prototype.onClick=function(t){!this.props.disabled&&this.props.onTap&&this.props.onTap(),setTimeout(function(){return t.closeMenu()})},e.prototype.getIcon=function(t){return Object(s.c)(t)?o.a.createElement("span",{className:"menuItem--icon",style:Object(a.a)(t)}):o.a.createElement("span",{className:"menuItem--icon "+(t?"icon--"+t:"")})},e}(o.a.Component);e.a=u},function(t,e,n){"use strict";e.a=function(){return o.a.createElement("div",{className:"menu--divider"})};var r=n(0),o=n.n(r)},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(16),a=n(75),s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onTap=function(){e.props.onTap&&e.props.onTap()},e}return s(e,t),e.prototype.render=function(){var t="toolBar--iconBtn "+(this.props.disabled?"disabled":"")+" "+(this.props.selected?"selected":"")+" indicator";return this.props.children?o.a.createElement("span",{className:t+" tooltip--docker",onClick:this.onTap},this.getIcon(this.props.icon)):this.props.tooltip?o.a.createElement("span",{className:t,"data-tooltip":this.props.tooltip,onClick:this.onTap},this.getIcon(this.props.icon)):o.a.createElement("span",{className:t,onClick:this.onTap},this.getIcon(this.props.icon))},e.prototype.getIcon=function(t){return Object(i.c)(t)?o.a.createElement("span",{style:Object(a.a)(t)},this.props.children):o.a.createElement("span",{className:"toolBar--icon icon--"+t},this.props.children)},e}(o.a.Component);e.a=c},function(t,e,n){"use strict";e.a=function(t){return t.option?o.a.createElement("span",{className:"tooltip tooltip__"+(t.direction||"down")},o.a.createElement("span",null,t.option),t.detail&&o.a.createElement("br",null),t.detail&&o.a.createElement("span",null,t.detail)):null};var r=n(0),o=n.n(r)},function(t,e,n){"use strict";e.d=function(t){return o.a.createElement("span",{className:u(t,"toolBar--tool")},t.children)},n.d(e,"c",function(){return l}),e.a=function(t){return o.a.createElement("span",{className:u(t,"toolBar--iconDropTool indicator "+(t.selected?"fakeIndicator":""))},t.children)},e.b=function(t){return o.a.createElement("span",{className:u(t,"toolBar--tool toolBar--tool__oneline")},t.children)},e.e=function(t){return o.a.createElement("span",{className:u(t,"toolBar--tool toolBar--tool__twolines")},t.children)};var r=n(0),o=n.n(r),i=n(16),a=n(27),s=n.n(a),c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function u(t,e){var n,r=t.disabled,o=t.customClass;return s()(((n={})[e]=!0,n[o||""]=o,n.disabled=r,n))}var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delegateClick=function(t){var n=e.refs.textTool,r=n.lastElementChild;if(t.target===n||t.target===r){var o=n.querySelector(".toolBar--icon");setTimeout(function(){return Object(i.e)(o)})}},e}return c(e,t),e.prototype.render=function(){return o.a.createElement("span",{ref:"textTool",className:u(this.props,"toolBar--tool toolBar--textTool"),onClick:this.delegateClick},this.props.children)},e}(o.a.Component)},,function(t,e,n){var r=n(173)(n(10));t.exports=r},function(t,e,n){var r=n(46),o=n(18),i=1/0,a=r?r.prototype:void 0,s=a?a.toString:void 0;t.exports=function(t){if("string"==typeof t)return t;if(o(t))return s?s.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(150),o=n(72);t.exports=function(t){return o(function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&r(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++o<i;){var c=n[o];c&&t(e,c,o,a)}return e})}},,function(t,e,n){var r=n(171),o=n(172),i=n(94);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(44),o=n(53),i=1,a=2;t.exports=function(t,e,n,s){var c=n.length,u=c,l=!s;if(null==t)return!u;for(t=Object(t);c--;){var f=n[c];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++c<u;){var p=(f=n[c])[0],h=t[p],d=f[1];if(l&&f[2]){if(void 0===h&&!(p in t))return!1}else{var v=new r;if(s)var y=s(h,d,p,t,e,v);if(!(void 0===y?o(d,h,s,i|a,v):y))return!1}}return!0}},function(t,e,n){var r=n(93),o=n(164);t.exports=function(t){for(var e=o(t),n=e.length;n--;)e[n][2]=r(e[n][1]);return e}},function(t,e,n){var r=n(174),o=n(38),i=n(47),a=n(175),s="[object Map]",c="[object Set]";t.exports=function(t){return function(e){var n=o(e);return n==s?i(e):n==c?a(e):r(e,t(e))}}},function(t,e,n){var r=n(61);t.exports=function(t,e){return r(e,function(e){return[e,t[e]]})}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}},function(t,e,n){var r=n(53),o=n(177),i=n(180),a=n(31),s=n(93),c=n(94),u=n(26),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,void 0,l|f)}}},function(t,e,n){var r=n(82);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(179),o=n(145),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g,s=r(function(t){var e=[];return o(t).replace(i,function(t,n,r,o){e.push(r?o.replace(a,"$1"):n||t)}),e});t.exports=s},function(t,e,n){var r=n(32),o="Expected a function";function i(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(181),o=n(182);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return e in Object(t)}},function(t,e,n){var r=n(83),o=n(33),i=n(4),a=n(24),s=n(31),c=n(15),u=n(34),l=n(26);t.exports=function(t,e,n){for(var f,p=-1,h=(e=s(e,t)?[e]:r(e)).length;++p<h;){var d=l(e[p]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||!!(h=t?t.length:0)&&c(h)&&a(d,h)&&(i(t)||u(t)||o(t))}},function(t,e,n){var r=n(48),o=n(184),i=n(31),a=n(26);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(82);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e){var n=Date.now;t.exports=n},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}},function(t,e,n){"use strict";(function(e){var r=n(23),o=n(328),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(234):void 0!==e&&(t=n(234)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(i)}),t.exports=s}).call(e,n(167))},,,,,,,,,,,,,,,,,function(t,e,n){var r=n(271);t.exports=function(t){return r(t,!0,!0)}},function(t,e){var n=Object.getOwnPropertySymbols;function r(t){return n(Object(t))}n||(r=function(){return[]}),t.exports=r},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,r||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,a){var s=o?o+t:t;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!c)for(p=1,c=new Array(f-1);p<f;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},c.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||r&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},,,function(t,e,n){"use strict";var r=n(309),o=n(342);e.Attribute=n(211),e.Delta=n(212);var i={TableOperator:n(479),CellOperator:n(323),TextOperator:n(481),Operator:n(213)};r(e,i),e.pack=function(t){if("function"==typeof t.toJSON)return JSON.stringify(t);throw new Error("Only delta can be packed")},e.unpack=function(t){return e.Delta.unpack(JSON.parse(t))},e.print=function(t){t.print(!0)};var a=o(Object.keys(i),function(t,e){var n=i[e];return t[n.packId]=n,t},{});function s(t){var e=t[0].toString(),n=e[e.length-1];return a[e.slice(0,e.length-1)].unpack([n,t[1],t[2]])}e.Delta.operatorUnpacker=s,Object.keys(i).forEach(function(t){i[t].operatorUnpacker=s});var c=n(138);e.parsePosition=c.parsePosition,e.stringifyPosition=c.stringifyPosition},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=[{name:"color"},{name:"background"},{name:"font-size"},{name:"width"},{name:"height"},{name:"rowspan"},{name:"colspan"},{name:"align",values:["left","center","right","justify"]},{name:"bold",values:[!1,!0]},{name:"italic",values:[!1,!0]},{name:"underline",values:[!1,!0]},{name:"vertical",values:["top","middle","bottom"]},{name:"strike",values:[!1,!0]},{name:"wrap",values:["text-wrap","text-no-wrap","text-linebreak-overflow"]},{name:"fixedRowsTop"},{name:"fixedColumnsLeft"},{name:"link"},{name:"format",values:["normal","0,0","0,0.00","0%","0.00%","0.00E+00","(0,0)","(0,0.00)","¥0,0","¥0,0.00","$0,0","$0,0.00","YYYY/MM/DD","YYYY-MM-DD","HH:mm:ss","YYYY/MM/DD HH:mm:ss","¥ (#,##0)","¥ (#,##0.00)","@","#,##0.0_);[Red](#,##0.0)","#,##0.0_);(#,##0.0)","#,##0.0;[Red]#,##0.0","#,##0.0_ ","#,##0.0_ ;[Red]-#,##0.0 ","#,##0_);[Red](#,##0)","#,##0_);(#,##0)","#,##0;[Red]#,##0","#,##0_ ","#,##0_ ;[Red]-#,##0 ","0.0_);[Red](0.0)","0.0_);(0.0)","0.0;[Red]0.0","0.0_ ","0.0_ ;[Red]-0.0 ","0_);[Red](0)","0_);(0)","0;[Red]0","0_ ","0_ ;[Red]-0 ","0.0%",'"$"#,##0.0_);[Red]("$"#,##0.0)','"¥"#,##0.0_);[Red]("¥"#,##0.0)','"$"#,##0.0_);("$"#,##0.0)','"¥"#,##0.0_);("¥"#,##0.0)','"$"#,##0.0;[Red]"$"#,##0.0','"¥"#,##0.0;[Red]"¥"#,##0.0','"$"#,##0.0','"¥"#,##0.0','"$"#,##0.0;[Red]-"$"#,##0.0','"¥"#,##0.0;[Red]-"¥"#,##0.0','"$"#,##0_);[Red]("$"#,##0)','"¥"#,##0_);[Red]("¥"#,##0)','"$"#,##0_);("$"#,##0)','"¥"#,##0_);("¥"#,##0)','"$"#,##0;[Red]"$"#,##0','"¥"#,##0;[Red]"¥"#,##0','"$"#,##0','"¥"#,##0','"$"#,##0;[Red]-"$"#,##0','"¥"#,##0;[Red]-"¥"#,##0','_("$"* #,##0.0_);_("$"* (#,##0.0);_("$"* "-"??_);_(@_)','_("¥"* #,##0.0_);_("¥"* (#,##0.0);_("¥"* "-"??_);_(@_)','_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)','_("¥"* #,##0_);_("¥"* (#,##0);_("¥"* "-"_);_(@_)',"yyyy/m/d","yyyy/mm/dd;@","yyyy-mm-dd;@","yy/mm/dd;@","yy-mm-dd;@","mm/dd;@","mm-dd;@","yyyy-m-d;@","yy/m/d;@","yy-m-d;@","m/d;@","m-d;@","m/d/yy;@","mm/dd/yy;@","d;@","dd;@",'yyyy"年"m"月"d"日" aaaa','yyyy"年"m"月"d"日";@','yyyy"年"m"月";@','m"月"d"日";@','[$-804]yyyy"年"mm"月"dd"日" aaaa;@','yyyy"年"mm"月"dd"日";@','yyyy"年"mm"月";@','mm"月"dd"日";@','m"月";@','mm"月";@','[DBNum1][$-804]m"月";@',"[$-804]aaaa;@","[$-804]aaa;@",'[DBNum1][$-804]yyyy"年"m"月"d"日";@','[DBNum1][$-804]yyyy"年"m"月";@','[DBNum1][$-804]m"月"d"日";@',"[$-409]d-mmm;@","[$-409]d-mmm-yy;@","[$-409]dd-mmm-yy;@","[$-409]mmm-yy;@","[$-409]mmmm-yy;@","[$-409]mmmmm;@","[$-409]mmmmm-yy;@","[$-409]yyyy/mm/dd h:mm AM/PM;@","yyyy/mm/dd hh:mm;@","[$-409]yyyy/m/d h:mm AM/PM;@","yyyy/m/d h:mm;@","[$-409]yyyy/mm/dd h:mm:ss AM/PM;@","yyyy/mm/dd hh:mm:ss;@","[$-409]yyyy/m/d h:mm:ss AM/PM;@","yyyy/m/d h:mm:ss;@","h:mm:ss;@","h:mm;@","AM/PM h:mm:ss",'上午/下午h"时"mm"分"ss"秒";@','上午/下午h"时"mm"分";@','[DBNum1][$-804]h"时"mm"分";@','[DBNum1][$-804]上午/下午h"时"mm"分";@',"[$-409]h:mm AM/PM;@","[$-409]h:mm:ss AM/PM;@",'h"时"mm"分";@','h"时"mm"分"ss"秒";@',"# ?/?","# ??/??","# ???/???","# ?/2","# ?/4","# ?/8","# ??/16","# ?/10","# ??/100","0.0E+00","0E+00","000000","[DBNum1][$-804]General","[DBNum2][$-804]General"]},{name:"formula"},{name:"filter"},{name:"border-top"},{name:"border-right"},{name:"border-bottom"},{name:"border-left"},{name:"line"},{name:"guid"},{name:"author"},{name:"size"},{name:"list"},{name:"layout",values:["embed","block"]},{name:"margin",values:["none","small","medium","large"]},{name:"font",values:["serif","monospace","microsoftyahei","simsun","kaiti","simhei","fangsong","droid","source","arial"]},{name:"header"},{name:"indent"},{name:"comment"},{name:"comment-block"},{name:"code-block",values:[!0]},{name:"cellValue"},{name:"precision"},{name:"autoFormatter",values:["#,##0_);[Red](#,##0)","#,##0.00_);[Red](#,##0.00)",'"¥"#,##0_);[Red]("¥"#,##0)','"¥"#,##0.00_);[Red]("¥"#,##0.00)','"$"#,##0_);[Red]("$"#,##0)','"$"#,##0.00_);[Red]("$"#,##0.00)',"0%","0.00%","# ??/??","0.00E+00","yyyy/m/d",'m"月"d"日";@','yyyy"年"m"月"d"日";@','yyyy"年"m"月";@',"[$-409]yyyy/mm/dd h:mm:ss AM/PM;@","[$-409]yyyy/mm/dd h:mm AM/PM;@","yyyy/mm/dd hh:mm:ss;@","h:mm;@","[$-409]h:mm AM/PM;@","h:mm:ss;@","[$-409]h:mm:ss AM/PM;@",'h"时"mm"分";@','h"时"mm"分"ss"秒";@','[$-804]AM/PMh"时"mm"分";@','[$-804]AM/PMh"时"mm"分"ss"秒";@',"[$-409]mmm-yy;@","h:mm:ss.0;@","[$-409]h:mm:ss.0 AM/PM;@","yyyy/mm/dd hh:mm;@","yyyy/mm/dd hh:mm:ss.0;@"]}],i=o.reduce(function(t,e,n){return e.index=n,t[e.name]=e,t},{});t.exports={pack:function(t){if("object"==typeof t&&null!==t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(void 0!==r){var o=i[n];if(o&&(n=o.index,o.values&&null!==r)){var a=o.values.indexOf(r);if(-1!==a)r=a;else if(17!==n)continue}e.push(null===r?n:n+":"+JSON.stringify("string"==typeof r?encodeURIComponent(r):r))}}return e.sort().join("|")}},unpack:function(t){if("string"!=typeof t)return{};for(var e={},n=t.split("|"),i=0;i<n.length;i++){var a=n[i].split(":"),s=r(a,2),c=s[0],u=s[1],l=o[c];if(u){var f=typeof(u=JSON.parse(u));"string"===f&&(u=decodeURIComponent(u)),l&&(c=l.name,l.values&&"number"===f&&void 0!==l.values[u]&&(u=l.values[u]))}else l&&(c=l.name),u=null;e[c]=u}return e},merge:function(t,e,n){if(n&&!t)return e;if(!e)return t;for(var r in t=this.unpack(t),e=this.unpack(e))e.hasOwnProperty(r)&&(t[r]=e[r],n||null!==t[r]||delete t[r]);return this.pack(t)},invert:function(t,e){if(e){if(!t)return e.split("|").map(function(t){var e=t.indexOf(":");return-1===e?t:t.slice(0,e)}).join("|");for(var n in t=this.unpack(t),e=this.unpack(e))e.hasOwnProperty(n)&&(void 0!==t[n]?e[n]=t[n]:e[n]=null);return this.pack(e)}},transform:function(t,e,n){if(n)return e;if(e){if(!t)return e;for(var r in t=this.unpack(t),e=this.unpack(e))e.hasOwnProperty(r)&&void 0!==t[r]&&delete e[r];return this.pack(e)}},diff:function(t,e){if(!t)return e;t=this.unpack(t),e&&(e=this.unpack(e));for(var n={},r=!0,o=e?Object.keys(t).concat(Object.keys(e)):Object.keys(t),i=0;i<o.length;i++){var a=o[i],s=e?e[a]:void 0;t[a]!==s&&(r=!1,n[a]=void 0===s?null:s)}return r?void 0:this.pack(n)}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(138),i=n(344),a=n(345),s=String.fromCharCode(0),c=n(211),u=n(348),l=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ops=[],Array.isArray(e)){for(var r=0;r<e.length;r++)this.pushWithMutations(e[r]);n&&this.chopWithMutations()}else"function"==typeof e&&e(this);o.freeze(this)}return r(t,[{key:"freeze",value:function(){o.freeze(this.ops)}},{key:"createCleaner",value:function(){for(var e=[],n=0;n<this.ops.length;n++){var r=this.ops[n],o=r.createInstance({action:"remove",data:r.length});e.push(o)}return new t(e)}},{key:"clone",value:function(){return new t(this.ops.map(o.clone))}},{key:"toJSON",value:function(){return this.ops}},{key:"pack",value:function(){return this.ops.map(function(t){return t.pack()})}},{key:"isDocument",value:function(){for(var t=0;t<this.ops.length;t++)if("insert"!==this.ops[t].action)return!1;return!0}},{key:"isEmpty",value:function(){return 0===this.ops.length}},{key:"_genericPush",value:function(t,e){var n=t.length,r=t[n-1];if(r&&"remove"===r.action&&"insert"===e.action&&(r=t[(n-=1)-1]),!r)return t.unshift(e),t;var o=e.merge(r);return o?t[n-1]=o:n===t.length?t.push(e):t.splice(n,0,e),t}},{key:"push",value:function(e){if(!e.length)return this;var n=this.ops.slice(0);if(Array.isArray(e)){for(var r=!1,o=0;o<e.length;o++)e[o].length&&(r=!0,n=this._genericPush(n,e[o]));if(!r)return this}else n=this._genericPush(n,e);return new t(n)}},{key:"pushWithMutations",value:function(t){return t.length&&this._genericPush(this.ops,t),this}},{key:"concat",value:function(e){var n=this;return e.ops.length?this.ops.length?new t(function(t){t.ops=n.ops.slice(),t.pushWithMutations(e.ops[0]),e.ops.length>1&&(t.ops=t.ops.concat(e.ops.slice(1)))}):e:this}},{key:"_genericChop",value:function(t){for(;t.length&&t[t.length-1].isEmpty();)t.pop();return t}},{key:"chop",value:function(){return new t(this._genericChop(this.ops.slice(0)))}},{key:"chopWithMutations",value:function(){return this._genericChop(this.ops),this}},{key:"slice",value:function(e,n){e=e||0,"number"!=typeof n&&(n=1/0);for(var r=[],o=this.getIter(),i=0;i<n&&o.hasNext();){var a=void 0;i<e?a=o.next(e-i):(a=o.next(n-i),r.push(a)),i+=a.length}return new t(r)}},{key:"getIter",value:function(){return new o.OperatorIterator(this.ops)}},{key:"validate",value:function(){for(var t={},e=0;e<this.ops.length;e++){var n=this.ops[e];if(n&&"TableOperator"===n.name()){var r=n.getAttributes().name;if(!r)continue;var o="$$"+r+"$$";if(t.hasOwnProperty(o))throw new Error("Duplicated table name found: "+r);t[o]=!0}}return this}},{key:"isTableADocument",value:function(){for(var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(n){var r=t.ops[n];if(r&&"TableOperator"===r.name()&&r.data.cells.some(function(t){var e=r.data.cells.get(t);return!(!e.data||"number"==typeof e.data||"function"!=typeof e.data.isDocument)&&!1===e.data.isDocument()},e))return{v:!1}},r=0;r<this.ops.length;r++){var o=n(r);if("object"==typeof o)return o.v}return!0}},{key:"compose",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getIter(),o=e.getIter(),i=[];r.hasNext()||o.hasNext();)if("insert"===o.peekAction())i.push(o.next());else if("remove"===r.peekAction())i.push(r.next());else{var a=Math.min(r.peekLength(),o.peekLength()),s=r.next(a),c=o.next(a);c&&"retain"!==c.action?s&&"retain"!==s.action||i.push(c):s?c?i.push(s.compose(c,n)):i.push(s):i.push(c)}var u=new t(i,!0);return n||u.validate(),u}},{key:"composePosition",value:function(t){for(var e=this.getIter(),n=0;e.hasNext()&&n<=t;){var r=e.peekLength(),o=e.peekAction();switch(e.next(),o){case"remove":if(r>t-n)return null;t-=r;continue;case"insert":t+=r}n+=r}return t}},{key:"invert",value:function(e){for(var n=this.getIter(),r=e.getIter(),o=[];r.hasNext();)if("insert"===r.peekAction()){var i=r.next(),a=i.createInstance({action:"remove",data:i.length});o.push(a)}else{if(!n.hasNext())throw new Error(this.constructor.name+" should be smaller than document");var s=Math.min(n.peekLength(),r.peekLength()),c=n.next(s),u=r.next(s);if("insert"!==c.action)throw new Error("Only document can invert deltas");"retain"===u.action?o.push(c.invert(u)):o.push(c)}return new t(o,!0)}},{key:"invertPosition",value:function(t){for(var e=this.getIter(),n=0;e.hasNext()&&n<=t;){var r=e.peekLength(),o=e.peekAction();switch(e.next(),o){case"insert":if(r>t-n)return null;t-=r;continue;case"remove":t+=r}n+=r}return t}},{key:"transform",value:function(e,n){for(var r=this.getIter(),o=e.getIter(),i=[];o.hasNext();)if("insert"!==r.peekAction()||!n&&"insert"===o.peekAction())if("insert"===o.peekAction())i.push(o.next());else{var a=Math.min(r.peekLength(),o.peekLength()),s=r.next(a),c=o.next(a);if(s&&"remove"===s.action)continue;c&&"remove"===c.action?i.push(c):s?i.push(s.transform(c,n)):i.push(c)}else{var u=r.next();i.push(u.createInstance({action:"retain",data:u.length}))}return new t(i,!0)}},{key:"transformPosition",value:function(t,e){for(var n=this.getIter(),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekAction();switch(n.next(),i){case"remove":t-=Math.min(o,t-r);continue;case"insert":(r<t||!e)&&(t+=o)}r+=o}return t}},{key:"toString",value:function(){for(var t="",e=0;e<this.ops.length;e++){var n=this.ops[e];if("insert"!==n.action)throw new Error("toString() called on non-document");t+="string"==typeof n.data?n.data:s}return t}},{key:"diff",value:function(e,n){if(this.ops===e.ops)return new t;if(!this.ops.length){if(!e.isDocument())throw new Error("diff() called on non-document");return e}for(var r=u(this.ops[0].createInstance,this.ops[0]),o=[],s=i(this.toString(),e.toString(),n),l=this.getIter(),f=e.getIter(),p=0,h=s.length;p<h;p++)for(var d=s[p],v=d[1].length;v>0;){var y=0;switch(d[0]){case i.INSERT:y=Math.min(f.peekLength(),v),o.push(f.next(y));break;case i.DELETE:y=Math.min(v,l.peekLength()),l.next(y),o.push(r({action:"remove",data:y}));break;case i.EQUAL:y=Math.min(l.peekLength(),f.peekLength(),v);var b=l.next(y),g=f.next(y);b.skipDiff()&&g.skipDiff()&&b.name()===g.name()||a(b.data,g.data)?o.push(r({action:"retain",data:y,attributes:c.diff(b.attributes,g.attributes)})):(o.push(g),o.push(r({action:"remove",data:y})))}v-=y}return new t(o,!0)}},{key:"print",value:function(t){console[t?"group":"groupCollapsed"]("Delta["+this.length+"] with "+this.ops.length+" operators"),this.ops.forEach(function(t){return t.print()}),console.groupEnd()}},{key:"length",get:function(){for(var t=0,e=0;e<this.ops.length;e++)t+=this.ops[e].length;return t}}],[{key:"unpack",value:function(t){var e=this;return new this(t.map(function(t){return e.operatorUnpacker(t)}))}}]),t}();l.packId=5,t.exports=l},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(212),a=n(138).clone,s=n(211),c=n(138),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setWithMutations(e);var n="Operator"!==this.name()&&this.isGeneric()?this.toGeneric():this;return c.freeze(n),n}return o(t,[{key:"name",value:function(){return"Operator"}},{key:"skipDiff",value:function(){return!1}},{key:"isGeneric",value:function(){var t=4===this.constructor.packId;return"number"==typeof this.data&&!t}},{key:"toGeneric",value:function(){return new t({action:this.action,data:this.data,attributes:this.attributes})}},{key:"clone",value:function(){var t=this.createInstance(this);return t.data=a(t.data),t}},{key:"_genericSet",value:function(t){var e={action:this.action,data:this.data,attributes:this.attributes},n=!1,r=t.action;if(r&&r!==e.action){if(n=!0,"insert"!==r&&"retain"!==r&&"remove"!==r)throw new Error('Action "'+r+'" is invalid');e.action=r}var o=t.data;if(null!=o&&o!==e.data){if(n=!0,"remove"===e.action&&("number"!=typeof o||o<0))throw new Error("Expect the data of remove action to be a positive number, got "+o);e.data=o}if(null==e.data)throw new Error("Expect data to have a non-empty value, got "+e.data);var i=t.attributes;if(i){var a=typeof i;if("object"===a)if(Object.keys(i).length){var c=s.pack(i);c&&e.attributes!==c&&(n=!0,e.attributes=c)}else e.attributes&&(n=!0,delete e.attributes);else"string"===a&&e.attributes!==i&&(n=!0,e.attributes=i)}return{changed:n,op:e}}},{key:"set",value:function(t){var e=this._genericSet(t),n=e.changed,r=e.op;return n?this.createInstance(r):this}},{key:"setWithMutations",value:function(t){var e=this._genericSet(t).op;return this.action=e.action,this.data=e.data,this.attributes=e.attributes,this}},{key:"createInstance",value:function(t){return new this.constructor(t)}},{key:"toJSON",value:function(){return this.pack()}},{key:"pack",value:function(){var t=void 0;switch(this.action){case"insert":t=0;break;case"remove":t=1;break;case"retain":t=2}var e="function"==typeof this.data.pack?this.data.pack():this.data,n=[Number(""+this.constructor.packId+t),e];return this.attributes&&n.push(this.attributes),n}},{key:"getEmbedObject",value:function(){throw new Error("#getEmbedObject() not implemented")}},{key:"isEmpty",value:function(){return"retain"===this.action&&!this.attributes&&"number"==typeof this.data}},{key:"getAttributes",value:function(){return s.unpack(this.attributes)}},{key:"merge",value:function(t){if(this.name()!==t.name())return!1;var e=typeof this.data;return!(this.action!==t.action||e!==typeof t.data||"number"!==e&&"string"!==e||this.attributes!==t.attributes)&&t.set({data:t.data+this.data})}},{key:"compose",value:function(t){if("remove"===this.action)throw new Error("Removing operator cannot compose other operators");if("retain"!==t.action)throw new Error("Only retaining operator can be composed");if(this.constructor.packId!==t.constructor.packId&&!this.isGeneric()&&!t.isGeneric())throw new Error('Failed to compose operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');var e=void 0;return e="function"==typeof this.data.compose&&t.data.constructor.packId===this.data.constructor.packId?this.data.compose(t.data):"number"==typeof this.data?t.data:this.data,(this.isGeneric()?t:this).createInstance({data:e,attributes:s.merge(this.attributes,t.attributes,"insert"!==this.action),action:this.action})}},{key:"invert",value:function(t){if("insert"!==this.action)throw new Error('invert should only apply to the "insert" action ('+this.constructor.name+")");if("retain"!==t.action)throw new Error("Only retaining operator can be inverted");if(this.constructor.packId!==t.constructor.packId&&!t.isGeneric())throw new Error('Failed to invert operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');var e=void 0;return e="function"==typeof this.data.invert&&t.data.constructor.packId===this.data.constructor.packId?this.data.invert(t.data):"number"==typeof t.data?t.data:this.data,this.createInstance({data:e,attributes:s.invert(this.attributes,t.attributes),action:"retain"})}},{key:"transform",value:function(t,e){if("retain"!==this.action)throw new Error("Only retaining operator can transform other operators");if("retain"!==t.action)throw new Error("Only retaining operator can be transformd");if(this.constructor.packId!==t.constructor.packId&&!t.isGeneric()&&!this.isGeneric())throw new Error('Failed to transform operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');return(this.isGeneric()?t:this).createInstance({attributes:s.transform(this.attributes,t.attributes,e),action:"retain",data:"function"==typeof this.data.transform&&"function"==typeof t.data.transform?this.data.transform(t.data,e):t.data})}},{key:"print",value:function(){var t=[this.action+": %c"+this.name(),"color: #51c6ed"];this.attributes&&(t[0]=t[0]+"%c, %O",t.push("font-weight: normal; color: #000",this.attributes.toJS())),console.groupCollapsed.apply(console,t),function t(e){"function"==typeof e.pack?e.print():"object"==typeof e?Object.keys(e).forEach(function(n){var r=e[n];console.groupCollapsed(n),t(r),console.groupEnd()}):console.log(e)}(this.data),console.groupEnd()}},{key:"length",get:function(){switch(typeof this.data){case"number":return this.data;case"string":return this.data.length;default:return 1}}}],[{key:"unpack",value:function(t){var e=r(t,3),n=e[0],o=e[1],a=e[2];return new this({action:["insert","remove","retain"][n],data:Array.isArray(o)?i.unpack(o):o,attributes:a})}},{key:"insert",value:function(t,e){return new this({action:"insert",data:t,attributes:e})}},{key:"retain",value:function(t,e){return new this({action:"retain",data:t,attributes:e})}},{key:"remove",value:function(t){return new this({action:"remove",data:t})}}]),t}();u.packId=1,t.exports=u},,function(t,e,n){(function(t){var r=n(232),o=n(5),i={function:!0,object:!0},a=i[typeof e]&&e&&!e.nodeType?e:void 0,s=i[typeof t]&&t&&!t.nodeType?t:void 0,c=(s&&s.exports===a?a:void 0)?o.Buffer:void 0,u=c?function(t){return t instanceof c}:r(!1);t.exports=u}).call(e,n(30)(t))},function(t,e,n){var r=n(166),o=n(99),i=n(50),a=n(4);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(147),o=n(10);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(11);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},,,,,function(t,e,n){"use strict";var r=n(450),o=(n(316),n(454));n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return h});var r=n(457),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var o;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var c=t,u=e,l=[],f=l,p=!1;function h(){f===l&&(f=l.slice())}function d(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function v(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return h(),f.push(t),function(){if(e){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,h();var n=f.indexOf(t);f.splice(n,1)}}}function y(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,u=c(u,t)}finally{p=!1}for(var e=l=f,n=0;n<e.length;n++){(0,e[n])()}return t}return y({type:i.INIT}),(o={dispatch:y,subscribe:v,getState:d,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");c=t,y({type:i.REPLACE})}})[r.a]=function(){var t,e=v;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t},o}function c(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];0,"function"==typeof t[o]&&(n[o]=t[o])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,o={},i=0;i<s.length;i++){var u=s[i],l=n[u],f=t[u],p=l(f,e);if(void 0===p){var h=c(u,e);throw new Error(h)}o[u]=p,r=r||p!==f}return r?o:t}}function l(t,e){return function(){return e(t.apply(this,arguments))}}function f(t,e){if("function"==typeof t)return l(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var i=n[o],a=t[i];"function"==typeof a&&(r[i]=l(a,e))}return r}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map(function(t){return t(o)});return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}({},n,{dispatch:r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}.apply(void 0,i)(n.dispatch)})}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.e=function(t){return t===r},e.f=function(t){return t&&"_$Option$_$Some$_"===t._tag},e.b=o,e.d=function(t,e){switch(t.kind){case"Some":return t.value;case"None":return e}},e.c=function(t){return t};var r={kind:"None"};function o(t){return{_tag:"_$Option$_$Some$_",kind:"Some",value:t}}},,,function(t,e,n){var r=n(238);t.exports=function(t,e,n){if(e!=e)return r(t,n);for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}},,,,function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(23),o=n(329),i=n(331),a=n(332),s=n(333),c=n(235);t.exports=function(t){return new Promise(function(e,u){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,u,r),p=null}},p.onerror=function(){u(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(334),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),u(t),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(t,e,n){"use strict";var r=n(330);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){t.exports=function(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!=i)return o}return-1}},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";e.a=function(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.a=r},function(t,e,n){"use strict";e.a=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}},function(t,e,n){"use strict";t.exports=n(417)},function(t,e,n){"use strict";function r(t,e){var n=0===e.indexOf("::");if((e=n?e.slice(2):e).trim().length<=0)throw new Error("[_fixNSForStr]invalid identifier for namespace "+t);return n||"@"===e.charAt(0)?e:"_"===e.charAt(0)?e+(t?"."+t:""):(t?t+".":"")+e}e.a=r,e.b=function(t,e,n){return Object.keys(e).reduce(function(o,i){return o[r(t,i)]=n?n(t,e[i]):e[i],o},{})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(100)),o=i(n(269));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(2,function(t,e){var n=[];return(0,o.default)(function(e,r,o){n.push(t(e,r,o))},e),n}),t.exports=e.default},,,function(t,e,n){var r=n(291),o=n(60),i=n(24),a=n(28),s=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=-1,n=a(t),c=r(t),u=c.length,l=o(t),f=!!l,p=l||[],h=p.length;++e<u;){var d=c[e];f&&("length"==d||i(d,h))||"constructor"==d&&(n||!s.call(t,d))||p.push(d)}return p}},function(t,e,n){t.exports=n(325)},,function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(100)),o=a(n(62)),i=a(n(270));function a(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(2,function(t,e){var n,r,a,s;if((0,i.default)("function"===(0,o.default)(t),"[each] first param should a function!",TypeError),(0,i.default)(Object(e)===e,"[each] second param should an object or an array!",TypeError),"array"===(0,o.default)(e))e.forEach(t);else if("object"===(0,o.default)(e))for(r=0,a=(n=Object.keys(e)).length;r<a;r++)t(e[s=n[r]],s,e)}),t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(!t)throw e instanceof Error?e:arguments.length>2?new n(e):new Error(e)},t.exports=e.default},function(t,e,n){var r=n(44),o=n(166),i=n(52),a=n(272),s=n(273),c=n(274),u=n(275),l=n(276),f=n(38),p=n(278),h=n(279),d=n(288),v=n(4),y=n(215),b=n(36),g=n(6),m=n(10),w="[object Arguments]",_="[object Function]",O="[object GeneratorFunction]",j="[object Object]",S={};S[w]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[j]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[_]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,x,E,k,P,C){var A;if(E&&(A=P?E(e,k,P,C):E(e)),void 0!==A)return A;if(!g(e))return e;var M=v(e);if(M){if(A=p(e),!n)return c(e,A)}else{var R=f(e),T=R==_||R==O;if(y(e))return s(e,n);if(R==j||R==w||T&&!P){if(b(e))return P?e:{};if(A=d(T?{}:e),!n)return u(e,a(A,e))}else{if(!S[R])return P?e:{};A=h(e,R,t,n)}}C||(C=new r);var I=C.get(e);if(I)return I;if(C.set(e,A),!M)var L=x?l(e):m(e);return o(L||e,function(r,o){L&&(r=e[o=r]),i(A,o,t(r,n,x,E,o,e,C))}),A}},function(t,e,n){var r=n(64),o=n(10);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(64),o=n(206);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(277),o=n(206),i=n(10);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(185),o=n(4);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(139),o=n(280),i=n(281),a=n(283),s=n(284),c=n(286),u=n(287),l="[object Boolean]",f="[object Date]",p="[object Map]",h="[object Number]",d="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]";t.exports=function(t,e,n,C){var A=t.constructor;switch(e){case g:return r(t);case l:case f:return new A(+t);case m:return o(t,C);case w:case _:case O:case j:case S:case x:case E:case k:case P:return u(t,C);case p:return i(t,C,n);case h:case y:return new A(t);case d:return a(t);case v:return s(t,C,n);case b:return c(t)}}},function(t,e,n){var r=n(139);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e,n){var r=n(282),o=n(132),i=n(47);t.exports=function(t,e,n){var a=e?n(i(t),!0):i(t);return o(a,r,new t.constructor)}},function(t,e){t.exports=function(t,e){return t.set(e[0],e[1]),t}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(285),o=n(132),i=n(58);t.exports=function(t,e,n){var a=e?n(i(t),!0):i(t);return o(a,r,new t.constructor)}},function(t,e){t.exports=function(t,e){return t.add(e),t}},function(t,e,n){var r=n(46),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(139);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(289),o=n(59),i=n(28);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(6),o=Object.create;t.exports=function(t){return r(t)?o(t):{}}},function(t,e,n){var r=n(147),o=n(50),i=n(266);t.exports=function(t,e){return null==t?t:r(t,o(e,3),i)}},function(t,e,n){var r=n(292),o=n(293),i=Object.prototype,a=r?r.enumerate:void 0,s=i.propertyIsEnumerable;function c(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}a&&!s.call({valueOf:1},"valueOf")&&(c=function(t){return o(a(t))}),t.exports=c},function(t,e,n){var r=n(5).Reflect;t.exports=r},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},,,,,,,function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},,,,function(t,e){t.exports=function(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(n(267));var o="";function i(){return window&&window.cow&&window.cow.currentUser&&window.cow.currentUser.id}t.exports=function(t,e,n,a,s){if(o&&"Script error."!==t&&s){var c={msg:t,url:window.location.href,error_name:s.name,error_message:s.message,error_stack:s.stack,error_file:e,tag:function(){var t="",e=window&&window.cow&&window.cow.currentFile&&window.cow.currentFile.type;t=e?-3===e||"sheet"===e?"RICHDOC":"MODOC":"NONE";return"SDK_SHEET_ERR_"+t}(),seq:window&&window.usingNewSeq?"SHEET_NEW_SEQ":"SHEET_OLD_SEQ",user_type:i()<0?"ANONYMOUS_USER":"NORMAL_USER",user_id:i(),user_agent:window.navigator.userAgent},u=JSON.stringify(c);window._lastJSErrorString!==u&&r.default.post(o,c),window._lastJSErrorString=u}},t.exports.setTrackUrl=function(t){o=t}},,function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s=Object.prototype,c=s.hasOwnProperty,u=s.toString,l=s.propertyIsEnumerable,f=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),p=Math.max,h=!l.call({valueOf:1},"valueOf");function d(t,e){var n=m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&w(t)}(t)&&c.call(t,"callee")&&(!l.call(t,"callee")||u.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!c.call(t,a)||i&&("length"==a||y(a,o))||n.push(a);return n}function v(t,e,n){var r=t[e];c.call(t,e)&&g(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function y(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function b(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||s)}function g(t,e){return t===e||t!=t&&e!=e}var m=Array.isArray;function w(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=_(t)?u.call(t):"";return e==o||e==i}(t)}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var O=function(t){return function(t,e){return e=p(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=p(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(t,e,n){if(!_(n))return!1;var r=typeof e;return!!("number"==r?w(n)&&y(e,n.length):"string"==r&&e in n)&&g(n[e],t)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,i)}return e})}(function(t,e){if(h||b(e)||w(e))!function(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=r?r(n[a],t[a],a,n,t):void 0;v(n,a,void 0===s?t[a]:s)}}(e,function(t){return w(t)?d(t):function(t){if(!b(t))return f(t);var e=[];for(var n in Object(t))c.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)c.call(e,n)&&v(t,n,e[n])});t.exports=O},,,,,function(t,e,n){"use strict";e.a=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=n(3),o=n.n(r),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(t,e,n){"use strict";e.a=function(t,e){var n,s;void 0===e&&(e={});var u=e,g=u.getDisplayName,m=void 0===g?function(t){return"ConnectAdvanced("+t+")"}:g,w=u.methodName,_=void 0===w?"connectAdvanced":w,O=u.renderCountProp,j=void 0===O?void 0:O,S=u.shouldHandleStateChanges,x=void 0===S||S,E=u.storeKey,k=void 0===E?"store":E,P=u.withRef,C=void 0!==P&&P,A=Object(a.a)(u,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),M=k+"Subscription",R=v++,T=((n={})[k]=d.a,n[M]=d.b,n),I=((s={})[M]=d.b,s);return function(e){l()(Object(p.isValidElementType)(e),"You must pass a component to the function returned by "+_+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",a=m(n),s=Object(i.a)({},A,{getDisplayName:m,methodName:_,renderCountProp:j,shouldHandleStateChanges:x,storeKey:k,withRef:C,displayName:a,wrappedComponentName:n,WrappedComponent:e}),u=function(n){function c(t,e){var r;return(r=n.call(this,t,e)||this).version=R,r.state={},r.renderCount=0,r.store=t[k]||e[k],r.propsMode=Boolean(t[k]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(o.a)(Object(o.a)(r))),l()(r.store,'Could not find "'+k+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+k+'" as a prop to "'+a+'".'),r.initSelector(),r.initSubscription(),r}Object(r.a)(c,n);var u=c.prototype;return u.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[M]=e||this.context[M],t},u.componentDidMount=function(){x&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(t){this.selector.run(t)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=b,this.store=null,this.selector.run=b,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return l()(C,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+_+"() call."),this.wrappedInstance},u.setWrappedInstance=function(t){this.wrappedInstance=t},u.initSelector=function(){var e=t(this.store.dispatch,s);this.selector=function(t,e){var n={run:function(r){try{var o=t(e.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(x){var t=(this.propsMode?this.props:this.context)[M];this.subscription=new h.a(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(y)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(t){if(!(C||j||this.propsMode&&this.subscription))return t;var e=Object(i.a)({},t);return C&&(e.ref=this.setWrappedInstance),j&&(e[j]=this.renderCount++),this.propsMode&&this.subscription&&(e[M]=this.subscription),e},u.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(f.createElement)(e,this.addExtraProps(t.props))},c}(f.Component);return u.WrappedComponent=e,u.displayName=a,u.childContextTypes=I,u.contextTypes=T,u.propTypes=T,c()(u,e)}};var r=n(314),o=n(451),i=n(259),a=n(260),s=n(452),c=n.n(s),u=n(300),l=n.n(u),f=n(0),p=(n.n(f),n(261)),h=(n.n(p),n(453)),d=n(315),v=0,y={};function b(){}},function(t,e,n){"use strict";e.a=function(t){return function(e,n){var r=t(e,n);function o(){return r}return o.dependsOnOwnProps=!1,o}},e.b=function(t,e){return function(e,n){n.displayName;var o=function(t,e){return o.dependsOnOwnProps?o.mapToProps(t,e):o.mapToProps(t)};return o.dependsOnOwnProps=!0,o.mapToProps=function(e,n){o.mapToProps=t,o.dependsOnOwnProps=r(t);var i=o(e,n);return"function"==typeof i&&(o.mapToProps=i,o.dependsOnOwnProps=r(i),i=o(e,n)),i},o}};n(318);function r(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}},function(t,e,n){"use strict";n(459),n(258)},function(t,e,n){"use strict";e.b=function(t,e,n){var r=new l,o=r.has.bind(r),i=r.each.bind(r),a=r.on.bind(r),s=r.send.bind(r),c=e({has:o,each:i,on:a,send:s});return Object.keys(n).forEach(function(e){f(e,t,n,r)}),{has:o,each:i,on:a,send:s,dispatch:c}},e.a=function(t,e){if(null==e)return{};return Object(a.d)(t,e,function(t,e){return e.map(function(e){return"string"==typeof e?Object(a.c)(t,e):(e.namespace=t,e)})})};var r=n(144),o=n(464),i=n(87),a=n(76),s=n(137),c=n.n(s),u=n(62),l=function(){function t(){this.resolvedStreams={}}return t.prototype.getStream=function(t){var e=this.resolvedStreams[t];return r.default.isStream(e)||((e=this.resolvedStreams[t]=Object(r.default)()).id=t),e},t.prototype.has=function(t){return r.default.isStream(this.resolvedStreams[t])},t.prototype.set=function(t,e){this.resolvedStreams[t]=e},t.prototype.send=function(t,e){this.has(t)&&this.getStream(t)(e)},t.prototype.on=function(t,e){this.has(t)&&this.getStream(t).on(e)},t.prototype.each=function(t){Object.keys(this.resolvedStreams).forEach(t)},t}();function f(t,e,n,r){return null==n[t]||r.has(t)?r.getStream(t):function(t,e,n,r){var s,l=n[t],p=l.slice(0,l.length-1).map(function(t){return f(t,e,n,r)}),h=l[l.length-1],d={get:e},v=h.namespace;"string"==typeof v&&(d.get=function(t){var n;return n=u.default.isObject(t)?c()(function(t){return Object(a.c)(v,t)},t):Object(a.c)(v,t),e(n)});s=Object(i.h)(h)?h.apply(void 0,[d].concat(p)):Object(o.a)(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.apply(void 0,[d].concat(t))},p);return s.id=t,r.set(t,s),s}(t,e,n,r)}},function(t,e,n){"use strict";e.b=function(t,e){var n;if(null==e)return{};var o=Object.keys(e).reduce(function(n,o){var i=e[o],a=i[0],s=i[1];return n[o]=[a,Object(r.d)(t,s)],n},{});return(n={})[t]=o,n},e.a=function(t,e){var n=a()(c,t);null!=e&&(n=Object(r.e)([n,e]));if(Object.keys(n).length<=0)return function(t,e){return t};return Object(o.c)(n)};var r=n(76),o=n(224),i=n(137),a=n.n(i);function s(t){var e=t[0],n=t[1];return function(t,r){var o=r.type,i=n[o];if(null==t&&(t=e),"function"!=typeof i)return t;try{var a=i(t,r.payload);return a}catch(e){return console.error("[infra]reducer invoke error!",e),t}}}function c(t){var e=a()(s,t);return Object(o.c)(e)}},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(function(t,e){return function(n){return e(t(n))}})}},function(t,e,n){"use strict";e.d=function(t,e,n){var r=c(e,JSON.parse(n.content).changeset).getIter();for(;r.hasNext();){var o=r.next(),i=o.getAttributes();if(!l(o,i)){var a=u(t,i.id);if(!a)continue;var s=a.isRangeEditable({row:0,col:0,rowCount:a.getRowCount(),colCount:a.getColumnCount()});if(!s)return!0}}return!1},e.f=function(t,e){for(var n=0;n<e.length;++n)if(f(e[n]))return e[n].id===t;return!1},e.e=f,e.g=function(t){if(!t)return!1;return!t.isRangeEditable(0,0,t.getRowCount(),t.getColumnCount())},n.d(e,"b",function(){return p}),n.d(e,"c",function(){return h}),n.d(e,"a",function(){return d});var r=n(62),o=n(475),i=n(514),a=n(1),s=(n.n(a),n(476)),c=a.sheets.changeset.unpack,u=a.sheets.spread.getSheetById;function l(t,e){return!e&&!r.default.isNumber(t.data)}function f(t){return 2===t.history_type||2===t.historyType}var p=Object(o.a)(Object(i.a)(function(t,e){return"loading"===e.status})),h=Object(o.a)(Object(i.a)(function(t,e){return"succeed"===e.status}),Object(s.a)(function(t,e){return e.result})),d=Object(o.a)(Object(i.a)(function(t,e){return"failed"===e.status}),Object(s.a)(function(t,e){return e}))},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var i=n(211),a=n(213),s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),r(e,[{key:"setData",value:function(t){if(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),"number"==typeof this.data&&1!==this.data)throw new Error('The value of data should be "1", got '+this.data);return this}},{key:"name",value:function(){return"CellOperator"}},{key:"compose",value:function(t){if("remove"===this.action)throw new Error("Removing operator cannot compose other operators");if("retain"!==t.action)throw new Error("Only retaining operator can be composed");var e=void 0;if("function"==typeof this.data.compose&&t.data.constructor.packId===this.data.constructor.packId)e=void 0!==i.unpack(t.attributes).cellValue?t.data:this.data.compose(t.data);else if("number"==typeof this.data)e=t.data;else{e=void 0!==i.unpack(t.attributes).cellValue?1:this.data}return(this.isGeneric()?t:this).createInstance({data:e,attributes:i.merge(this.attributes,t.attributes,"insert"!==this.action),action:this.action})}},{key:"invert",value:function(t){if("insert"!==this.action)throw new Error('invert should only apply to the "insert" action ('+this.constructor.name+")");if("retain"!==t.action)throw new Error("Only retaining operator can be inverted");var e=void 0;if("function"==typeof this.data.invert&&t.data.constructor.packId===this.data.constructor.packId)e=void 0!==i.unpack(t.attributes).cellValue?this.data:this.data.invert(t.data);else if("number"==typeof t.data){e=void 0!==i.unpack(t.attributes).cellValue?this.data:t.data}else e=this.data;return this.createInstance({data:e,attributes:i.invert(this.attributes,t.attributes),action:"retain"})}}]),e}();s.packId=4,t.exports=s},function(t,e){t.exports=function(t){var e=t?t.length:0;return e?t[e-1]:void 0}},function(t,e,n){"use strict";var r=n(23),o=n(233),i=n(327),a=n(188);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=s(a);c.Axios=i,c.create=function(t){return s(r.merge(a,t))},c.Cancel=n(237),c.CancelToken=n(340),c.isCancel=n(236),c.all=function(t){return Promise.all(t)},c.spread=n(341),t.exports=c,t.exports.default=c},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(188),o=n(23),i=n(335),a=n(336);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(23);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(235);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(23);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(23),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(23);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(23);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(23);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(23),o=n(337),i=n(236),a=n(188),s=n(338),c=n(339);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(23);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(237);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",a=1,s=2,c=1/0,u=9007199254740991,l="[object Arguments]",f="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",v="[object Function]",y="[object GeneratorFunction]",b="[object Map]",g="[object Number]",m="[object Object]",w="[object RegExp]",_="[object Set]",O="[object String]",j="[object Symbol]",S="[object ArrayBuffer]",x="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,P=/^\./,C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,M=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[l]=T[f]=T[S]=T[p]=T[x]=T[h]=T[d]=T[v]=T[b]=T[g]=T[m]=T[w]=T[_]=T[O]=T["[object WeakMap]"]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,L="object"==typeof self&&self&&self.Object===Object&&self,N=I||L||Function("return this")(),D="object"==typeof e&&e&&!e.nodeType&&e,U=D&&"object"==typeof n&&n&&!n.nodeType&&n,H=U&&U.exports===D&&I.process,$=function(){try{return H&&H.binding("util")}catch(t){}}(),F=$&&$.isTypedArray;function B(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function V(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function q(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Y=Array.prototype,J=Function.prototype,K=Object.prototype,X=N["__core-js_shared__"],Q=function(){var t=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Z=J.toString,tt=K.hasOwnProperty,et=K.toString,nt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=N.Symbol,ot=N.Uint8Array,it=K.propertyIsEnumerable,at=Y.splice,st=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ct=$t(N,"DataView"),ut=$t(N,"Map"),lt=$t(N,"Promise"),ft=$t(N,"Set"),pt=$t(N,"WeakMap"),ht=$t(Object,"create"),dt=Yt(ct),vt=Yt(ut),yt=Yt(lt),bt=Yt(ft),gt=Yt(pt),mt=rt?rt.prototype:void 0,wt=mt?mt.valueOf:void 0,_t=mt?mt.toString:void 0;function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=t?t.length:0;for(this.__data__=new St;++e<n;)this.add(t[e])}function Et(t){this.__data__=new jt(t)}function kt(t,e){var n=Qt(t)||Xt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!tt.call(t,i)||o&&("length"==i||Bt(i,r))||n.push(i);return n}function Pt(t,e){for(var n=t.length;n--;)if(Kt(t[n][0],e))return n;return-1}Ot.prototype.clear=function(){this.__data__=ht?ht(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(ht){var n=e[t];return n===i?void 0:n}return tt.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return ht?void 0!==e[t]:tt.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=ht&&void 0===e?i:e,this},jt.prototype.clear=function(){this.__data__=[]},jt.prototype.delete=function(t){var e=this.__data__,n=Pt(e,t);return!(n<0||(n==e.length-1?e.pop():at.call(e,n,1),0))},jt.prototype.get=function(t){var e=this.__data__,n=Pt(e,t);return n<0?void 0:e[n][1]},jt.prototype.has=function(t){return Pt(this.__data__,t)>-1},jt.prototype.set=function(t,e){var n=this.__data__,r=Pt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new Ot,map:new(ut||jt),string:new Ot}},St.prototype.delete=function(t){return Ht(this,t).delete(t)},St.prototype.get=function(t){return Ht(this,t).get(t)},St.prototype.has=function(t){return Ht(this,t).has(t)},St.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,i),this},xt.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.clear=function(){this.__data__=new jt},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof jt){var o=n.__data__;if(!ut||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new St(o)}return n.set(t,e),this};var Ct=function(t,e){return function(n,r){if(null==n)return n;if(!Zt(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(function(t,e){return t&&At(t,e,ae)}),At=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}();function Mt(t,e){for(var n=0,r=(e=Vt(e,t)?[e]:Dt(e)).length;null!=t&&n<r;)t=t[Gt(e[n++])];return n&&n==r?t:void 0}function Rt(t,e){return null!=t&&e in Object(t)}function Tt(t,e,n,r,o){return t===e||(null==t||null==e||!ne(t)&&!re(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var c=Qt(t),u=Qt(e),v=f,y=f;c||(v=(v=Ft(t))==l?m:v);u||(y=(y=Ft(e))==l?m:y);var E=v==m&&!z(t),k=y==m&&!z(e),P=v==y;if(P&&!E)return i||(i=new Et),c||ie(t)?Ut(t,e,n,r,o,i):function(t,e,n,r,o,i,c){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!r(new ot(t),new ot(e)));case p:case h:case g:return Kt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case O:return t==e+"";case b:var u=W;case _:var l=i&s;if(u||(u=G),t.size!=e.size&&!l)return!1;var f=c.get(t);if(f)return f==e;i|=a,c.set(t,e);var v=Ut(u(t),u(e),r,o,i,c);return c.delete(t),v;case j:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,v,n,r,o,i);if(!(o&s)){var C=E&&tt.call(t,"__wrapped__"),A=k&&tt.call(e,"__wrapped__");if(C||A){var M=C?t.value():t,R=A?e.value():e;return i||(i=new Et),n(M,R,r,o,i)}}if(!P)return!1;return i||(i=new Et),function(t,e,n,r,o,i){var a=o&s,c=ae(t),u=c.length,l=ae(e).length;if(u!=l&&!a)return!1;for(var f=u;f--;){var p=c[f];if(!(a?p in e:tt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var v=a;++f<u;){p=c[f];var y=t[p],b=e[p];if(r)var g=a?r(b,y,p,e,t,i):r(y,b,p,t,e,i);if(!(void 0===g?y===b||n(y,b,r,o,i):g)){d=!1;break}v||(v="constructor"==p)}if(d&&!v){var m=t.constructor,w=e.constructor;m!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Tt,n,r,o))}function It(t){return!(!ne(t)||function(t){return!!Q&&Q in t}(t))&&(te(t)||z(t)?nt:M).test(Yt(t))}function Lt(t){return"function"==typeof t?t:null==t?se:"object"==typeof t?Qt(t)?function(t,e){if(Vt(t)&&qt(e))return zt(Gt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Mt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Vt(e,t)?[e]:Dt(e)).length;for(;++o<i;){var a=Gt(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(i=t?t.length:0)&&ee(i)&&Bt(a,i)&&(Qt(t)||Xt(t))}(t,e,Rt)}(n,t):Tt(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=ae(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,qt(o)]}return e}(t);if(1==e.length&&e[0][2])return zt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,c=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var l=(u=n[o])[0],f=t[l],p=u[1];if(c&&u[2]){if(void 0===f&&!(l in t))return!1}else{var h=new Et;if(r)var d=r(f,p,l,t,e,h);if(!(void 0===d?Tt(p,f,r,a|s,h):d))return!1}}return!0}(n,t,e)}}(t):function(t){return Vt(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Gt(t)):function(t){return function(e){return Mt(e,t)}}(t)}(t)}function Nt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||K;return t===n}(t))return st(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dt(t){return Qt(t)?t:Wt(t)}function Ut(t,e,n,r,o,i){var c=o&s,u=t.length,l=e.length;if(u!=l&&!(c&&l>u))return!1;var f=i.get(t);if(f&&i.get(e))return f==e;var p=-1,h=!0,d=o&a?new xt:void 0;for(i.set(t,e),i.set(e,t);++p<u;){var v=t[p],y=e[p];if(r)var b=c?r(y,v,p,e,t,i):r(v,y,p,t,e,i);if(void 0!==b){if(b)continue;h=!1;break}if(d){if(!V(e,function(t,e){if(!d.has(e)&&(v===t||n(v,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(v!==y&&!n(v,y,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ht(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function $t(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}var Ft=function(t){return et.call(t)};function Bt(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t,e){if(Qt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oe(t))||(k.test(t)||!E.test(t)||null!=e&&t in Object(e))}function qt(t){return t==t&&!ne(t)}function zt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ct&&Ft(new ct(new ArrayBuffer(1)))!=x||ut&&Ft(new ut)!=b||lt&&"[object Promise]"!=Ft(lt.resolve())||ft&&Ft(new ft)!=_||pt&&"[object WeakMap]"!=Ft(new pt))&&(Ft=function(t){var e=et.call(t),n=e==m?t.constructor:void 0,r=n?Yt(n):void 0;if(r)switch(r){case dt:return x;case vt:return b;case yt:return"[object Promise]";case bt:return _;case gt:return"[object WeakMap]"}return e});var Wt=Jt(function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(oe(t))return _t?_t.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(t)}(t);var e=[];return P.test(t)&&e.push(""),t.replace(C,function(t,n,r,o){e.push(r?o.replace(A,"$1"):n||t)}),e});function Gt(t){if("string"==typeof t||oe(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Yt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Jt.Cache||St),n}function Kt(t,e){return t===e||t!=t&&e!=e}function Xt(t){return function(t){return re(t)&&Zt(t)}(t)&&tt.call(t,"callee")&&(!it.call(t,"callee")||et.call(t)==l)}Jt.Cache=St;var Qt=Array.isArray;function Zt(t){return null!=t&&ee(t.length)&&!te(t)}function te(t){var e=ne(t)?et.call(t):"";return e==v||e==y}function ee(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function ne(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function re(t){return!!t&&"object"==typeof t}function oe(t){return"symbol"==typeof t||re(t)&&et.call(t)==j}var ie=F?function(t){return function(e){return t(e)}}(F):function(t){return re(t)&&ee(t.length)&&!!T[et.call(t)]};function ae(t){return Zt(t)?kt(t):Nt(t)}function se(t){return t}n.exports=function(t,e,n){var r=Qt(t)?B:q,o=arguments.length<3;return r(t,Lt(e),n,o,Ct)}}).call(e,n(25),n(30)(t))},function(t,e,n){(function(t,n){var r=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",c="[object Date]",u="[object Function]",l="[object GeneratorFunction]",f="[object Map]",p="[object Number]",h="[object Object]",d="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]",C=/\w*$/,A=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,R={};R[a]=R["[object Array]"]=R[g]=R[m]=R[s]=R[c]=R[w]=R[_]=R[O]=R[j]=R[S]=R[f]=R[p]=R[h]=R[d]=R[v]=R[y]=R[b]=R[x]=R[E]=R[k]=R[P]=!0,R["[object Error]"]=R[u]=R["[object WeakMap]"]=!1;var T="object"==typeof t&&t&&t.Object===Object&&t,I="object"==typeof self&&self&&self.Object===Object&&self,L=T||I||Function("return this")(),N="object"==typeof e&&e&&!e.nodeType&&e,D=N&&"object"==typeof n&&n&&!n.nodeType&&n,U=D&&D.exports===N;function H(t,e){return t.set(e[0],e[1]),t}function $(t,e){return t.add(e),t}function F(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function B(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t,e){return function(n){return t(e(n))}}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var W=Array.prototype,G=Function.prototype,Y=Object.prototype,J=L["__core-js_shared__"],K=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),X=G.toString,Q=Y.hasOwnProperty,Z=Y.toString,tt=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=U?L.Buffer:void 0,nt=L.Symbol,rt=L.Uint8Array,ot=q(Object.getPrototypeOf,Object),it=Object.create,at=Y.propertyIsEnumerable,st=W.splice,ct=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,lt=q(Object.keys,Object),ft=Nt(L,"DataView"),pt=Nt(L,"Map"),ht=Nt(L,"Promise"),dt=Nt(L,"Set"),vt=Nt(L,"WeakMap"),yt=Nt(Object,"create"),bt=Ft(ft),gt=Ft(pt),mt=Ft(ht),wt=Ft(dt),_t=Ft(vt),Ot=nt?nt.prototype:void 0,jt=Ot?Ot.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){this.__data__=new xt(t)}function Pt(t,e){var n=Vt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&qt(t)}(t)&&Q.call(t,"callee")&&(!at.call(t,"callee")||Z.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Q.call(t,i)||o&&("length"==i||Ht(i,r))||n.push(i);return n}function Ct(t,e,n){var r=t[e];Q.call(t,e)&&Bt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function At(t,e){for(var n=t.length;n--;)if(Bt(t[n][0],e))return n;return-1}function Mt(t,e,n,r,o,i,A){var M;if(r&&(M=i?r(t,o,i,A):r(t)),void 0!==M)return M;if(!Gt(t))return t;var T=Vt(t);if(T){if(M=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,M)}else{var I=Ut(t),L=I==u||I==l;if(zt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(I==h||I==a||L&&!i){if(B(t))return i?t:{};if(M=function(t){return"function"!=typeof t.constructor||$t(t)?{}:function(t){return Gt(t)?it(t):{}}(ot(t))}(L?{}:t),!e)return function(t,e){return It(t,Dt(t),e)}(t,function(t,e){return t&&It(e,Yt(e),t)}(M,t))}else{if(!R[I])return i?t:{};M=function(t,e,n,r){var o=t.constructor;switch(e){case g:return Tt(t);case s:case c:return new o(+t);case m:return function(t,e){var n=e?Tt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case w:case _:case O:case j:case S:case x:case E:case k:case P:return function(t,e){var n=e?Tt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return F(e?n(V(t),!0):V(t),H,new t.constructor)}(t,r,n);case p:case y:return new o(t);case d:return function(t){var e=new t.constructor(t.source,C.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return function(t,e,n){return F(e?n(z(t),!0):z(t),$,new t.constructor)}(t,r,n);case b:return function(t){return jt?Object(jt.call(t)):{}}(t)}}(t,I,Mt,e)}}A||(A=new kt);var N=A.get(t);if(N)return N;if(A.set(t,M),!T)var D=n?function(t){return function(t,e,n){var r=e(t);return Vt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Yt,Dt)}(t):Yt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(D||t,function(o,i){D&&(o=t[i=o]),Ct(M,i,Mt(o,e,n,r,i,t,A))}),M}function Rt(t){return!(!Gt(t)||function(t){return!!K&&K in t}(t))&&(Wt(t)||B(t)?tt:A).test(Ft(t))}function Tt(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function It(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=r?r(n[a],t[a],a,n,t):void 0;Ct(n,a,void 0===s?t[a]:s)}return n}function Lt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0}St.prototype.clear=function(){this.__data__=yt?yt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===o?void 0:n}return Q.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Q.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?o:e,this},xt.prototype.clear=function(){this.__data__=[]},xt.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0||(n==e.length-1?e.pop():st.call(e,n,1),0))},xt.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?void 0:e[n][1]},xt.prototype.has=function(t){return At(this.__data__,t)>-1},xt.prototype.set=function(t,e){var n=this.__data__,r=At(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Et.prototype.clear=function(){this.__data__={hash:new St,map:new(pt||xt),string:new St}},Et.prototype.delete=function(t){return Lt(this,t).delete(t)},Et.prototype.get=function(t){return Lt(this,t).get(t)},Et.prototype.has=function(t){return Lt(this,t).has(t)},Et.prototype.set=function(t,e){return Lt(this,t).set(t,e),this},kt.prototype.clear=function(){this.__data__=new xt},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xt){var o=n.__data__;if(!pt||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new Et(o)}return n.set(t,e),this};var Dt=ct?q(ct,Object):function(){return[]},Ut=function(t){return Z.call(t)};function Ht(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||M.test(t))&&t>-1&&t%1==0&&t<e}function $t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Ft(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bt(t,e){return t===e||t!=t&&e!=e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=m||pt&&Ut(new pt)!=f||ht&&"[object Promise]"!=Ut(ht.resolve())||dt&&Ut(new dt)!=v||vt&&"[object WeakMap]"!=Ut(new vt))&&(Ut=function(t){var e=Z.call(t),n=e==h?t.constructor:void 0,r=n?Ft(n):void 0;if(r)switch(r){case bt:return m;case gt:return f;case mt:return"[object Promise]";case wt:return v;case _t:return"[object WeakMap]"}return e});var Vt=Array.isArray;function qt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Wt(t)}var zt=ut||function(){return!1};function Wt(t){var e=Gt(t)?Z.call(t):"";return e==u||e==l}function Gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return qt(t)?Pt(t):function(t){if(!$t(t))return lt(t);var e=[];for(var n in Object(t))Q.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return Mt(t,!0,!0)}}).call(e,n(25),n(30)(t))},function(t,e){var n=-1,r=1,o=0;function i(t,e,u,l){if(t===e)return t?[[o,t]]:[];if(null!=u){var d=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=t.length,a=e.length;if(0===r.length&&(null===o||0===o.length)){var s=r.index,c=t.slice(0,s),u=t.slice(s),l=o?o.index:null,f=s+a-i;if((null===l||l===f)&&!(f<0||f>a)){var p=e.slice(0,f),d=e.slice(f);if(d===u){var v=Math.min(s,f),y=c.slice(0,v),b=p.slice(0,v);if(y===b){var g=c.slice(v),m=p.slice(v);return h(y,g,m,u)}}}if(null===l||l===s){var w=s,p=e.slice(0,w),d=e.slice(w);if(p===c){var _=Math.min(i-w,a-w),O=u.slice(u.length-_),j=d.slice(d.length-_);if(O===j){var g=u.slice(0,u.length-_),m=d.slice(0,d.length-_);return h(c,g,m,O)}}}}if(r.length>0&&o&&0===o.length){var y=t.slice(0,r.index),O=t.slice(r.index+r.length),v=y.length,_=O.length;if(!(a<v+_)){var b=e.slice(0,v),j=e.slice(a-_);if(y===b&&O===j){var g=t.slice(v,i-_),m=e.slice(v,a-_);return h(y,g,m,O)}}}return null}(t,e,u);if(d)return d}var v=s(t,e),y=t.substring(0,v);v=c(t=t.substring(v),e=e.substring(v));var b=t.substring(t.length-v),g=function(t,e){var u;if(!t)return[[r,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,f=t.length>e.length?e:t,p=l.indexOf(f);if(-1!==p)return u=[[r,l.substring(0,p)],[o,f],[r,l.substring(p+f.length)]],t.length>e.length&&(u[0][0]=u[2][0]=n),u;if(1===f.length)return[[n,t],[r,e]];var h=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,i,a,u=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(u,l+1));){var p=s(t.substring(n),e.substring(l)),h=c(t.substring(0,n),e.substring(0,l));f.length<h+p&&(f=e.substring(l-h,l)+e.substring(l,l+p),r=t.substring(0,n-h),o=t.substring(n+p),i=e.substring(0,l-h),a=e.substring(l+p))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,u,l,f,p=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));if(!p&&!h)return null;i=h?p&&p[4].length>h[4].length?p:h:p;t.length>e.length?(a=i[0],u=i[1],l=i[2],f=i[3]):(l=i[0],f=i[1],a=i[2],u=i[3]);var d=i[4];return[a,u,l,f,d]}(t,e);if(h){var d=h[0],v=h[1],y=h[2],b=h[3],g=h[4],m=i(d,y),w=i(v,b);return m.concat([[o,g]],w)}return function(t,e){for(var o=t.length,i=e.length,s=Math.ceil((o+i)/2),c=s,u=2*s,l=new Array(u),f=new Array(u),p=0;p<u;p++)l[p]=-1,f[p]=-1;l[c+1]=0,f[c+1]=0;for(var h=o-i,d=h%2!=0,v=0,y=0,b=0,g=0,m=0;m<s;m++){for(var w=-m+v;w<=m-y;w+=2){for(var _=c+w,O=(k=w===-m||w!==m&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-w;k<o&&O<i&&t.charAt(k)===e.charAt(O);)k++,O++;if(l[_]=k,k>o)y+=2;else if(O>i)v+=2;else if(d){var j=c+h-w;if(j>=0&&j<u&&-1!==f[j]){var S=o-f[j];if(k>=S)return a(t,e,k,O)}}}for(var x=-m+b;x<=m-g;x+=2){for(var j=c+x,E=(S=x===-m||x!==m&&f[j-1]<f[j+1]?f[j+1]:f[j-1]+1)-x;S<o&&E<i&&t.charAt(o-S-1)===e.charAt(i-E-1);)S++,E++;if(f[j]=S,S>o)g+=2;else if(E>i)b+=2;else if(!d){var _=c+h-x;if(_>=0&&_<u&&-1!==l[_]){var k=l[_],O=c+k-_;if(k>=(S=o-S))return a(t,e,k,O)}}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-v),e=e.substring(0,e.length-v));return y&&g.unshift([o,y]),b&&g.push([o,b]),function t(e,i){e.push([o,""]);var a=0;var u=0;var l=0;var h="";var d="";var v;for(;a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case r:l++,d+=e[a][1],a++;break;case n:u++,h+=e[a][1],a++;break;case o:var y=a-l-u-1;if(i){if(y>=0&&p(e[y][1])){var b=e[y][1].slice(-1);if(e[y][1]=e[y][1].slice(0,-1),h=b+h,d=b+d,!e[y][1]){e.splice(y,1),a--;var g=y-1;e[g]&&e[g][0]===r&&(l++,d=e[g][1]+d,g--),e[g]&&e[g][0]===n&&(u++,h=e[g][1]+h,g--),y=g}}if(f(e[a][1])){var b=e[a][1].charAt(0);e[a][1]=e[a][1].slice(1),h+=b,d+=b}}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(h.length>0||d.length>0){h.length>0&&d.length>0&&(0!==(v=s(d,h))&&(y>=0?e[y][1]+=d.substring(0,v):(e.splice(0,0,[o,d.substring(0,v)]),a++),d=d.substring(v),h=h.substring(v)),0!==(v=c(d,h))&&(e[a][1]=d.substring(d.length-v)+e[a][1],d=d.substring(0,d.length-v),h=h.substring(0,h.length-v)));var m=l+u;0===h.length&&0===d.length?(e.splice(a-m,m),a-=m):0===h.length?(e.splice(a-m,m,[r,d]),a=a-m+1):0===d.length?(e.splice(a-m,m,[n,h]),a=a-m+1):(e.splice(a-m,m,[n,h],[r,d]),a=a-m+2)}0!==a&&e[a-1][0]===o?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,l=0,u=0,h="",d=""}""===e[e.length-1][1]&&e.pop();var w=!1;a=1;for(;a<e.length-1;)e[a-1][0]===o&&e[a+1][0]===o&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),w=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),w=!0)),a++;w&&t(e,i)}(g,l),g}function a(t,e,n,r){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),c=e.substring(r),u=i(o,a),l=i(s,c);return u.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return u(t.charCodeAt(o-1))&&o--,o}function c(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return l(t.charCodeAt(t.length-o))&&o--,o}function u(t){return t>=55296&&t<=56319}function l(t){return t>=56320&&t<=57343}function f(t){return l(t.charCodeAt(0))}function p(t){return u(t.charCodeAt(t.length-1))}function h(t,e,i,a){return p(t)||f(a)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[o,t],[n,e],[r,i],[o,a]])}function d(t,e,n){return i(t,e,n,!0)}d.INSERT=r,d.DELETE=n,d.EQUAL=o,t.exports=d},function(t,e,n){var r=Array.prototype.slice,o=n(346),i=n(347),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,l;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(c(t)){if(!c(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var f=o(t),p=o(e)}catch(t){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),u=f.length-1;u>=0;u--)if(f[u]!=p[u])return!1;for(u=f.length-1;u>=0;u--)if(l=f[u],!a(t[l],e[l],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function c(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e,n){(function(e){var n="Expected a function",r="__lodash_placeholder__",o=1,i=2,a=4,s=8,c=16,u=32,l=64,f=128,p=512,h=1/0,d=9007199254740991,v=1.7976931348623157e308,y=NaN,b=[["ary",f],["bind",o],["bindKey",i],["curry",s],["curryRight",c],["flip",p],["partial",u],["partialRight",l],["rearg",256]],g="[object Function]",m="[object GeneratorFunction]",w="[object Symbol]",_=/^\s+|\s+$/g,O=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,j=/\{\n\/\* \[wrapped with (.+)\] \*/,S=/,? & /,x=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,k=/^\[object .+?Constructor\]$/,P=/^0o[0-7]+$/i,C=/^(?:0|[1-9]\d*)$/,A=parseInt,M="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,T=M||R||Function("return this")();function I(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function L(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,N,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function N(t){return t!=t}function D(t,e){for(var n=-1,o=t.length,i=0,a=[];++n<o;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[i++]=n)}return a}var U=Function.prototype,H=Object.prototype,$=T["__core-js_shared__"],F=function(){var t=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),B=U.toString,V=H.hasOwnProperty,q=H.toString,z=RegExp("^"+B.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=Object.create,G=Math.max,Y=Math.min,J=function(){var t=nt(Object,"defineProperty"),e=nt.name;return e&&e.length>2?t:void 0}();function K(t){return!(!at(t)||function(t){return!!F&&F in t}(t))&&(function(t){var e=at(t)?q.call(t):"";return e==g||e==m}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?z:k).test(function(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function X(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=function(t){return at(t)?W(t):{}}(t.prototype),r=t.apply(n,e);return at(r)?r:n}}function Q(t,e,n,r,a,u,l,h,d,v){var y=e&f,b=e&o,g=e&i,m=e&(s|c),w=e&p,_=g?void 0:X(t);return function o(){for(var i=arguments.length,s=Array(i),c=i;c--;)s[c]=arguments[c];if(m)var f=et(o),p=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}(s,f);if(r&&(s=function(t,e,n,r){for(var o=-1,i=t.length,a=n.length,s=-1,c=e.length,u=G(i-a,0),l=Array(c+u),f=!r;++s<c;)l[s]=e[s];for(;++o<a;)(f||o<i)&&(l[n[o]]=t[o]);for(;u--;)l[s++]=t[o++];return l}(s,r,a,m)),u&&(s=function(t,e,n,r){for(var o=-1,i=t.length,a=-1,s=n.length,c=-1,u=e.length,l=G(i-s,0),f=Array(l+u),p=!r;++o<l;)f[o]=t[o];for(var h=o;++c<u;)f[h+c]=e[c];for(;++a<s;)(p||o<i)&&(f[h+n[a]]=t[o++]);return f}(s,u,l,m)),i-=p,m&&i<v){var O=D(s,f);return Z(t,e,Q,o.placeholder,n,s,O,h,d,v-i)}var j=b?n:this,S=g?j[t]:t;return i=s.length,h?s=function(t,e){for(var n=t.length,r=Y(e.length,n),o=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);r--;){var i=e[r];t[r]=rt(i,n)?o[i]:void 0}return t}(s,h):w&&i>1&&s.reverse(),y&&d<i&&(s.length=d),this&&this!==T&&this instanceof o&&(S=_||X(S)),S.apply(j,s)}}function Z(t,e,n,r,c,f,p,h,d,v){var y=e&s;e|=y?u:l,(e&=~(y?l:u))&a||(e&=~(o|i));var b=n(t,e,c,y?f:void 0,y?p:void 0,y?void 0:f,y?void 0:p,h,d,v);return b.placeholder=r,ot(b,t,e)}function tt(t,e,r,a,f,p,h,d){var v=e&i;if(!v&&"function"!=typeof t)throw new TypeError(n);var y=a?a.length:0;if(y||(e&=~(u|l),a=f=void 0),h=void 0===h?h:G(ct(h),0),d=void 0===d?d:ct(d),y-=f?f.length:0,e&l){var b=a,g=f;a=f=void 0}var m=[t,e,r,a,f,b,g,p,h,d];if(t=m[0],e=m[1],r=m[2],a=m[3],f=m[4],!(d=m[9]=null==m[9]?v?0:t.length:G(m[9]-y,0))&&e&(s|c)&&(e&=~(s|c)),e&&e!=o)w=e==s||e==c?function(t,e,n){var r=X(t);return function o(){for(var i=arguments.length,a=Array(i),s=i,c=et(o);s--;)a[s]=arguments[s];var u=i<3&&a[0]!==c&&a[i-1]!==c?[]:D(a,c);return(i-=u.length)<n?Z(t,e,Q,o.placeholder,void 0,a,u,void 0,void 0,n-i):I(this&&this!==T&&this instanceof o?r:t,this,a)}}(t,e,d):e!=u&&e!=(o|u)||f.length?Q.apply(void 0,m):function(t,e,n,r){var i=e&o,a=X(t);return function e(){for(var o=-1,s=arguments.length,c=-1,u=r.length,l=Array(u+s),f=this&&this!==T&&this instanceof e?a:t;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++o];return I(f,i?n:this,l)}}(t,e,r,a);else var w=function(t,e,n){var r=e&o,i=X(t);return function e(){return(this&&this!==T&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return ot(w,t,e)}function et(t){return t.placeholder}function nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return K(n)?n:void 0}function rt(t,e){return!!(e=null==e?d:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}var ot=J?function(t,e,n){var r=e+"";return J(t,"toString",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(function(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(O,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(b,function(n){var r="_."+n[0];e&n[1]&&!L(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(j);return e?e[1].split(S):[]}(r),n)))})}:function(t){return t};var it=function(t,e){return e=G(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=G(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i,I(t,this,a)}}(function(t,e,n){var r=o;if(n.length){var i=D(n,et(it));r|=u}return tt(t,r,e,n,i)});function at(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function st(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&q.call(t)==w}(t))return y;if(at(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=at(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_,"");var n=E.test(t);return n||P.test(t)?A(t.slice(2),n?2:8):x.test(t)?y:+t}(t))===h||t===-h?(t<0?-1:1)*v:t==t?t:0:0===t?t:0}function ct(t){var e=st(t),n=e%1;return e==e?n?e-n:e:0}it.placeholder={},t.exports=it}).call(e,n(25))},function(t,e,n){(function(t,n){var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",s="[object Map]",c="[object Set]",u=/^\[object .+?Constructor\]$/,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),h="object"==typeof e&&e&&!e.nodeType&&e,d=h&&"object"==typeof n&&n&&!n.nodeType&&n,v=d&&d.exports===h;var y=Function.prototype,b=Object.prototype,g=p["__core-js_shared__"],m=function(){var t=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),w=y.toString,_=b.hasOwnProperty,O=b.toString,j=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=v?p.Buffer:void 0,x=b.propertyIsEnumerable,E=S?S.isBuffer:void 0,k=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),P=$(p,"DataView"),C=$(p,"Map"),A=$(p,"Promise"),M=$(p,"Set"),R=$(p,"WeakMap"),T=!x.call({valueOf:1},"valueOf"),I=B(P),L=B(C),N=B(A),D=B(M),U=B(R);function H(t){return!(!Y(t)||function(t){return!!m&&m in t}(t))&&(G(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?j:u).test(B(t))}function $(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return H(n)?n:void 0}var F=function(t){return O.call(t)};function B(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function V(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&z(t)}(t)&&_.call(t,"callee")&&(!x.call(t,"callee")||O.call(t)==o)}(P&&"[object DataView]"!=F(new P(new ArrayBuffer(1)))||C&&F(new C)!=s||A&&"[object Promise]"!=F(A.resolve())||M&&F(new M)!=c||R&&"[object WeakMap]"!=F(new R))&&(F=function(t){var e=O.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?B(n):void 0;if(r)switch(r){case I:return"[object DataView]";case L:return s;case N:return"[object Promise]";case D:return c;case U:return"[object WeakMap]"}return e});var q=Array.isArray;function z(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!G(t)}var W=E||function(){return!1};function G(t){var e=Y(t)?O.call(t):"";return e==i||e==a}function Y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(z(t)&&(q(t)||"string"==typeof t||"function"==typeof t.splice||W(t)||V(t)))return!t.length;var e=F(t);if(e==s||e==c)return!t.size;if(T||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||b)}(t))return!k(t).length;for(var n in t)if(_.call(t,n))return!1;return!0}}).call(e,n(25),n(30)(t))},,,,,,,function(t,e){t.exports=function(t){return function(e){return t(e)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116;function b(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case f:case p:case a:case c:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case h:case u:return t;default:return e}}case y:case v:case i:return e}}}function g(t){return b(t)===p}e.typeOf=b,e.AsyncMode=f,e.ConcurrentMode=p,e.ContextConsumer=l,e.ContextProvider=u,e.Element=o,e.ForwardRef=h,e.Fragment=a,e.Lazy=y,e.Memo=v,e.Portal=i,e.Profiler=c,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===p||t===c||t===s||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===u||t.$$typeof===l||t.$$typeof===h)},e.isAsyncMode=function(t){return g(t)||b(t)===f},e.isConcurrentMode=g,e.isContextConsumer=function(t){return b(t)===l},e.isContextProvider=function(t){return b(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return b(t)===h},e.isFragment=function(t){return b(t)===a},e.isLazy=function(t){return b(t)===y},e.isMemo=function(t){return b(t)===v},e.isPortal=function(t){return b(t)===i},e.isProfiler=function(t){return b(t)===c},e.isStrictMode=function(t){return b(t)===s},e.isSuspense=function(t){return b(t)===d}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n,r){switch(arguments.length){case 1:return t(e,0,e.length);case 2:return t(e,n,e.length);default:for(var o=[],i=-1,a=Math.max(0,Math.min(e.length,r)-n);++i<a;)o[i]=e[n+i];return o}},t.exports=e.default},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=f(["","分钟前"],["","分钟前"]),o=f(["今天 ",""],["今天 ",""]),i=f(["昨天 ",""],["昨天 ",""]);e.autoRefresh=function(e){var n=(0,s.default)(e)?t(e):e;p.push(n)},e.format=d,e.sortByDate=function(t){var e=0,n=[[]];return(0,c.default)(t,function t(r){return function(t){switch(e){case 0:return y(t);case 1:return y(t,864e5);case 2:return y(t,6048e5);case 3:return y(t,2592e6);default:return!0}}(r.lastUsedAt)?n[e].push(r):(n[++e]=[],t(r))}),n},e.sortByDay=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lastUsedAt",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={},o=[];for(var i in(0,c.default)(t,function(t){var n=new Date(t[e]),o=n.getFullYear()+"/"+v(n.getMonth()+1)+"/"+v(n.getDate());r.hasOwnProperty(o)||(r[o]=[]),r[o].push(t)}),r)r.hasOwnProperty(i)&&o.push({timestamp:i,timeLabel:d(i,!1,!1,!0,"／"),files:r[i]});var a=n?"desc":"asc";return(0,u.default)(o,["timestamp"],[a])};var a=l(n(2)),s=l(n(34)),c=l(n(216)),u=l(n(582));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var p=[];function h(e){e.find("[data-time]").each(function(e){var n=t(e);return n.html(d(n.attr("data-time"),"1"===n.attr("full")))})}function d(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"/",u=new Date,l=+u/1e3,f=new Date(t),p=l-+new Date(t)/1e3;if(n){if(p<60)return(0,a.default)("刚刚");if(p<3600)return(0,a.default)(r,parseInt(p/60,10))}var h=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate()+" 00:00:00")-new Date(t)+864e5,d=v(f.getHours())+":"+v(f.getMinutes());if(h>0&&h<=864e5)return s?(0,a.default)("今天"):(0,a.default)(o,d);if(h>864e5&&h<=1728e5)return s?(0,a.default)("昨天"):(0,a.default)(i,d);var y=""+(f.getMonth()+1)+c+f.getDate()+" "+d;return s&&(y=""+(f.getMonth()+1)+c+f.getDate()),(e||f.getFullYear()!==u.getFullYear())&&(y=""+f.getFullYear()+c+y),y}function v(t){return t<10?"0"+t:t}function y(t,e){var n=null;n=e?new Date(new Date(t).valueOf()+e):new Date(t);var r=new Date;return n.setHours(0,0,0,0)>=r.setHours(0,0,0,0)}window.setInterval(function(){for(var t=0;t<p.length;t++){h(p[t])}},15e3)}).call(e,n(85))},,,,,,,function(t,e,n){"use strict";e.a=function(t){t=Array.isArray(t)?t:[t],t=d()(t,!0);var e=Object(p.a)(f()(v),Object(u.a)(["events","reducers","selectors"]),c()(a.e))(t),n=e.reducers,r=e.events,o=e.selectors;return{reducers:n,events:r,select:Object(i.b)(Object(i.c)(o))}};var r=n(319),o=n(320),i=n(465),a=n(76),s=n(137),c=n.n(s),u=n(469),l=n(263),f=n.n(l),p=n(321),h=n(470),d=n.n(h);function v(t){var e=t.namespace,n=t.events,a=t.reducers,s=t.selectors;return{events:Object(r.a)(e,n),reducers:Object(o.b)(e,a),selectors:Object(i.a)(e,s)}}},function(t,e,n){"use strict";e.a=function(t){var e=t.module,n=t.initState,s=t.enhancer,c=t.extReducers,u=[],l=function(t,e){return t};if(null==e)l=c?Object(i.c)(c):l;else{var f=e.events,p=e.reducers,h=e.select;l=Object(o.a)(p,c),u.push(Object(r.a)(f,h))}"function"==typeof s&&u.push(s);return a.a.apply(void 0,u)(i.d)(l,n)};var r=n(471),o=n(320),i=n(224),a=n(472)},,,,,,,function(t,e,n){var r=n(436),o=n(437),i=n(50),a=n(4);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e,n){var r=n(99);t.exports=function(t,e){var n=[];return r(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}},function(t,e,n){var r=n(99),o=n(439),i=n(304),a=n(50),s=n(4);t.exports=function(t,e){if(e=a(e,3),s(t)){var n=i(t,e);return n>-1?t[n]:void 0}return o(t,e,r)}},function(t,e){t.exports=function(t,e,n,r){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=r?n:t,!1}),o}},function(t,e,n){var r=n(441),o=n(442),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){var r,o,i=n(305),a=n(306),s=0,c=0;t.exports=function(t,e,n){var u=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:c+1,y=d-s+(v-c)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||d>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,c=v,o=p;var b=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var g=d/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=p>>>8|128,l[u++]=255&p;for(var m=0;m<6;++m)l[u+m]=f[m];return e||a(l)}},function(t,e,n){var r=n(305),o=n(306);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window._SHIMO_BRAODCAST_=window._SHIMO_BRAODCAST_||{};var r=window._SHIMO_BRAODCAST_.attachFunctionList=window._SHIMO_BRAODCAST_.attachFunctionList||{},o=window._SHIMO_BRAODCAST_.notifyCache=window._SHIMO_BRAODCAST_.notifyCache||{},i=function(t,e,o){if("string"==typeof t)if("function"==typeof e){for(var i=(r[t]||[]).length;i--;)if(r[t][i].fun===e){if(!0!==o)return r[t][i];r[t].splice(i,1)}}else if("object"===(void 0===e?"undefined":n(e))&&o)for(var a=(r[t]||[]).length;a--;)r[t][a].scope===e&&r[t].splice(a,1);else{if(!0!==!!e)return r[t];delete r[t]}return null},a=function(t,e,n){var a=n||{};if("string"==typeof t&&"function"==typeof e){i(t)||(r[t]=[]);var s={fun:e,scope:a.scope,isAsync:a.isAsync};i(t).push(s);var u=o[t];delete o[t],Array.isArray(u)&&!0===a.invoke&&setTimeout(function(){c(s,u)})}},s=function(t,e){if("string"==typeof t){var r=void 0===e?"undefined":n(e);"function"===r||"object"===r?i(t,e,!0):i(t,!0)}};function c(t,e){if(t.isAsync)!function(t){setTimeout(function(){t.fun.apply(t.scope,e)},0)}(t);else try{t.fun.apply(t.scope,e)}catch(t){console.error(t.stack)}}e.default={destory:function(){r=window._SHIMO_BRAODCAST_={}},on:a,off:s,attach:a,detach:s,notify:function(t){var e=i(t)||[];if(0!==e.length){var n=Array.prototype.slice.call(arguments,1);o[t]=n;for(var r=0;r<e.length;r++)c(e[r],n)}},attachOne:function(t,e,n){s(t),a(t,e,n)},BCBundle:function(t){var e=t,n=Object.keys(t);return n.forEach(function(t){return a(t,e[t])}),{detach:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?s(t,e[t]):n.forEach(function(t){return s(t,e[t])})}}}},t.exports=e.default},,,,,,,function(t,e,n){"use strict";var r=n(314),o=n(0),i=(n.n(o),n(3)),a=n.n(i),s=n(315);n(258);e.a=function(t){var e;void 0===t&&(t="store");var n=t+"Subscription",i=function(e){Object(r.a)(a,e);var i=a.prototype;function a(n,r){var o;return(o=e.call(this,n,r)||this)[t]=n.store,o}return i.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);return i.propTypes={store:s.a.isRequired,children:a.a.element.isRequired},i.childContextTypes=((e={})[t]=s.a.isRequired,e[n]=s.b,e),i}()},function(t,e,n){"use strict";e.a=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";var r=n(261),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(t){return r.isMemo(t)?a:s[t.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var o=h(n);o&&o!==d&&t(e,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=c(e),v=c(n),y=0;y<a.length;++y){var b=a[y];if(!(i[b]||r&&r[b]||v&&v[b]||s&&s[b])){var g=p(n,b);try{u(e,b,g)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=null,o={notify:function(){}};var i=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=o}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var t=[],e=[];return{clear:function(){e=r,t=r},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var o=!0;return e===t&&(e=t.slice()),e.push(n),function(){o&&t!==r&&(o=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},t}()},function(t,e,n){"use strict";var r=n(259),o=n(260),i=n(316),a=n(455),s=n(456),c=n(460),u=n(461),l=n(462);function f(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function p(t,e){return t===e}e.a=function(t){var e=void 0===t?{}:t,n=e.connectHOC,h=void 0===n?i.a:n,d=e.mapStateToPropsFactories,v=void 0===d?c.a:d,y=e.mapDispatchToPropsFactories,b=void 0===y?s.a:y,g=e.mergePropsFactories,m=void 0===g?u.a:g,w=e.selectorFactory,_=void 0===w?l.a:w;return function(t,e,n,i){void 0===i&&(i={});var s=i,c=s.pure,u=void 0===c||c,l=s.areStatesEqual,d=void 0===l?p:l,y=s.areOwnPropsEqual,g=void 0===y?a.a:y,w=s.areStatePropsEqual,O=void 0===w?a.a:w,j=s.areMergedPropsEqual,S=void 0===j?a.a:j,x=Object(o.a)(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=f(t,v,"mapStateToProps"),k=f(e,b,"mapDispatchToProps"),P=f(n,m,"mergeProps");return h(_,Object(r.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:E,initMapDispatchToProps:k,initMergeProps:P,pure:u,areStatesEqual:d,areOwnPropsEqual:g,areStatePropsEqual:O,areMergedPropsEqual:S},x))}}()},function(t,e,n){"use strict";e.a=function(t,e){if(o(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!o(t[n[a]],e[n[a]]))return!1;return!0};var r=Object.prototype.hasOwnProperty;function o(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(224),o=n(317);e.a=[function(t){return"function"==typeof t?Object(o.b)(t,"mapDispatchToProps"):void 0},function(t){return t?void 0:Object(o.a)(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?Object(o.a)(function(e){return Object(r.b)(t,e)}):void 0}]},function(t,e,n){"use strict";(function(t,r){var o,i=n(458);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(e,n(25),n(418)(t))},function(t,e,n){"use strict";e.a=function(t){var e,n=t.Symbol;"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable";return e}},function(t,e,n){"use strict";e.a=function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}},function(t,e,n){"use strict";var r=n(317);e.a=[function(t){return"function"==typeof t?Object(r.b)(t,"mapStateToProps"):void 0},function(t){return t?void 0:Object(r.a)(function(){return{}})}]},function(t,e,n){"use strict";var r=n(259);n(318);function o(t,e,n){return Object(r.a)({},n,t,e)}e.a=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(e,n,s){var c=t(e,n,s);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(t):void 0},function(t){return t?void 0:function(){return o}}]},function(t,e,n){"use strict";e.a=function(t,e){var n=e.initMapStateToProps,a=e.initMapDispatchToProps,s=e.initMergeProps,c=Object(r.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(t,c),l=a(t,c),f=s(t,c);0;return(c.pure?i:o)(u,l,f,t,c)};var r=n(260);n(463);function o(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function i(t,e,n,r,o){var i,a,s,c,u,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function d(o,h){var d=!f(h,a),v=!l(o,i);return i=o,a=h,d&&v?(s=t(i,a),e.dependsOnOwnProps&&(c=e(r,a)),u=n(s,c,a)):d?(t.dependsOnOwnProps&&(s=t(i,a)),e.dependsOnOwnProps&&(c=e(r,a)),u=n(s,c,a)):v?function(){var e=t(i,a),r=!p(e,s);return s=e,r&&(u=n(s,c,a)),u}():u}return function(o,l){return h?d(o,l):function(o,l){return s=t(i=o,a=l),c=e(r,a),u=n(s,c,a),h=!0,u}(o,l)}}},function(t,e,n){"use strict";n(258)},function(t,e,n){"use strict";var r=n(144);e.a=function(t,e){return r.default.combine(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=e[e.length-2],o=e.slice(0,e.length-2),i=[],a=0,s=o.length;a<s;a++){var c=o[a]();if(c instanceof Error)return void r(c);i.push(c)}r(t.apply(null,i))},e)}},function(t,e,n){"use strict";e.a=function(t,e){if(null==e)return{};return Object(r.d)(t,e,function(t,e){return"string"==typeof e?Object(r.c)(t,e):e.map(function(e){return"string"==typeof e?Object(r.c)(t,e):e})})},e.c=function(t){var e={};return Object.keys(t).forEach(function(n){!function t(e,n,r){var a=r[e];if("function"==typeof a)return a;var s=f(e),c=s[0],u=s[1];if(c){var l=n[u];if(null==l)throw new Error("[selectors resolveEntry]invalid selector identifier "+e);if("string"==typeof l)a=t(l,n,r);else{var p=l[l.length-1],h=l.slice(0,l.length-1).map(function(e){return t(e,n,r)});a=Object(i.createSelector)(h,p)}}else a=function(t){return Object(o.a)(e,t)};return r[e]=a,a}(n+"=",t,e)}),e},e.b=function(t){var e=Object.keys(t).reduce(function(e,n){var r=f(n),i=r[0],a=r[1];return i&&Object(o.a)(a,e,t[n]),e},{});return function t(n,r){if("object"==typeof n)return s()(function(e){return t(e,r)},n);var i=f(n),a=i[0],c=i[1];if(a){var p=Object(o.a)(c,e);return l.default.isFunction(p)||l.default.isObject(p)?u()(function(t){return t(r)},p):void console.warn('[select]invalid selector key "'+n+'"')}return Object(o.a)(n,r)}};var r=n(76),o=n(466),i=n(467),a=(n.n(i),n(137)),s=n.n(a),c=n(468),u=n.n(c),l=n(62);function f(t){return"="===t.charAt(t.length-1)&&t.length>1?[!0,t.slice(0,t.length-1)]:[!1,t]}},function(t,e,n){"use strict";var r=n(62);function o(t,e){throw void 0===t&&(t=""),void 0===e&&(e=Error),new e(t)}function i(t){var e=Object(r.default)(t);return"array"===e||"object"===e}e.a=function(t,e,n,a){return arguments.length<3?function(t,e){switch(!0){case r.default.isNumber(t)&&i(e):return e[t];case r.default.isString(t)&&i(e):if(0===(t=t.trim()).length)return e;var n=t.split(".");if(n.length<=1)return e[t];for(var o=0;o<n.length&&i(e=e[n[o]]);)o+=1;if(o<n.length-1)return;return e;default:return e}}(t,e):function(t,e,n,a){var s=e;switch(!0){case r.default.isNumber(t)&&i(e):e[t]=p(e[t],n,a);break;case r.default.isString(t)&&i(e):if(0===(t=t.trim()).length)break;for(var c=t.split("."),u=0,l=void 0,f=void 0;u<c.length-1;)i(f=e[l=c[u]])||(void 0!==f?o('[updateKeyPath] invalid keypath! Value with path "'+c.slice(0,u+1).join(".")+'" should be an object, but given: '+f):e[l]={}),e=e[l],u+=1;e[c[u]]=p(e[c[u]],n,a)}return s;function p(t,e,n){return"function"==typeof n?n(t,e):e}}(t,e,n,a)}},function(t,e,n){"use strict";function r(t,e){return t===e}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return function(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=0,s=r.pop(),c=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(t){return"function"==typeof t})){var n=e.map(function(t){return typeof t}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}(r),u=t.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=o(function(){for(var t=[],e=c.length,n=0;n<e;n++)t.push(c[n].apply(null,arguments));return u.apply(null,t)});return l.resultFunc=s,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}e.__esModule=!0,e.defaultMemoize=o,e.createSelectorCreator=i,e.createStructuredSelector=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map(function(e){return t[e]}),function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e,r){return t[n[r]]=e,t},{})})};var a=e.createSelector=i(o)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(263)),o=c(n(137)),i=c(n(62)),a=c(n(270)),s=c(n(100));function c(t){return t&&t.__esModule?t:{default:t}}e.default=(0,s.default)(2,function t(e,n){(0,a.default)(i.default.isFunction(e),"[mapRecursive] first param need to be function");var s=(0,i.default)(n);return"object"!==s&&"array"!==s?e(n):("array"===s?r.default:o.default)(function(n){return t(e,n)},n)}),t.exports=e.default},function(t,e,n){"use strict";e.a=function t(e,n){if(null==n)return function(n){return t(e,n)};return e.reduce(function(t,e){return t[e]=n.map(function(t){return t[e]}),t},{})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(62));e.default=function t(e,n){return r.default.isArray(e)?e.reduce(function(e,r){return e.concat(n?t(r,!0):r)},[]):e},t.exports=e.default},function(t,e,n){"use strict";e.a=function(t,e){return function(n){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=n.apply(void 0,a),u=c.getState,l=Object(o.b)(function(t){return e(t,u())},function(t){return function(e){return Object(r.f)(e)&&t.has(e.type)?(t.send(e.type,e.payload),e):c.dispatch(e)}},t);return l.each(function(t){l.on(t,function(e){if(e instanceof Error){var n=l.has("@ERROR"),o=l.has(t+".error");n&&l.send("@ERROR",{action:t,error:e}),o&&l.send(t+".error",{error:e}),o||n||c.dispatch(Object(r.d)(t,e))}else Object(r.f)(e)&&e.type!==t?l.send(e.type,e.payload):"_"!==t.charAt(0)&&c.dispatch(Object(r.b)(Object(r.c)(t),e))})}),i({},c,{select:e,dispatch:l.dispatch})}}};var r=n(87),o=n(319),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(function(t,e){return function(n){return t(e(n))}})}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var r="@TOGGLE_SIDEBAR",o="@SWITCH_TAB"},function(t,e,n){var r=n(99),o=n(11);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,function(t,r,o){i[++n]=e(t,r,o)}),i}},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(r.a)(function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Object(o.default)(),u=t.map(function(t){return function(n){var r=t(e,n);return r.on(function(t){t instanceof Error&&i(t)}),a()(function(t){return!(t instanceof Error)},r)}});return Object(s.a)([c.a.apply(void 0,u)(n.length>1?n:n[0]),i])})};var r=n(87),o=n(144),i=n(690),a=n.n(i),s=n(513),c=n(321)},function(t,e,n){"use strict";e.a=function(t){return function(e,n){return o()(function(n){return t(e,n)},n)}};var r=n(587),o=n.n(r)},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r="string"==typeof t?t:String(t);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var o="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=r.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,i){if(!n)return e;if("object"!=typeof n){if(o(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return o(e)&&!o(n)&&(s=a(e,i)),o(e)&&o(n)?(n.forEach(function(n,o){if(r.call(e,o)){var a=e[o];a&&"object"==typeof a&&n&&"object"==typeof n?e[o]=t(a,n,i):e.push(n)}else e[o]=n}),e):Object.keys(n).reduce(function(e,o){var a=n[o];return r.call(e,o)?e[o]=t(e[o],a,i):e[o]=a,e},s)}}},function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=n(213),c=n(212),u=n(138),l=n(480),f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),o(e,[{key:"freeze",value:function(){u.freeze(this.data),u.freeze(this.data.rows),u.freeze(this.data.cols)}},{key:"name",value:function(){return"TableOperator"}},{key:"getEmbedObject",value:function(){if("object"!=typeof this.data)throw new Error("data is not an embed object");return{table:this.data}}},{key:"skipDiff",value:function(){return!0}},{key:"_genericSet",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_genericSet",this).call(this,t),r=n.changed,o=n.op;if("object"==typeof o.data){if(o.data.rows||(o.data.rows=new c),o.data.cols||(o.data.cols=new c),o.data.cells||(o.data.cells={}),"function"!=typeof o.data.cells.name&&(o.data.cells=new l({action:o.action,cells:o.data.cells})),"function"!=typeof o.data.rows.pack)throw new Error("rows should be a Delta");if("function"!=typeof o.data.cols.pack)throw new Error("cols should be a Delta");"retain"===o.action&&o.data.rows.isEmpty()&&o.data.cols.isEmpty()&&!Object.keys(o.data.cells).length&&(o.data=1)}if("insert"===o.action){if(!o.data.rows.isDocument())throw new Error("rows should be a document");if(!o.data.cols.isDocument())throw new Error("cols should be a document")}return{changed:r,op:o}}},{key:"pack",value:function(){var t=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"pack",this).call(this);if("object"==typeof t[1]){var n=t[1],r=n.cells,o=n.rows,a=n.cols;if(t[1]=[r.pack()],o.isEmpty()&&a.isEmpty())return t;a.isEmpty()?t[1].push(o.pack()):(t[1].push(o.isEmpty()?0:o.pack()),t[1].push(a.pack()))}return t}},{key:"compose",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"compose",this).call(this,t);if("number"==typeof this.data||"number"==typeof t.data)return n;var r={rows:n.data.rows.compose(t.data.rows),cols:n.data.cols.compose(t.data.cols)},o=new l({cells:n.data.cells,action:n.action});return o.composeWithMutations(t.data),t.data.cells.forEach(function(e){var n=o.get(e),r=t.data.cells.get(e);o.set(e,n.compose(r))}),r.cells=o,n.set({data:r})}},{key:"invert",value:function(t){var n=this,r=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"invert",this).call(this,t);if("number"==typeof this.data||"number"==typeof t.data)return r;var o={rows:this.data.rows.invert(t.data.rows),cols:this.data.cols.invert(t.data.cols)},a=new l({cells:t.data.cells,action:r.action});a.composeWithMutations(o,function(e,r){try{return n.data.cells.get(r).invert(e)}catch(e){throw new Error(e.message+": "+t.getAttributes().id+", "+r)}});var s=t.data.rows.isEmpty(),c=t.data.cols.isEmpty();return s&&c||this.data.cells.forEach(function(e){var r=u.parsePosition(e),o=r.row,i=r.col;null!==t.data.rows.composePosition(o)&&null!==t.data.cols.composePosition(i)||a.set(e,n.data.cells.get(e))}),o.cells=a,r.set({data:o})}},{key:"transform",value:function(t,n){var r=this,o=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"transform",this).call(this,t,n);if("number"==typeof this.data||"number"==typeof t.data)return o;var a={rows:o.data.rows.transform(this.data.rows,!n),cols:o.data.cols.transform(this.data.cols,!n)},s={rows:this.data.rows.transform(t.data.rows,n),cols:this.data.cols.transform(t.data.cols,n)},c=new l({cells:t.data.cells,action:o.action});c.composeWithMutations(a);var f=t.data.rows.isEmpty(),p=t.data.cols.isEmpty();return this.data.cells.forEach(function(t){var e=u.parsePosition(t),o=e.row,i=e.col;if(f||(o=s.rows.composePosition(o)),p||(i=s.cols.composePosition(i)),null!==o&&null!==i){var a=u.stringifyPosition(o,i);c.set(a,r.data.cells.get(t).transform(c.get(a),n))}}),s.cells=c,o.set({data:s})}}],[{key:"unpack",value:function(t){if(Array.isArray(t[1])){var n=r(t[1],3),o=n[0],a=n[1],s=n[2];t[1]={rows:a?c.unpack(a):null,cols:s?c.unpack(s):null,cells:o}}return i(e.__proto__||Object.getPrototypeOf(e),"unpack",this).call(this,t)}}]),e}();f.packId=3,t.exports=f},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(323),i=n(212),a=n(138),s=n(349),c=function(){function t(e){var n=e.cells,r=e.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cells={},"function"==typeof n.name)for(var o in this.proto=n.proto,n.cells)n.cells.hasOwnProperty(o)&&(this.cells[o]=n.cells[o]);else this.proto=n;this.action=r}return r(t,[{key:"name",value:function(){return"CellManager"}},{key:"keys",value:function(){var t=[];return this.forEach(function(e){t.push(e)}),t}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0;return(r=void 0===this.cells[t]?this.proto[t]:this.cells[t])?(e&&Array.isArray(r)&&(r=this.cells[t]=o.operatorUnpacker(r)),r.action&&r.action!==this.action&&(r=this.cells[t]=r.set({action:this.action}))):r=n?null:new o({action:this.action,data:"insert"===this.action?new i:1}),r&&1===r.constructor.packId&&(r=new o({action:r.action,attributes:r.attributes,data:r.data})),r}},{key:"forEach",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in this.cells)!this.cells.hasOwnProperty(n)||e&&null===this.cells[n]||t(n);for(var r in this.proto)this.proto.hasOwnProperty(r)&&!this.cells.hasOwnProperty(r)&&null!==this.proto[r]&&t(r)}},{key:"some",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in this.cells)if(this.cells.hasOwnProperty(n)&&t(n))return!0;if(!e)for(var r in this.proto)if(this.proto.hasOwnProperty(r)&&!this.cells.hasOwnProperty(r)&&t(r))return!0;return!1}},{key:"set",value:function(t,e){this.cells[t]=e||null}},{key:"composeWithMutations",value:function(t,e){var n=this,r=t.rows,o=t.cols,i=r.isEmpty(),s=o.isEmpty();if(!i||!s||e){var c={},u={row:{},col:{}};this.forEach(function(t){var l=a.parsePosition(t),f=l.row,p=l.col;if(i||(void 0===u.row[f]&&(u.row[f]=r.composePosition(f)),f=u.row[f]),s||(void 0===u.col[p]&&(u.col[p]=o.composePosition(p)),p=u.col[p]),c[t]||(c[t]=null),null!==f&&null!==p){var h=a.stringifyPosition(f,p),d=n.get(t,!0,!e);c[h]=e?e(d,h):d}},!1),this.cells=c}}},{key:"pack",value:function(){var t=this,e={};return this.forEach(function(n){var r=t.get(n,!1);Array.isArray(r)?e[n]=r:(r.attributes||r.data.isEmpty&&!r.data.isEmpty())&&(e[n]=r.pack())}),s(e)?0:e}}]),t}();t.exports=c},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var i=n(213),a=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"name",value:function(){return"TextOperator"}},{key:"getEmbedObject",value:function(){if("object"!=typeof this.data)throw new Error("data is not an embed object");return this.data}},{key:"setData",value:function(t){switch(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.action){case"insert":if("string"!=typeof this.data&&"object"!=typeof this.data)throw new Error('data should be a string or an object for "insert" action, got '+this.data);break;case"retain":if("number"!=typeof this.data)throw new Error('data should be a number for "'+this.action+'" action, got '+this.data)}return this}}]),e}();a.packId=2,t.exports=a},,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},,,,,,,,,,function(t,e,n){"use strict";e.a=function(t){var e=r.default.immediate(r.default.combine(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-2],r=t[t.length-1];r[0]?n(r[0]()):t.slice(0,t.length-2).some(function(t){return!!t.hasVal&&(n(t.val),!0)})},t));return r.default.endsOn(r.default.combine(function(){return!0},i()(function(t){return t.end},t)),e),e};var r=n(144),o=n(263),i=n.n(o)},function(t,e,n){"use strict";e.a=function(t){return function(e,n){return o()(function(n){return t(e,n)},n)}};var r=n(690),o=n.n(r)},function(t,e,n){"use strict";var r=n(589),o=n(590),i=n(478);t.exports={formats:i,parse:o,stringify:r}},function(t,e,n){"use strict";e.a=function(t){return Object(r.a)(function(e,n){Promise.resolve(t(e,n)).then(e.trigger).catch(e.trigger)})};var r=n(517)},function(t,e,n){"use strict";e.a=function(t){return function(e,n){return r.default.combine(function(n,r){var i=n();t(o({trigger:r},e),i)},[n])}};var r=n(144),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}},function(t,e,n){"use strict";(function(t){n.d(e,"i",function(){return A}),n.d(e,"d",function(){return M}),n.d(e,"e",function(){return R}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return I}),n.d(e,"f",function(){return L}),n.d(e,"c",function(){return N}),n.d(e,"b",function(){return D});var r,o,i,a,s,c,u,l=n(1),f=(n.n(l),n(514)),p=n(476),h=n(475),d=n(87),v=n(225),y=n(516),b=n(950),g=n(322),m=n(76),w=n(588),_=n(592),O=n(517),j=n(593),S=this&&this.__assign||function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},x=l.sheets.ajax.ajax,E=l.sheets.changeset,k=E.unpack,P=E.compose,C=function(t){return Object(m.b)("historyPreview")(t+"historyPreview")},A=C("@showPreview"),M=C("@hidePreview"),R=C("@initState"),T=C("@setSelectedItem"),I=C("@setStep"),L=C("@setLoading"),N=C("@destory"),D=C("loadBaseRev"),U=C("onLoadBaseRev"),H=C("doShowPreview"),$=C("onLoadSnapShot"),F={isShowPreview:[!1,(r={},r[A]=function(){return!0},r[M]=function(){return!1},r[N]=function(){return!1},r)],initData:[{},(o={},o[R]=function(t,e){return S({},t,e)},o)],isLoadingPreview:[!1,(i={},i[T]=function(){return!0},i[A]=function(){return!0},i.showPreview=function(){return!1},i[L]=function(t,e){return e},i)],baseDelta:[null,{showPreview:function(t,e){var n=e.baseDelta;return void 0===n?null:n}}],curDelta:[null,{showPreview:function(t,e){return e.curDelta}}],sheetId:[{},{showPreview:function(t,e){return{id:e.sheetId}}}],steps:[[],(a={},a[A]=function(){return[]},a[T]=function(){return[]},a.loadHistoryDetailSucceed=function(t,e){return e},a)],curStep:[null,(s={showPreview:function(){return null}},s[I]=function(t,e){return e},s)],failTimesCheck:[0,(c={},c[A]=function(){return 0},c[T]=function(){return 0},c[D]=function(t){return t+1},c)]},B=((u={searchBaseRev:[A,D,Object(h.a)(Object(j.a)(),Object(f.a)(function(t){var e=t.get;return Object(g.e)(e("::history.selected"))}),Object(O.a)(function(t){var e=t.trigger,n=t.get,r=Object(_.c)(n("::history.list"),n("::history.selected.id"));if(Object(v.e)(r)){var o=n("::history.isLastPage"),i=n("initData.guid"),a=n("::history.list");return e(o?Object(d.b)(H):Object(d.b)(U,{isLastPage:o,guid:i,length:a.length,baseRev:r}))}e(Object(d.b)($,r))}))],loadSnapshot:[$,Object(h.a)(Object(p.a)(function(t,e){var n=t.get,r=n("initData.snapshotUrl"),o=n("initData.headers");return Object(b.b)({url:r,rev:e.value,headers:o})}),Object(y.a)(x),g.c,Object(O.a)(function(t,e){var n=t.trigger,r=t.get;return n(Object(d.b)(H,k(r("initData.fileType"),e)))}))],showPreview:[H,Object(h.a)(Object(f.a)(function(t){return null!=(0,t.get)("::history.selected.id")}),Object(p.a)(function(t,e){var n=t.get,r=n("initData.fileType"),o=n("::history.selected"),i=k(r,JSON.parse(o.content).changeset),a=e?P(r,e,i):i;return{sheetId:i.length>1?Object(_.g)(i):void 0,curDelta:a,baseDelta:e}}))],loadHistoryDetailSucceed:["showPreview",Object(h.a)(Object(p.a)(function(t){var e=t.get,n=e("initData.loadStepsUrl"),r=JSON.parse(e("::history.selected.content")).range,o=e("initData.headers");return Object(b.a)({url:n,range:r,headers:o})}),Object(y.a)(x),g.c)]})[D]=[U,Object(h.a)(Object(f.a)(function(e,n){var r=e.get,o=n.isLastPage,i=r("failTimesCheck"),a=i>=5;return!o&&a&&t({guid:r("initData.guid")},"history loadBaseRev failed "+i,0,0,{name:"ERR_SHEET_HISTORY_LOAD_BASEREV"}),!o&&!a}),Object(p.a)(function(t,e){var n=t.get,r=e.length,o=n("initData.loadHistoryUrl");return Object(w.a)({url:o,start:r,headers:n("initData.headers")})}),Object(y.a)(x),g.c)],u);e.a={namespace:"historyPreview",reducers:F,events:B}}).call(e,n(307))},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"a",function(){return d});var r=n(224),o=n(427),i=n(428),a=n(594),s=n(591),c=n(958),u=n(518),l=n(696),f=n(595),p=n(1),h=(n.n(p),p.sheets.log.Raven),d=Object(o.a)([c.a,u.a,s.a,l.a,f.a]),v=Object(r.a)(Object(a.a)(function(t){t.action;var e=t.error;h.captureException(e)})),y=Object(i.a)({module:d,enhancer:v})},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Helper",function(){return v});var r=n(1),o=(n.n(r),n(542)),i=n(546),a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=r.sheets,c=s.root,u=s.path,l=s.Events,f=s.Plugin,p=u.setByPath,h=(r.Editor,"Collaborators"),d=function(t){function e(n){var r=n.editor,o=t.call(this,{name:h,Constructor:e,config:arguments[0]})||this;return o.updateCollabName=function(t){var e=t.cell;if(e){var n=o.editor.spread.gcSpread.getActiveSheet(),r=o.collaborators;Object(i.e)({sheet:n,collaborators:r},e)}},o.updateCollab=function(){if(o.editor.isRendered){var t=o.editor.spread.gcSpread.getActiveSheet(),e=o.collaborators;Object(i.f)({sheet:t,collaborators:e})}},o.updateCollabAfterRowOrColChanged=function(){var t=o.editor.spread.gcSpread.getActiveSheet(),e=o.collaborators;Object(i.g)({sheet:t,collaborators:e})},o.editor=r,o._dataManage=o._initManager(),o._listenEditorEvents(),o.install(),o}return a(e,t),e.prototype.onUserSelect=function(t){"sheet"===t.docType&&this._dataManage.onReceiveSelected(t)},e.prototype.onUserLeave=function(t){var e=this;t.leaveUsers.forEach(function(t){e._dataManage.onUserLeave(t)})},Object.defineProperty(e.prototype,"collaborators",{get:function(){return this._dataManage.collaborators},enumerable:!0,configurable:!0}),e.prototype._initManager=function(){var t=new o.a;return t.onUpdateUI(this.updateCollab),t},e.prototype._listenEditorEvents=function(){var t=this;this.editor.on(l.AfterHoveredCellChanged,this.updateCollabName),this.editor.on(l.SheetSwitched,this.updateCollab),this.editor.on(l.AfterSelectedCellChanged,function(e){var n=e.cell,r=e.sheet,o=n.row,i=n.col,a={row:o,col:i,endRow:o,endCol:i};t.emit("userSelect",{docType:"sheet",range:a,sheetId:r.guid()})}),this.editor.on(l.AfterSelectionChanged,this.updateCollab),this.editor.on(l.RowOrColChanged,this.updateCollabAfterRowOrColChanged),this.editor.on(l.AfterChangeApplied,this.updateCollabAfterRowOrColChanged),this.editor.on(l.CalcOperator,this.updateCollab)},e}(f);e.default=d;var v={addCollabBorder:i.a,removeCollabName:i.d,addCollabName:i.b,removeAllCollabs:i.c};p(c,"shimo.sdk.sheet.plugins.Collaborators",d)},function(t,e,n){"use strict";var r=n(543),o=n.n(r),i=n(205),a=n.n(i),s=n(146),c=n.n(s),u=function(){},l=function(){function t(){var t=this;this.sendOnSelect=u,this._triggerUpdateUI=c()(function(){"function"==typeof t._onUpdateUI&&t._onUpdateUI(t._collaborators)},500,{maxWait:5e3}),this._collaborators={}}return t.prototype.onUpdateUI=function(t){this._onUpdateUI=t},t.prototype.onReceiveSelected=function(t){var e=a()(this._collaborators);e=function(t,e){var n,r=e.sheetId,i=0,a=0;t[r]||(t[r]=[]);for(n=t[r],i=0,a=n.length;i<a;i++)if(e.userInfo.id===n[i].userInfo.id){n[i].range=e.range;break}i===a&&n.push(e);for(var s in t)if(s!==r+""){var c=t[s];o()(c,function(t){return t.userInfo.id===e.userInfo.id})}return t}(e,t),this._updateData(e)},t.prototype.onUserLeave=function(t){var e=a()(this._collaborators);e=function(t,e){for(var n in t){var r=t[n];o()(r,function(t){return t.userInfo.id===e.id})}return t}(e,t),this._updateData(e)},Object.defineProperty(t.prototype,"collaborators",{get:function(){return this._collaborators},enumerable:!0,configurable:!0}),t.prototype._updateData=function(t){this._collaborators=t,this._triggerUpdateUI()},t}();e.a=l},function(t,e,n){var r=n(50),o=n(544);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,a=[],s=t.length;for(e=r(e,3);++i<s;){var c=t[i];e(c,i,t)&&(n.push(c),a.push(i))}return o(t,a),n}},function(t,e,n){var r=n(83),o=n(24),i=n(31),a=n(324),s=n(545),c=n(26),u=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,l=n-1;n--;){var f=e[n];if(n==l||f!==p){var p=f;if(o(f))u.call(t,f,1);else if(i(f,t))delete t[c(f)];else{var h=r(f),d=s(t,h);null!=d&&delete d[c(a(h))]}}}return t}},function(t,e,n){var r=n(82),o=n(503);t.exports=function(t,e){return 1==e.length?t:r(t,o(e,0,-1))}},function(t,e,n){"use strict";(function(t){e.c=function(t){var e=t.floatingObjects,n=e.all();a()(n,function(t){var n=t._ps.name;n.match(/^collab-/)&&e.remove(n)})},e.f=function(t){var e=t.sheet,n=t.collaborators,r=b(e,n),o=r.collabIdsToRemove,i=r.collabsToUpdate;(o.length||i.length)&&h({obj:e,func:g})(e,{collabIdsToRemove:o,collabsToUpdate:i})},e.e=m,e.d=w,e.b=_,e.a=O,e.g=function(t){var e=t.sheet,n=t.collaborators;(function(t){var e=t.sheet,n=t.collaborators,r=e.guid(),o=n[r]||[],i=o.map(function(t){var e=t.userInfo;return""+e.id});S(e).forEach(function(t){var e=""+E(t.name()),n=i.indexOf(e);if(n>-1){var r=o[n],a=t._ps,s=a.startRow,c=a.startColumn;r.range={row:s,col:c,endRow:s,endCol:c}}})})({sheet:e,collaborators:n}),function(t){var e=t.sheet,n=t.collaborators,r=b(e,n);g(e,r)}({sheet:e,collaborators:n}),function(t){var e=t.sheet,n=t.collaborators,r=j(e);r&&m({sheet:e,collaborators:n},{row:r.startRow(),col:r.startColumn()})}({sheet:e,collaborators:n})};var r=n(290),o=n.n(r),i=n(216),a=n.n(i),s=n(435),c=n.n(s),u=n(438),l=n.n(u),f=n(1),p=(n.n(f),n(440)),h=(n.n(p),f.sheets.perf.paintWrap),d=f.sheets.Core,v=130,y={row:0,col:0,endRow:0,endCol:0};function b(t,e){var n=e[t.guid()]||[],r=n.map(function(t){return""+t.userInfo.id}),o={collabIdsToRemove:[],collabsToUpdate:[]};return S(t).forEach(function(t){var e=""+E(t.name());-1===r.indexOf(e)&&o.collabIdsToRemove.push(e)}),n.forEach(function(e){var n=e.userInfo,r=e.range;if(function(t,e){var n=void 0===e?y:e,r=n.row,o=n.col,i=t.filterRowsVisibleInfo,a=i?i.rowsVisibleInfo:{},s=t.attrs||{},c=s.rowVisible,u=void 0===c?[]:c,f=s.colVisible,p=void 0===f?[]:f,h=!1===a[r],d=!!l()(u,function(t){var e=t[0],n=t[1];return r>=e&&r<=n}),v=!!l()(p,function(t){var e=t[0],n=t[1];return o>=e&&o<=n});return h||d||v}(t,r)){var i=""+n.id;o.collabIdsToRemove.push(i)}else o.collabsToUpdate.push(e)}),o}function g(t,e){var n=e.collabIdsToRemove,r=e.collabsToUpdate;n.forEach(function(e){!function(t,e){var n="collab-border-"+e,r=t.floatingObjects;r.get(n)&&r.remove(n)}(t,e)}),r.forEach(function(e){var n=e.userInfo,r=e.range,i=""+n.id,a=x(t,i);a?function(t,e,n){var r=k(t,n);o()(r,function(t,n){t!==e[n]()&&e[n](t)})}(t,a,r):O(t,{userInfo:n,range:r})})}function m(t,e){for(var n,r=t.sheet,o=t.collaborators,i=e.row,a=e.col,s=o[""+r.guid()]||[],c=0,u=s.length;c<u;c++){var l=s[c].range||y;if(l.row===i&&l.col===a){n=s[c];break}}w(r),n&&x(r,""+n.userInfo.id)&&_(r,{range:n.range,userInfo:n.userInfo})}function w(t){var e=t.floatingObjects,n=j(t);n&&e.remove(n.name())}function _(e,n){var r=n.range,i=n.userInfo,a=i.name,s=i.color,c=function(e){return t("#font-container").text(e).css("font-size","9pt").width()}(a)||0,u=Math.min(c+8,v),l=new d.Spread.Sheets.FloatingObjects.FloatingObject("collab-name-"+Object(p.v4)(),0,0,u,18),f=document.createElement("div"),h=f.style;l.range=r;var y=function(t,e){var n=e.range||{},r=e.width(),o=e.height(),i=P(t,n),a=i.row,s=i.col,c=i.rangeWidth,u=0===a||t._scrollTopRow===a;return{startRow:a,startColumn:s,startRowOffset:u?0:-o,startColumnOffset:c+1-r}}(e,l);l.dynamicSize(!1),l.allowMove(!1),l.allowResize(!1),l.disableSelect(!0),h.background=s,f.innerText=a,f.className="collab-floating-object collab-floating-name",l.content(f),o()(y,function(t,e){l[e](t)}),e.floatingObjects.add(l)}function O(t,e,n){var r=e.range,i=e.userInfo,a=i.id,s=i.color,c="collab-border-"+(n?Object(p.v4)():a),u=s,l=k(t,r),f=new d.Spread.Sheets.FloatingObjects.FloatingObject(c),h=document.createElement("div"),v=h.style;f.dynamicMove(!0),f.dynamicSize(!1),f.allowMove(!1),f.allowResize(!1),f.disableSelect(!0),v.borderColor=u,h.className="collab-floating-object collab-floating-border",f.content(h),t.floatingObjects.add(f),o()(l,function(t,e){f[e](t)})}function j(t){var e=t.floatingObjects.all();return l()(e,function(t){return(t.name()||"").match(/^collab-name/)})}function S(t){var e=t.floatingObjects.all();return c()(e,function(t){return-1!==t.name().indexOf("collab-border")})}function x(t,e){return t.floatingObjects.get("collab-border-"+e)}function E(t){return t&&t.substring(14)}function k(t,e){var n=P(t,e),r=n.row,o=n.col;return{width:n.rangeWidth+1,height:n.rangeHeight+1,startRow:r,startColumn:o,endRow:r,endColumn:o,startRowOffset:0,startColumnOffset:0}}function P(t,e){void 0===e&&(e=y);var n=e.row,r=e.col,o=e.endRow?e.endRow:n,i=e.endCol?e.endCol:r,a=0,s=0,c=t.getSpan(n,r);if(c){var u=c.rowCount,l=c.colCount;o=(n=c.row)+u-1,i=(r=c.col)+l-1}for(var f=n;f<=o;f++)a+=t.getRowHeight(f,3,!0);for(f=r;f<=i;f++)s+=t.getColumnWidth(f);return{row:n,col:r,endRow:o,endCol:i,rangeWidth:s,rangeHeight:a}}}).call(e,n(85))},function(t,e,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=t({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u]));return document.cookie=e+"="+o+c}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,p=0;p<l.length;p++){var h=l[p].split("="),d=h.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var v=h[0].replace(f,decodeURIComponent);if(d=n.read?n.read(d,v):n(d,v)||d.replace(f,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(e===v){a=d;break}e||(a[v]=d)}catch(t){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}(function(){})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(7),a=n.n(i),s=n(223),c=n(76),u=n(427),l=n(428),f=n(1),p=(n.n(f),n(578)),h=n(579),d=n(580),v=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=this&&this.__assign||function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=function(t,e){return Object(s.b)(function(e,n){var r=t.select({isShow:"sidebar.isShow",activeTab:"sidebar.activeTab"},e);return y({},r,n)},function(){return e})(d.a)},g="sidebar",m=function(t){function e(n){var r=t.call(this,{name:g,Constructor:e,config:n})||this;return r.store=Object(l.a)({module:Object(u.a)([p.a])}),r.actions=Object(c.a)(r.store.dispatch,h),r.Connected=b(r.store,r.actions),r.options=n,n.container&&r.render(n.container),r.install(),r}return v(e,t),e.prototype.render=function(t){var e=this.store,n=this.Connected;a.a.render(o.a.createElement(s.a,{store:e},o.a.createElement(n,y({},y({},this.options,{container:t})))),t)},e.prototype.show=function(t){this.isShown=!0,t&&this.setActiveTab(t),this.actions.toggleSidebarAction(!0)},e.prototype.hide=function(){this.isShown=!1,this.actions.toggleSidebarAction(!1)},e.prototype.setActiveTab=function(t){!t||this.options.appList.some(function(e){return e.tag===t})?this.actions.switchTabAction(t):console.error("[sidebar]: invalid tab in setActiveTab")},e.prototype.getActiveTab=function(){var t=this.store;return t.select("sidebar.activeTab",t.getState())},e}(f.sheets.Plugin);e.a=m},function(t,e,n){"use strict";var r,o,i=n(473),a={isShow:[!1,(r={},r[i.b]=function(t,e){return e},r)],activeTab:["",(o={},o[i.a]=function(t,e){return e},o)]};e.a={namespace:"sidebar",reducers:a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"toggleSidebarAction",function(){return i}),n.d(e,"switchTabAction",function(){return a});var r=n(87),o=n(473),i=function(t){return Object(r.b)(o.b,t)},a=function(t){return Object(r.b)(o.a,t)}},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(581),a=(n.n(i),n(62)),s=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this,e)||this;return n.onClose=function(){n.setState({shouldUpdateCnt:!1}),n.props.toggleSidebarAction(!1),n.props.switchTabAction(null),n.props.appList.forEach(function(t){var e=t.component;e.destory&&e.destory()}),a.default.isFunction(n.props.onClose)&&n.props.onClose()},n.state={shouldUpdateCnt:!1,tabListLength:{}},n}return s(e,t),e.prototype.componentDidMount=function(){var t=this;this.props.appList.forEach(function(e){var n=e.tag,r=e.component,o=t.refs.smSidebarList.querySelector(".sm-sidebar-applist-"+n);o&&r.render(o,{getListLength:t.getListLength.bind(t,n)}),n===t.props.activeTab&&r.show()})},e.prototype.getListLength=function(t,e){var n=this.state.tabListLength;n[t]=e,this.setState({tabListLength:n})},e.prototype.componentWillReceiveProps=function(t){var e=this;this.props.activeTab!==t.activeTab&&(a.default.isFunction(this.props.onTabSwitch)&&this.props.onTabSwitch(this.props.activeTab,t.activeTab),t.appList.forEach(function(n){var r=n.tag,o=n.component;r===e.props.activeTab&&o.hide(),r===t.activeTab&&o.show()})),this.props.isShow&&!t.isShow&&this.onClose(),!this.props.isShow&&t.isShow&&t.appList.forEach(function(t){var e=t.component;e.reload&&e.reload()})},e.prototype.onClick=function(t){t!==this.props.activeTab&&(a.default.isFunction(this.props.onTabSwitch)?this.props.onTabSwitch(this.props.activeTab,t):this.props.switchTabAction(t))},e.prototype.render=function(){var t=this,e=this.props,n=e.activeTab,r=e.isShow,a=e.appList,s=void 0===a?[]:a,c=this.state.tabListLength;return o.a.createElement("div",{className:Object(i.className)({"sm-sheet-editor-sidebar":!0,show:r}),ref:"smSidebarList"},o.a.createElement("div",{className:"doc-history-title spreadsheet"},s.map(function(e){var r=e.tag,i=e.name,a=n===r;return o.a.createElement("span",{key:r,className:"s-title-text s-title-text-"+r+" "+(a?"active":""),onClick:function(){return t.onClick(r)}},i+" "+(null!=c[r]?"("+c[r]+")":""))}),o.a.createElement("span",{className:"icon-close hicon doc-sidebar-close",onClick:this.onClose.bind(this)})),s.map(function(t){var e=t.tag;return o.a.createElement("div",{key:e,className:"sm-sidebar sm-sidebar-applist-"+e+" "+(e!==n?"hide":"")})}))},e}(r.Component);e.a=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.className=function(t){return Object.keys(t).map(function(e){return t[e]?function(t){return t.replace(n,"$1-$2").toLowerCase()}(e):null}).filter(function(t){return t}).join(" ")},e.autoBind=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^_\w+/,n=Object.getPrototypeOf(t);Object.getOwnPropertyNames(n).forEach(function(n){"constructor"!==n&&"function"==typeof t[n]&&e.test(n)&&(t[n]=t[n].bind(t))})};var n=/([a-z\d])([A-Z])/g},function(t,e,n){var r=n(583),o=n(4);t.exports=function(t,e,n,i){return null==t?[]:(o(e)||(e=null==e?[]:[e]),o(n=i?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},function(t,e,n){var r=n(61),o=n(50),i=n(474),a=n(584),s=n(356),c=n(585),u=n(148);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[u],s(o));var f=i(t,function(t,n,o){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return a(f,function(t,e){return c(t,e,n)})}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(586);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,s=i.length,c=n.length;++o<s;){var u=r(i[o],a[o]);if(u)return o>=c?u:u*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(18);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),s=void 0!==e,c=null===e,u=e==e,l=r(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||o&&s&&u||!n&&u||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(144)),o=a(n(100)),i=a(n(62));function a(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)(2,function t(e,n){return i.default.isArray(n)?n.map(function(n){return t(e,n)}):r.default.combine(function(t,n){n(e(t.val))},[n])}),t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var r=n(515),o=n.n(r),i=function(t){var e=t.url,n=t.start,r=t.pageSize;return{url:e,method:"GET",params:{count:n,pageSize:void 0===r?30:r},headers:t.headers}},a=function(t){var e=t.url,n=t.id,r=t.headers;return{url:e,method:"POST",params:o.a.stringify({dhId:n}),headers:r}}},function(t,e,n){"use strict";var r=n(477),o=n(478),i=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,o,i,a,c,l,p,h,d,v,y,b){var g=e;if("function"==typeof l?g=l(n,g):g instanceof Date?g=d(g):"comma"===o&&s(g)&&(g=g.join(",")),null===g){if(i)return c&&!y?c(n,f.encoder,b):n;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||r.isBuffer(g))return c?[v(y?n:c(n,f.encoder,b))+"="+v(c(g,f.encoder,b))]:[v(n)+"="+v(String(g))];var m,w=[];if(void 0===g)return w;if(s(l))m=l;else{var _=Object.keys(g);m=p?_.sort(p):_}for(var O=0;O<m.length;++O){var j=m[O];a&&null===g[j]||(s(g)?u(w,t(g[j],"function"==typeof o?o(n,j):n,o,i,a,c,l,p,h,d,v,y,b)):u(w,t(g[j],n+(h?"."+j:"["+j+"]"),o,i,a,c,l,p,h,d,v,y,b)))}return w};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==t.format){if(!i.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=o.formatters[n],a=f.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):s(c.filter)&&(n=c.filter);var l,h=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=a[l];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var v=0;v<n.length;++v){var y=n[v];c.skipNulls&&null===r[y]||u(h,p(r[y],y,d,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var b=h.join(c.delimiter),g=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),b.length>0?g+b:""}},function(t,e,n){"use strict";var r=n(477),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},s=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,c=[];if(s){if(!n.plainObjects&&o.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;null!==(a=i.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(t,e,n){for(var r=e,o=t.length-1;o>=0;--o){var i,a=t[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:i[s]=r:i={0:r}}r=i}return r}(c,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return i;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?i.charset:t.charset;return{allowDots:void 0===t.allowDots?i.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:i.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:i.comma,decoder:"function"==typeof t.decoder?t.decoder:i.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:i.delimiter,depth:"number"==typeof t.depth?t.depth:i.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:i.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling}}(e);if(""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n,s={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,l=c.split(e.delimiter,u),f=-1,p=e.charset;if(e.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?p="utf-8":"utf8=%26%2310003%3B"===l[n]&&(p="iso-8859-1"),f=n,n=l.length);for(n=0;n<l.length;++n)if(n!==f){var h,d,v=l[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(h=e.decoder(v,i.decoder,p),d=e.strictNullHandling?null:""):(h=e.decoder(v.slice(0,b),i.decoder,p),d=e.decoder(v.slice(b+1),i.decoder,p)),d&&e.interpretNumericEntities&&"iso-8859-1"===p&&(d=a(d)),d&&e.comma&&d.indexOf(",")>-1&&(d=d.split(",")),o.call(s,h)?s[h]=r.combine(s[h],d):s[h]=d}return s}(t,n):t,u=n.plainObjects?Object.create(null):{},l=Object.keys(c),f=0;f<l.length;++f){var p=l[f],h=s(p,c[p],n);u=r.merge(u,h,n)}return r.compact(u)}},function(t,e,n){"use strict";(function(t){n.d(e,"d",function(){return M}),n.d(e,"m",function(){return R}),n.d(e,"e",function(){return T}),n.d(e,"k",function(){return I}),n.d(e,"c",function(){return L}),n.d(e,"h",function(){return N}),n.d(e,"i",function(){return D}),n.d(e,"l",function(){return U}),n.d(e,"g",function(){return H}),n.d(e,"f",function(){return $}),n.d(e,"j",function(){return F}),n.d(e,"b",function(){return B});var r,o,i,a,s,c,u,l,f,p=n(2),h=n.n(p),d=n(1),v=(n.n(d),n(420)),y=(n.n(v),n(476)),b=n(475),g=n(516),m=n(87),w=n(588),_=n(322),O=n(76),j=n(518),S=n(514),x=n(517),E=n(593),k=this&&this.__assign||function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},P=d.sheets.ajax.ajax,C=d.sheets.alert.showAlert,A=function(t){return Object(O.b)("historyList")(t+"historyList")},M=A("@initState"),R=A("@toggleListShow"),T=A("@loadHistory"),I=A("@setSelected"),L=A("@destory"),N=A("@revert"),D=A("@scroll"),U=A("@toggleHightLight"),H=A("@previewFirstItem"),$=A("loadHistorySucceed"),F=A("scrollSucceed"),B=A("fetchFirstEditHistory"),V=A("doPreviewFirstItem"),q=A("noEditHistory"),z={isShowList:[!1,(r={},r[R]=function(t,e){return e},r)],initData:[{},(o={},o[M]=function(t,e){return k({},t,e)},o)],isLoadingList:[!1,(i={},i[T]=function(){return!0},i.setListLoading=function(){return!0},i[$]=function(){return!1},i[H]=function(){return!0},i)],isOnScroll:[!1,(a={},a[D]=function(){return!0},a.setOnScrollLoading=function(){return!0},a[F]=function(){return!1},a)],previewFirstItem:[!1,(s={},s[H]=function(){return!0},s[R]=function(t,e){return e&&t},s[L]=function(){return!1},s)],isReverting:[!1,(c={},c[N]=function(){return!0},c.onRevertSucceed=function(){return!1},c.onRevertFailed=function(){return!1},c)],revertItem:[{},(u={},u[N]=function(t,e){return e},u.onRevertSucceed=function(){return{}},u.onRevertFailed=function(){return{}},u)],failTimesCheck:[0,(l={},l[V]=function(){return 0},l[B]=function(t){return t+1},l)]},W=((f={loadHistory:[T,Object(b.a)(Object(g.a)(P))],setListLoading:["loadHistory",_.b]})[$]=["loadHistory",_.c],f.onScroll=[D,Object(b.a)(Object(g.a)(P))],f.setOnScrollLoading=["onScroll",_.b],f[F]=["onScroll",_.c],f[V]=[$,B,Object(b.a)(Object(E.a)(),Object(S.a)(function(t){return(0,t.get)("previewFirstItem")}),Object(x.a)(function(e){var n=e.trigger,r=e.get,o=r("::history.list"),i=o.filter(_.e)[0];if(i)return n(Object(m.b)(j.i,i));var a=r("::history.isLastPage"),s=r("failTimesCheck");if(s>=5)return C({type:"error",title:o.length?"请求编辑历史失败!":"请求历史失败"}),t({guid:r("initData.guid"),isLastPage:a,historyListLen:o.length},"history fetchFirstEditHistory failed "+s,0,0,{name:"ERR_SHEET_HISTORY_FETCH_FIRST_EDIT_HISTORY"});n(Object(m.b)(q))}))],f[B]=[q,Object(b.a)(Object(y.a)(function(t){var e=t.get;return Object(w.a)({url:e("initData.loadHistoryUrl"),start:e("::history.list.length"),headers:e("initData.headers")})}),Object(g.a)(P),_.c)],f.onRevert=[N,Object(b.a)(Object(y.a)(function(t){var e=t.get;return Object(w.b)({url:e("initData.revertUrl"),id:e("revertItem.id"),headers:e("initData.headers")})}),Object(g.a)(P))],f.onRevertSucceed=["onRevert",Object(b.a)(_.c,Object(y.a)(function(t,e){var n=t.get,r=e.result;return C({title:h()("已还原到 ")+Object(v.format)(n("revertItem.updated_at"),!0)+h()(" 的内容")}),r}))],f.onRevertFailed=["onRevert",Object(b.a)(_.a,Object(y.a)(function(e,n){var r=e.get;C({title:n.error&&n.error.message||h()("还原失败，请稍候再试"),type:"error"}),t({guid:r("initData.guid"),err:n&&JSON.stringify(n)},"history revert",0,0,{name:"ERR_SHEET_HISTORY_REVERT_FAILED"})}))],f);e.a={namespace:"historyList",reducers:z,events:W}}).call(e,n(307))},function(t,e,n){"use strict";(function(t){n.d(e,"i",function(){return N}),e.a=function(t,e,n,r){var o=L.highLight,i=L.userRanges,a={},s=n.getIter(),c=0;for(;s.hasNext();){var u=s.next();if("object"==typeof u.data){var f=T(e,u),p=f.cellsData,h=u.getAttributes(),d=h.id||D(r,c);a[d]=p||[],c++}else c+=u.data}o[t]=a,i[t]=function(t){var e,n,r,o={},i=[],a="",s=-1,c={};return Object.keys(t).reduce(function(o,u){for(var f in i=t[u],o[u]={},c={},Object.keys(i).forEach(function(t){n=i[t],e=n[3]||{},r=I(e),s=null==r?-1:r,a=l.a.stringifyPosition(n[0],n[1]),c[s]=c[s]||[],c[s][a]=!0}),c)o[u][f]=U(c[f]);return o},o),o}(a)},e.j=function(t){var e=t.getActiveSheet().guid(),n=C(t,e);A({obj:n,suspendEvent:!0,suspendCalcService:!0,func:function(){}})()},e.f=function(t){var e=t.cooperation,n=t.currentId,r=t.spread.getActiveSheet().guid(),o=(L.highLight[n]||{})[r];return function(t,e){void 0===e&&(e=[]);var n={},r=function(t,e){var n=y()(t);return y()(n.color.map(function(t){return Math.round(t*e+255*(1-e))})).hex()};return e&&e.forEach(function(e){var o=e[0],i=e[1],s=e[3];n[o+"-"+i]=function(e){var n=I(e);return r(a()(n)?"#fff0cf":t.userColor(n),.5)}(s)}),n}(e,o)},e.b=function(t,e,n){var r,o=L.userRanges[e]||{},i=n.getActiveSheet();A({obj:i,suspendEvent:!0,suspendCalcService:!0,func:function(){if(f.Helper.removeAllCollabs(i),void 0!==(r=o[i.guid()])){var e=Object.keys(r)[0],n=r[e],a={color:t.userColor(e)};n&&n.length&&n.forEach(function(t){var e=M(t.cells),n=e.row,r=e.col,o=e.rowCount,s=e.colCount;f.Helper.addCollabBorder(i,{range:{row:n,col:r,rowCount:o,colCount:s,endRow:n+o-1,endCol:r+s-1},userInfo:a},!0)})}}})()},e.d=function(e,n,r,o){var i=t(o).offset(),a=i.left,s=i.top;return e.hitTest(n-a,r-s)},n.d(e,"h",function(){return F}),n.d(e,"k",function(){return B}),e.e=function(t,e){var n,r,o=e.getIter(),i="",a=t.getIter();for(;o.hasNext();)if("remove"!==(n=o.next()).action){var s=n.length;if(r=n.getAttributes(),"object"==typeof n.data)return a.next().getAttributes().id;r&&r.id&&(i=r.id),c(a,s)}return i||void 0;function c(t,e){for(var n=0;t.hasNext()&&n<e;)t.next(),n++}},e.g=function(t){var e=t.getIter(),n=[t.getIter().next()];for(;e.hasNext();){var r=e.next();if("object"==typeof r.data||"insert"===r.action){n.push(r);break}c()(r.getAttributes()).length>1&&n.push(r)}var o=n[n.length-1];return o&&o.getAttributes().id},e.c=function(t,e){for(var n=t.filter(b.e),r=!1,o=0,i=n.length;o<i;o++){var a=n[o],s=a.id;if(!(s>e))if(s!==e){if(r)return Object(h.b)(JSON.parse(a.content).range[1])}else r=!0}return h.a};var r=n(2),o=n.n(r),i=n(129),a=n.n(i),s=n(10),c=n.n(s),u=n(210),l=n.n(u),f=n(541),p=n(951),h=n(225),d=n(1),v=(n.n(d),n(952)),y=n.n(v),b=n(322),g=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},m=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},w=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_=this,O=d.sheets.changeset,j=d.sheets,S=j.contact,x=j.spread,E=j.perf,k=j.range,P=S.getContactById,C=x.getSheetById,A=E.paintWrap,M=k.transformCellsToRange,R=O.findRawTableOpInCsByIndex,T=O.changeset2Actions;function I(t){return t.authorId||t.userId||t.userID}var L={highLight:{},userRanges:{}},N=function(t){var e=t.url,n=t.sheet,r=t.cooperation,i=t.cell,a=t.collabUsers,s=t.id;return m(_,void 0,Promise,function(){var t,c,u,p,h,d,v,y,b,_,O,j,S,x,E,k;return w(this,function(C){switch(C.label){case 0:if(t=(L.userRanges[s]||{})[n.guid()],f.Helper.removeCollabName(n),!t||!i||null==i.row||null==i.col)return[2];for(v in c=l.a.stringifyPosition(i.row,i.col),d=[],t)d.push(v);y=0,C.label=1;case 1:if(!(y<d.length))return[3,7];if(b=d[y],-1===(u=Number(b)))return[3,6];_=t[b],O=0,j=_.length,C.label=2;case 2:return O<j?(S=_[O])&&S.cells[c]?(x=S.topCell,E=x.row,k=x.col,p={row:E,col:k,endRow:E,endCol:k},[4,function(t,e,n){return m(this,void 0,Promise,function(){var r;return w(this,function(o){switch(o.label){case 0:return(r=e&&e[t]&&{name:e[t]})?[2,r]:[4,P({contactId:t.toString(),url:n})];case 1:return[2,o.sent()]}})})}(u,a,e)]):[3,4]:[3,5];case 3:return(h=C.sent()).name=function(t,e){if(e!==o()("路人"))return e;var n=Math.abs(t)+"";return o()($||($=g(["路人-",""],["路人-",""])),n.substr(Math.max(n.length-5,0),5))}(u,h.name),h.color=r.userColor(b),[3,5];case 4:return O++,[3,2];case 5:if(p)return[3,7];C.label=6;case 6:return y++,[3,1];case 7:return p&&f.Helper.addCollabName(n,{range:p,userInfo:h}),[2]}})})};function D(t,e){var n=R(t,e);return n&&n.getAttributes().id}function U(t){var e={},n={},r=function(r){var o=n[r],i=e[o];i||((i={})[r]=!0,e[o=r]=i,n[r]=o),p.b.forEach(function(a){var s=function(t,e){var n=l.a.parsePosition(t),r=n.row,o=n.col;switch(e){case p.e:r--;break;case p.d:o++;break;case p.a:r++;break;case p.c:o--}return r<0||o<0?null:l.a.stringifyPosition(r,o)}(r,a);if(s&&t[s]){var c=n[s];c?c!==o&&function(t,r){var o=e[t],i=e[r];for(var a in i)n[a]=t,o[a]=!0;delete e[r]}(o,c):(n[s]=o,i[s]=!0)}})};for(var o in t)r(o);var i=[];for(var a in e){var s=e[a];i.push({topCell:H(s),cells:s})}return i}function H(t){return Object.keys(t).map(function(t){return l.a.parsePosition(t)}).sort(function(t,e){return t.col!==e.col?e.col-t.col:t.row-e.row})[0]}var $,F=function(e){var n=e.selector;t(n).css("display","none")},B=function(e){var n=e.selector;t(n).css("display","block")}}).call(e,n(85))},function(t,e,n){"use strict";e.a=function(){return function(t,e){return Object(r.a)(Array.isArray(e)?e:[e])}};var r=n(513)},function(t,e,n){"use strict";var r=n(87);e.a=function(t){return function(e){return function(e){return function(n){return Object(r.g)(n)?(t(n),n):e(n)}}}}},function(t,e,n){"use strict";(function(t){n.d(e,"h",function(){return L}),n.d(e,"b",function(){return N}),n.d(e,"c",function(){return D}),n.d(e,"f",function(){return U}),n.d(e,"g",function(){return H}),n.d(e,"d",function(){return $}),n.d(e,"e",function(){return F});var r,o,i,a,s,c,u,l,f,p=n(2),h=n.n(p),d=n(1),v=(n.n(d),n(959)),y=n.n(v),b=n(87),g=n(475),m=n(516),w=n(322),_=n(961),O=n(476),j=n(593),S=n(514),x=n(76),E=n(962),k=n(517),P=this&&this.__assign||function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},C=d.sheets.changeset,A=d.sheets.ajax.ajax,M=C.unpack,R=C.compose,T=d.sheets.alert.showAlert,I=function(t){return Object(x.b)("versionPreview")(t+"versionPreview")},L=I("@showPreview"),N=I("@hidePreview"),D=I("@init"),U=I("@setCurStep"),H=I("@setLoading"),$=I("loadPrevHistory"),F=I("refreshHistory"),B=I("_LoadPrevHistory"),V=I("_collectDelta"),q=I("_refresh"),z=I("_checkRange"),W={isShowPreview:[!1,(r={},r[L]=function(){return!0},r[N]=function(){return!1},r)],initData:[{},(o={},o[D]=function(t,e){return P({},t,e)},o)],isLoadingPreview:[!1,(i={},i[L]=function(){return!0},i.handlePreview=function(){return!1},i[H]=function(t,e){return e},i)],selected:[{},(a={},a[N]=function(){return{}},a[L]=function(t,e){return e},a)],prevId:[-1,{searchBaseVersion:function(t,e){var n=(void 0===e?{}:e).docHistoryId;return void 0===n?-1:n},handlePreview:function(){return-1}}],baseRev:[null,{searchBaseVersion:function(t,e){var n=(void 0===e?{}:e).rev;return void 0===n?null:n}}],sheetId:[{},(s={},s[L]=function(){return{}},s.handlePreview=function(t,e){return{id:e.sheetId}},s)],curDelta:[null,{handlePreview:function(t,e){return e.curDelta}}],baseDelta:[null,{handlePreview:function(t,e){return e.baseDelta}}],historyDelta:[{},{collectDelta:function(t,e){return e}}],steps:[[],(c={},c[L]=function(){return[]},c.loadVersionStepSucceed=function(t,e){return e},c)],curStep:[null,(u={},u[U]=function(t,e){return e},u)],failTimesCheck:[0,(l={},l[L]=function(){return 0},l.reCheck=function(t){return t+1},l)]},G=((f={searchBaseVersion:[L,Object(g.a)(Object(O.a)(function(t){var e=t.get;return e("::versionList.list").filter(function(t){return t.docHistoryId<e("selected.docHistoryId")})[0]}))],checkHistoryRange:["searchBaseVersion",z,Object(g.a)(Object(j.a)(),Object(k.a)(function(t){var e=t.trigger,n=t.get,r=n("::history.list").filter(w.e),o=n("prevId"),i=r[r.length-1],a=r[0],s=!1,c=!1;return-1!==o?(s=!i||i.id>o,c=!a||a.id<=o):s=!i||!!i,s||c?c?e(Object(b.b)(q)):n("::history.isLastPage")?e(Object(b.b)(V,{editHistories:r})):void e(Object(b.b)(B)):e(Object(b.b)(V,{editHistories:r}))}))],collectDelta:[V,Object(g.a)(Object(O.a)(function(t,e){var n=t.get,r=e.editHistories;return Object(_.a)(n("initData.fileType"),n("selected.docHistoryId"),n("prevId"),r.reverse())}))]})[$]=[B,Object(g.a)(Object(O.a)(function(t){var e=t.get;return Object(E.a)({url:e("initData.loadHistoryUrl"),start:e("::history.list.length"),headers:e("initData.headers")})}),Object(m.a)(A),w.c)],f[F]=[q,Object(g.a)(Object(O.a)(function(t){var e=t.get;return Object(E.a)({url:e("initData.loadHistoryUrl"),start:0,headers:e("initData.headers")})}),Object(m.a)(A),w.c)],f.reCheck=[$,F,Object(g.a)(Object(j.a)(),Object(S.a)(function(e){var n=e.get,r=n("failTimesCheck"),o=r>=5;return o&&(T({title:h()("版本加载失败，请稍后重试。")}),t({guid:n("initData.guid")},"version reCheck failed "+r,0,0,{name:"ERR_SHEET_VERSION_RECHECK"})),!o}),Object(k.a)(function(t){return(0,t.trigger)(Object(b.b)(z))}))],f.isHasBaseRev=["collectDelta",Object(g.a)(Object(S.a)(function(t){return null!=(0,t.get)("baseRev")}),Object(O.a)(function(t){var e=t.get;return Object(E.c)({url:e("initData.snapshotUrl"),rev:e("baseRev"),headers:e("initData.headers")})}),Object(m.a)(A),w.c,Object(O.a)(function(t,e){var n=t.get;return M(n("initData.fileType"),e)}))],f.hasNoBaseRev=["collectDelta",Object(g.a)(Object(S.a)(function(t){return null==(0,t.get)("baseRev")}),Object(O.a)(function(){return null}))],f.handlePreview=["hasNoBaseRev","isHasBaseRev",Object(g.a)(Object(j.a)(),Object(O.a)(function(t,e){var n=t.get,r=n("initData.fileType"),o=n("historyDelta"),i=M(r,o.delta),a=e?R(r,e,i):i;return{sheetId:o.sheet,curDelta:a,baseDelta:e||null}}))],f.steps=["handlePreview",Object(g.a)(Object(O.a)(function(t){var e=t.get,n=e("baseRev")||0;return Object(E.b)({url:e("initData.loadStepsUrl"),range:[n+1,e("selected.rev")],headers:e("initData.headers")})}),Object(m.a)(A))],f.loadVersionStepSucceed=["steps",w.c],f),Y={history:["selected","historyDelta",function(t,e){return y()({},t,e,{id:t.docHistoryId,history_type:2})}]};e.a={namespace:"versionPreview",reducers:W,events:G,selectors:Y}}).call(e,n(307))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(144)),o=i(n(100));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)(2,function(t,e){return r.default.combine(function(e,n){t(e())&&n(e.val)},[e])}),t.exports=e.default},function(t,e,n){"use strict";var r=function(){function t(t){var e=t.rootSelector,n=t.content,r=t.className;this.root=document.querySelector(e),this.tip=null,this.content=n||"",this.className=r||""}return t.prototype.init=function(){if(this.root){var t=document.createElement("div");t.className="s-tooltip "+this.className,t.innerHTML=this.content,this.tip=t,this.root.appendChild(t)}},t.prototype.show=function(t){var e=this;void 0===t&&(t={}),this.tip&&(this.tip.style.display="block",this.tip.style.visibility="visible",Object.keys(t).forEach(function(n){e.tip&&(e.tip.style[n]=t[n])}))},t.prototype.hide=function(){this.tip&&(this.tip.style.display="none",this.tip.style.visibility="hidden")},t.prototype.showInCenter=function(t){if(this.tip||this.init(),this.tip&&this.root&&t){var e=t.getBoundingClientRect(),n=this.tip.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o={top:e.top-r.top+(e.height-n.height)/2+"px"};this.show(o)}},t}();e.a=r},function(t,e,n){"use strict";e.a=function(t){var e=t.onClick,n=t.isChecked;return a.a.createElement("div",{className:"s-footer",ref:"footer"},a.a.createElement("span",{className:"s-footer-checkbox s-toolbar-icon s-toolbar-icon-checkbox"+(n?"-checked":""),onClick:e}),a.a.createElement("span",{className:"s-footer-text"},o()("高亮修改区域")))};var r=n(2),o=n.n(r),i=n(0),a=n.n(i)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(949),o=n(519),i=n(76);n.d(e,"c",function(){return o.b}),n.d(e,"b",function(){return o.a});var a=Object(i.a)(o.b.dispatch,r)},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){var r=n(694),o={};for(var i in r)r.hasOwnProperty(i)&&(o[r[i]]=i);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:c}),Object.defineProperty(a[s],"labels",{value:u})}function l(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}a.rgb.hsl=function(t){var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),c=s-a;return s===a?e=0:r===s?e=(o-i)/c:o===s?e=2+(i-r)/c:i===s&&(e=4+(r-o)/c),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?c/(s+a):c/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,o,i,a=t[0]/255,s=t[1]/255,c=t[2]/255,u=Math.max(a,s,c),l=u-Math.min(a,s,c),f=function(t){return(u-t)/6/l+.5};return 0===l?o=i=0:(i=l/u,e=f(a),n=f(s),r=f(c),a===u?o=r-n:s===u?o=1/3+e-r:c===u&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*u]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,o=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-o)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=o[t];if(e)return e;var n,i=1/0;for(var a in r)if(r.hasOwnProperty(a)){var s=l(t,r[a]);s<i&&(i=s,n=a)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],o=e[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(t){var e,n,r,o,i,a=t[0]/360,s=t[1]/100,c=t[2]/100;if(0===s)return[i=255*c,i,i];e=2*c-(n=c<.5?c*(1+s):c+s-c*s),o=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,i=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,o[u]=255*i;return o},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[e,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,o=Math.floor(e)%6,i=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*i),c=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,c,a];case 1:return[s,r,a];case 2:return[a,r,c];case 3:return[a,s,r];case 4:return[c,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,o=t[0],i=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-i)*a,n=i*s,[o,100*(n=(n/=(e=(2-i)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,o,i,a,s,c=t[0]/360,u=t[1]/100,l=t[2]/100,f=u+l;switch(f>1&&(u/=f,l/=f),n=1-l,r=6*c-(e=Math.floor(6*c)),0!=(1&e)&&(r=1-r),o=u+r*(n-u),e){default:case 6:case 0:i=n,a=o,s=u;break;case 1:i=o,a=n,s=u;break;case 2:i=u,a=n,s=o;break;case 3:i=u,a=o,s=n;break;case 4:i=o,a=u,s=n;break;case 5:i=n,a=u,s=o}return[255*i,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},a.xyz.rgb=function(t){var e,n,r,o=t[0]/100,i=t[1]/100,a=t[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,e=(e=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r,o=t[0],i=t[1],a=t[2];e=i/500+(n=(o+16)/116),r=n-a/200;var s=Math.pow(n,3),c=Math.pow(e,3),u=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,e=c>.008856?c:(e-16/116)/7.787,r=u>.008856?u:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],o=t[2];return(e=360*Math.atan2(o,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+o*o),e]},a.lch.lab=function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],o=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.max(Math.max(r,o),i),s=Math.min(Math.min(r,o),i),c=a-s;return e=c<1?s/(1-c):0,n=c<=0?0:a===r?(o-i)/c%6:a===o?2+(i-r)/c:4+(r-o)/c+4,n/=6,[360*(n%=1),100*c,100*e]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,o=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(o=(n-.5*r)/(1-r)),[t[0],100*r,100*o]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=e%1*6,s=a%1,c=1-s;switch(Math.floor(a)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,r=n-e,o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,n){"use strict";(function(t){n.d(e,"e",function(){return x}),n.d(e,"i",function(){return E}),n.d(e,"d",function(){return k}),n.d(e,"f",function(){return P}),n.d(e,"c",function(){return C}),n.d(e,"b",function(){return A}),n.d(e,"h",function(){return M}),n.d(e,"g",function(){return R}),n.d(e,"j",function(){return T});var r,o,i,a,s,c,u,l,f=n(2),p=n.n(f),h=n(420),d=(n.n(h),n(516)),v=n(475),y=n(697),b=n(322),g=n(476),m=n(76),w=n(1),_=(n.n(w),this&&this.__assign||function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}),O=w.sheets.ajax.ajax,j=w.sheets.alert.showAlert,S=function(t){return Object(m.b)("versionList")(t+"versionList")},x=S("@loadVersion"),E=S("@toggleListShow"),k=S("@initData"),P=S("@reload"),C=S("@destory"),A=S("@delete"),M=S("@setSelected"),R=S("@revertVersion"),T=S("@updateVersion"),I={isShowList:[!1,(r={},r[E]=function(t,e){return e},r)],initData:[{},(o={},o[k]=function(t,e){return _({},t,e)},o)],shouldReload:[!1,(i={},i[P]=function(t,e){return e},i[C]=function(){return!1},i)],deleteItemId:[null,(a={},a[A]=function(t,e){return e},a.deleteVersionSucceed=function(){return null},a.deleteVersionFailed=function(){return null},a)],isLoadingList:[!1,(s={},s[x]=function(){return!0},s.setVersionLoading=function(){return!0},s.loadVersionSucceed=function(){return!1},s[A]=function(){return!0},s.deleteVersionSucceed=function(){return!1},s.deleteVersionFailed=function(){return!1},s)],list:[[],{loadVersionSucceed:function(t,e){return e.reverse().map(function(t){return t})},deleteVersionSucceed:function(t,e){return t.filter(function(t){return t.id!==e})}}],selected:[{},(c={},c[C]=function(){return{}},c[M]=function(t,e){return e||{}},c)],isReverting:[!1,(u={},u[R]=function(){return!0},u.onRevertSucceed=function(){return!1},u.onRevertFailed=function(){return!1},u)],revertItem:[{},(l={},l[R]=function(t,e){return e},l.onRevertSucceed=function(){return{}},l.onRevertFailed=function(){return{}},l)]},L={loadVersionList:[x,Object(v.a)(Object(g.a)(function(t,e){var n=t.get,r=e.url;return Object(y.c)({url:r,headers:n("initData.headers")})}),Object(d.a)(O))],setVersionLoading:["loadVersionList",b.b],loadVersionSucceed:["loadVersionList",b.c],onDeleteVesion:[A,Object(v.a)(Object(g.a)(function(t){var e=t.get;return Object(y.a)({url:e("initData.deleteVersionUrl"),id:e("deleteItemId"),headers:e("initData.headers")})}),Object(d.a)(O))],deleteVersionSucceed:["onDeleteVesion",Object(v.a)(b.c,Object(g.a)(function(t){return(0,t.get)("deleteItemId")}))],deleteVersionFailed:["onDeleteVesion",Object(v.a)(b.a,Object(g.a)(function(t,e){j({title:e.error&&e.error.message||p()("删除失败，请稍候再试"),type:"error"})}))],onRevert:[R,Object(v.a)(Object(g.a)(function(t){var e=t.get;return Object(y.b)({url:e("initData.revertVersionUrl"),id:e("revertItem.docHistoryId"),headers:e("initData.headers")})}),Object(d.a)(O))],onRevertSucceed:["onRevert",Object(v.a)(b.c,Object(g.a)(function(t,e){var n=t.get,r=e.result;return j({title:p()("已还原到 ")+Object(h.format)(n("revertItem.updated_at"),!0)+p()(" 的内容")}),r}))],onRevertFailed:["onRevert",Object(v.a)(b.a,Object(g.a)(function(e,n){var r=e.get;j({title:n.error&&n.error.message||p()("还原失败，请稍候再试"),type:"error"}),t({guid:r("initData.guid"),err:n&&JSON.stringify(n)},"version revert",0,0,{name:"ERR_SHEET_VERSION_REVERT_FAILED"})}))],onUpdateVersion:[T,Object(v.a)(Object(g.a)(function(t,e){var n=t.get,r=e.id,o=e.label;return Object(y.d)({url:n("initData.updateVersionUrl"),id:r,label:o,headers:n("initData.headers")})}),Object(d.a)(O))]};e.a={namespace:"versionList",reducers:I,events:L}}).call(e,n(307))},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c});var r=n(515),o=n.n(r),i=function(t){return{url:t.url,method:"GET",headers:t.headers}},a=function(t){var e=t.url,n=t.id,r=t.headers;return{url:e=e.replace("{id}",n.toString()),method:"DELETE",headers:r}},s=function(t){var e=t.url,n=t.id,r=t.headers;return{url:e,method:"POST",params:o.a.stringify({dhId:n}),headers:r}},c=function(t){var e=t.url,n=t.id,r=t.label,i=t.headers;return{url:e=e.replace("{id}",n.toString()),method:"PATCH",params:o.a.stringify({label:r}),headers:i}}},function(t,e){t.exports={"还原":"Restore","已还原到 ":"Restore content to"," 的内容":"","还原失败，请稍候再试":"Restore failed, please try it again later.","路人":"Passerby","路人-%s":"Passerby-%s","高亮修改区域":"Highlight edited area","邀请了 %s":"invited %s","加入了文档":"joined the document","将表格 “%1” 重命名为 “%2”":"rename sheet %1 to %2","对 %s 取消了共享":"revoked the access to this document from %s","将公开链接设置为只读":"set the link from public access to readonly","将公开链接设置为可写":" set the link from public access to writable ","禁用了公开链接":"forbade the link from public access ","创建了表格副本":"created a duplicate","把表格转让给 %s":"transferred the sheet to %s","保存了历史版本":"saved history version","将历史版本 “%1” 重命名为 “%2”":"renamed history version %1 to %2","删除了历史版本 “%s”":"deleted the history version %s","锁定了表格 “%s”":"locked the cell %s","解锁了表格 “%s”":"unlocked the cell %s","编辑了锁定 “%s”":"edited the cell %s","锁定了单元格 “%1-%2”":"The cells “%1-%2” have been locked","解锁了单元格 “%1-%2”":"The cells “%1-%2” have been unlocked","编辑了锁定 “%1-%2”":"The locking strategy has been edited.","将公开链接设置为仅企业内部只读":"set the link from public access to read-only within the enterprise","将公开链接设置为仅企业内部可写":"set the link from public access to writable within the enterprise ","开启了访问密码":"opened the accessing code","关闭了访问密码":"closed the accessing code ","更换了访问密码":"changed the accessing code","创建了表格":"created a worksheet","将表格还原到":"restored the worksheet to the version of ","的内容":"","编辑了表格":"edited the sheet","点击预览历史":"Click to preview the history","工作表已被锁定":"The worksheet has been locked","当前工作表已被锁定，您无法还原历史。如需进行还原，请与该表格的所有者联系":"The current worksheet has been locked.You can't restore the history.Please contact the owner of the sheet.","还原表格":"Restore sheet","该版本与当前表格内容一致，确认还原吗？":"The content of the version is as same as the current sheet,are you sure to restore it?","确认将表格还原到 %s的内容吗？":"Are you sure to restore the sheet to the version of %s","历史还原中,请稍等":"Restoring the history,please wait","表格编辑历史":"Worksheet editing history","停止编辑 1 分钟，会自动保存为一段历史":"After stopping editing for 1 min,the content will be saved as a piece of history.","表格历史版本":"Worksheet hidtorical version","当前历史片段的数据可能已损坏，无法预览":"The history data might has been damaged, can't preview it.","查看所有编辑记录, 共":"View all edited histories, a total of","共 %s 条编辑记录":"Total %s edit","共 %s 条编辑记录，查看第":"Total %s edit, view","第":"No","条":"edit","修改记录":"History","刚刚":"just now","%s分钟前":"%s mins ago","今天":"today","今天 %s":"%s today","昨天":"yesterday","昨天 %s":"%s yesterday"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(966),o=n(519),i=n(76);n.d(e,"c",function(){return o.b}),n.d(e,"b",function(){return o.a});var a=Object(i.a)(o.b.dispatch,r)},function(t,e,n){"use strict";(function(t,r){var o=n(2),i=n.n(o),a=n(420),s=(n.n(a),n(0)),c=n.n(s),u=n(1),l=(n.n(u),n(592)),f=n(967),p=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=u.sheets.changeset,d=u.sheets,v=d.sheet,y=d.loading,b=d.Events,g=v.scrollToCellByCS,m=h.unpack,w=h.compose,_=y.Loading,O=function(e){function n(t){var n=e.call(this,t)||this;return n.onSwitchSheet=function(){n.toggleHightLight(n.props.highLight)},n.onChangeStyleOnPaintingCell=function(t){var e=t.style,r=t.source,o=t.cell;if("history"===r){var i=o.row,a=o.col;if(3===o.sheetArea&&null!=n.currentId&&n.currentFile&&n.props.highLight){var s=n.highlightCellsData[i+"-"+a];e.foreColor="",e.backColor=s}}},n.onMouseMove=function(t){var e=t.pageX,r=t.pageY,o=n.spread&&n.spread.gcSpread.getActiveSheet();if(o){var i=n.props.wrapperClass,a=Object(l.d)(o,e,r,"."+i+" .sm-history-preview"),s=a.row,c=a.col,u=n.hoverCell;u&&u.row===s&&u.col===c||n._afterHoveredCellChanged(a)}},n.onMouseOut=function(){n._afterHoveredCellChanged({row:-1,col:-1})},n.spread=null,n.editor=t.previewEditor,n.currentId=null,n.currentFile=null,n.syncSheetZoom=n.syncSheetZoom.bind(n),n.fileType=t.fileType||-4,n.highlightCellsData={},n}return p(n,e),n.prototype.componentWillReceiveProps=function(t){var e=this,n=this.props,r=n.isPreview,o=n.wrapperClass;r&&!t.isPreview&&(this.editor.spread&&this.editor.spread.reset(),Object(l.h)({selector:"."+o})),!r&&t.isPreview&&Object(l.k)({selector:"."+o}),t.isPreview&&n.curDelta!==t.curDelta&&t.curDelta&&(this.curStepCs=t.curDelta,setTimeout(function(){e.initSpread(t)})),t.isPreview&&n.curStep!==t.curStep&&t.curStep&&this.showHistorySetp(t.curStep),t.isPreview&&n.highLight!==t.highLight&&this.spread&&this.toggleHightLight(t.highLight,!0)},n.prototype.componentDidMount=function(){this.editor.on(b.SheetSwitched,this.onSwitchSheet),this.editor.on(b.ChangeStyleOnPaintingCell,this.onChangeStyleOnPaintingCell),Object(a.autoRefresh)("#s-history-wrap .s-history-head"),t(this.refs.wrap).on("mousemove","#sm-canvas-container-viewport",this.onMouseMove).on("mouseout","#sm-canvas-container-viewport",this.onMouseOut);var e=this.props;e.initStateAction({fileType:this.fileType,snapshotUrl:e.snapshotUrl,loadStepsUrl:e.loadStepsUrl,loadHistoryUrl:e.loadHistoryUrl,headers:e.headers})},n.prototype.componentWillUnmount=function(){this.editor.off(b.SheetSwitched,this.onSwitchSheet),this.editor.off(b.ChangeStyleOnPaintingCell,this.onChangeStyleOnPaintingCell),t(this.refs.wrap).off("mousemove",this.onMouseMove).off("mouseout",this.onMouseOut)},n.prototype.initSpread=function(t){this.setContent({sheetId:t.sheetId.id,file:t.curDelta,currentCs:m(this.fileType,JSON.parse(t.selected.content).changeset),currentId:t.selected.id}),setTimeout(this.syncSheetZoom)},n.prototype.syncSheetZoom=function(){var t=this.props.editor.spread.getActiveSheet().gcSheet.zoom(),e=this.editor.spread,n=e&&e.getActiveSheet();n&&n.actions.changeSheetZoom(t)},n.prototype.showHistorySetp=function(t){var e=t.cs,n=t.curStep,r=this.props.cooperation,o=m(this.fileType,n.delta);this.curStepCs=w(this.fileType,this.curStepCs,e),this.setContent({sheetId:Object(l.e)(this.curStepCs,o),file:this.curStepCs,currentCs:o,currentId:n.rev}),this.spread&&Object(l.b)(r,n.rev,this.spread.gcSpread)},n.prototype.setContent=function(e){var n=e.sheetId,o=e.file,i=e.currentId,a=e.currentCs,s=this.props,c=s.container,u=s.highLight,f=this.fileType;this.currentId=i,this.currentFile=o,Object(l.a)(i,f,a,o);try{this.spread?(this.editor.setContent(o),this.editor.spread.setActiveSheet(String(n))):(this.editor.render({fileType:f,content:o,container:t(c).find(".sm-history-preview")[0],activeSheetId:n,spreadOptions:{rightPadding:300,allowScrollByPixel:!0,showPermissionError:function(){return null}}}),this.spread=this.editor.spread,this.toggleHightLight(u))}catch(t){console.error("[history preview: set editor content failed]",t),r({error:t},"",0,0,{name:"ERR_SHEET_HISTORY_SET_EDITOR_CONTENT_FAILED"})}g(this.spread.gcSpread.getActiveSheet(),f,a)},n.prototype.toggleHightLight=function(t,e){this.props.setPreviewLoadingAction(!0),null!=this.currentId&&this.currentFile&&(this.highlightCellsData=t?Object(l.f)({cooperation:this.props.cooperation,currentId:this.currentId,spread:this.spread.gcSpread}):{},e&&Object(l.j)(this.spread.gcSpread),this.props.setPreviewLoadingAction(!1))},n.prototype._afterHoveredCellChanged=function(t){var e=this.props,n=e.contactUrl,r=e.highLight,o=e.cooperation,i=e.users;this.hoverCell=t;var a=t.row,s=void 0===a?-1:a,c=t.col,u=void 0===c?-1:c,f=this.spread&&this.spread.gcSpread.getActiveSheet();r&&s>=0&&u>=0&&f&&this.currentId&&Object(l.i)({url:n,id:this.currentId,sheet:f,cooperation:o,cell:t,collabUsers:i})},n.prototype.render=function(){var t=this.props,e=t.isPreview,n=t.baseDelta,r=t.isLoading,o=t.editor,s=t.steps,u=t.onSetCurStepAction,l=t.selected,p=t.wrapperClass,h=r||!o.isRendered;return c.a.createElement("div",{className:p},c.a.createElement("div",{id:"s-history-wrap"},c.a.createElement(_,{isShow:e&&h,wrapperClass:"s-history-loading",imgClass:"s-history-loading-img"}),e&&c.a.createElement("div",{className:"s-history-head"},c.a.createElement(f.a,{items:s,baseDelta:n,historyStepChange:u,fileType:this.fileType}),"sm-sheet-editor-history"===p&&c.a.createElement("span",null,c.a.createElement("span",{className:"sm-sheet-history-header-title"},l&&Object(a.format)(l.updated_at,!0)||""),c.a.createElement("span",{className:"sm-sheet-history-header-info"},i()("停止编辑 1 分钟，会自动保存为一段历史"))),"sm-sheet-editor-version"===p&&c.a.createElement("div",null,c.a.createElement("span",{className:"sm-sheet-history-header-title"},i()("版本")+": "+l.label))),c.a.createElement("div",{className:"s-history-body"},c.a.createElement("div",{className:"sm-history-preview",ref:"wrap"}))))},n}(s.Component);e.a=O}).call(e,n(85),n(307))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(207),a=o(n(547)),s=o(n(968)),c=function(t){function e(n){var r=n.ws,o=n.fileGuid,i=n.currentUserId,a=n.colorPalette,c=n.sendClientStatus,u=t.call(this)||this;return u._collaborators=[],u.getCollaborators=function(){return u._collaborators},u._onMessage=function(t){if(t)if("CONNECTED"===t.type)u._sendClientStatus("enter");else if("COLLABROOM"===t.type){var n=t.data;if(!function(t){return t&&"string"==typeof t.type}(n))return void u.emit(e.Events.Message,t);switch(n.type){case"RECONNECT_READY":u._collaborators.length=0,u._colorPalette.reset(),u._addCollaborators(n.clients);break;case"USER_ENTER":u._addCollaborators([n.userInfo]);break;case"USER_LEAVE":u._removeCollaborators([n.userInfo]);break;default:u._handleCollabRoomMessage(t)}}},u._socket=r,u._currentUserId=i,u._fileGuid=o,u._sendClientStatus=c||u._defaultSendClientStatus,u._colorPalette=new s.default(u._currentUserId,a),u}return r(e,t),e.prototype.userColor=function(t){return this._colorPalette.userColor(t)},e.prototype.setColorPalette=function(t){this._colorPalette.setColorPalette(t)},e.prototype.quit=function(){this._socket.off("message",this._onMessage),this._sendClientStatus("quit")},e.prototype.start=function(){this._socket.on("message",this._onMessage),this._sendClientStatus("enter")},e.prototype.sendUserSelectMessage=function(t){var e=function(t,e){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}(t,{type:"SELECT"}),n={type:"COLLABROOM",padId:this._fileGuid,fileGuid:this._fileGuid,data:e};this._socket.emit("message",n)},e.prototype._addCollaborators=function(t){var n=this,r=[];t.forEach(function(t){t.id!==n._currentUserId&&(-1===u(n._collaborators,function(e){return e.id===t.id})&&(t.color=n.userColor(t.id),n._collaborators.push(t),r.push(t)))}),r.length>0&&this.emit(e.Events.UserEnter,{collaborators:this._collaborators,enterUsers:r})},e.prototype._removeCollaborators=function(t){var n=this,r=[];t.forEach(function(t){if(t.id!==n._currentUserId){var e=u(n._collaborators,function(e){return e.id===t.id});e>-1&&(r.push(t),n._collaborators.splice(e,1))}}),r.length>0&&this.emit(e.Events.UserLeave,{collaborators:this._collaborators,leaveUsers:r})},e.prototype._defaultSendClientStatus=function(t){var e={component:"pad",type:"enter"===t?"CLIENT_READY":"CLIENT_QUIT",padId:this._fileGuid,fileGuid:this._fileGuid,reconnect:!0,sessionID:a.default.get("sessionID"),token:a.default.get("token"),protocolVersion:2};this._socket.emit("message",e)},e.prototype._handleCollabRoomMessage=function(t){var n=function(t,e){if(!t||!t.data)return;if(!t.data.userInfo||""+t.data.userInfo.id==""+e)return;return t.data}(t,""+this._currentUserId);null!=n&&"SELECT"===n.type?this.emit(e.Events.UserSelect,n):this.emit(e.Events.Message,t)},e.ColorPalette=s.default,e.Events={UserEnter:"UserEnter",UserLeave:"UserLeave",UserSelect:"UserSelect",Message:"Message"},e}(i.EventEmitter);function u(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n]))return n}return-1}e.default=c},function(t,e,n){"use strict";e.a=function(t){var e=new r.Editor({isDisableFx:!0,editable:!1,commentable:!1,disableWorker:!0,isAllowOfflineEdit:!1,disableRenderOptimization:!1,trackUrl:"/api/log/track"}),n=!1,u=!1,l=!1,f=t.pluginManager.get(a),p=t.pluginManager.get(s);f&&p||t.on(i.PluginInstalled,function(t){var r=t.name;r!==a||n?r!==s||u||v(t,e,o({},t.config,{disabled:!0})):d(t,e)});var h=t.permissions.query;return e.enableLock({userId:h.getUserId(),fetchCollaborators:h.fetchCollaborators,config:h.getConfig()}),e.on(i.Rendered,function(t,e){var n=t.pluginManager.get(a),r=t.pluginManager.get(s),i=t.pluginManager.get(c);n&&d(n,e),r&&v(r,e,o({},r.config,{disabled:!0})),i&&function(t,e,n){t&&!l&&(new t.Constructor(o({},n,{editor:e})),l=!0)}(i,e,o({},i.config,{disableEvents:!0}))}.bind(null,t,e)),e.hookManager.registerHook("getCustomActionMessage",function(t){var e=t.action;return"paste"===e?"不能粘贴至历史预览表格":"cut"===e?"不能剪切历史预览表格":void 0}),e;function d(t,e){t&&!n&&(new t.Constructor({editor:e}),n=!0)}function v(t,e,n){t&&!u&&(new t.Constructor(o({},n,{editor:e})),u=!0)}};var r=n(1),o=(n.n(r),this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}),i=r.sheets.Events,a="Chart",s="FilterViewport",c="PivotTable";r.Editor},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(972),o=n(519),i=n(76);n.d(e,"c",function(){return o.b}),n.d(e,"b",function(){return o.a});var a=Object(i.a)(o.b.dispatch,r)},function(t,e,n){"use strict";e.b=function(t){var e=t?new Date(t):new Date,n=[o()("星期日"),o()("星期一"),o()("星期二"),o()("星期三"),o()("星期四"),o()("星期五"),o()("星期六")],r=e.getMinutes(),i=e.getHours();return r<10&&(r="0"+r),i<10&&(i="0"+i),e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+n[e.getDay()]+" "+i+":"+r},e.a=function(t,e){if(!t)return t;for(var n=e||32,r=/[^\x00-\xff]/,o=t.split(""),i=o.length,a=0,s=0,c=0;c<i;c++){var u=r.test(o[c])?2:1;if(a+u>n)break;s=c+1,a+=u}return t.substr(0,s)};var r=n(2),o=n.n(r)},function(t,e){t.exports={"星期日":"Sun","星期一":"Mon","星期二":"Tue","星期三":"Wed","星期四":"Thu","星期五":"Fri","星期六":"Sat","版本创建成功，可在「更多」-「查看历史」-「版本」中查看":"Version created. View it via「More」-「View History」-「Version」","不能重复创建版本":"Can't create duplicate version","创建失败":"Creation failed","删除失败，请稍候再试":"Failed to delete, try again later","已还原到 ":"Restore content to"," 的内容":"","还原失败，请稍候再试":"Restore failed, try again later.","当前历史片段的数据可能已损坏，无法预览":"The history data might has been damaged, unable to preview.","版本加载失败，请稍后重试。":"Loading history failed, try again later!","版本名称不能为空":"Version name can't be empty","删除版本":"Delete version","确认删除历史版本“%s”吗？<br>该删除不会影响表格内容。":"Are you sure to delete the historical version %s?<br> This deletion won't affect the contents.","保存了版本":"Version saved","删除":"Delete","点击预览版本":"Click to preview versions","工作表已被锁定":"The worksheet has been locked","当前工作表已被锁定，您无法还原历史。如需进行还原，请与该表格的所有者联系":"Current worksheet has been locked. Can't restore the history. Please contact the owner.","版本还原中,请稍等":"Restoring the version, please wait","还原表格":"Restore the sheet","确认将表格还原到历史版本 %s 吗？":"Restore the sheet to the version of %s?","暂无历史版本":"No historical version","还原":"Restore"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(986),o=n(519),i=n(76);n.d(e,"c",function(){return o.b}),n.d(e,"b",function(){return o.a});var a=Object(i.a)(o.b.dispatch,r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"PLUGIN_NAME",function(){return O}),n.d(e,"HistoryTabType",function(){return r});var r,o=n(2),i=n.n(o),a=n(0),s=n.n(a),c=n(7),u=n.n(c),l=n(942),f=n(1),p=(n.n(f),n(577)),h=n(943),d=n(969),v=n(987),y=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=this&&this.__assign||function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},g=f.sheets.root,m=f.sheets.path,w=f.sheets.Plugin,_=m.setByPath,O="HistorySidebarSkeleton";!function(t){t.History="history",t.Discord="discord",t.Version="version"}(r||(r={}));var j=function(t){function e(n){var o=t.call(this,{name:O,Constructor:e,config:n,localeOption:{localeResources:v.a,s18n:i.a}})||this;o.options=n;var a=n.editor,s=n.guid,c=n.history,u=n.version,l=[];if(c){var f=b({},c,n);o.initHistory(f),o.initHistoryPreview(f),l.push({tag:r.History,name:i()("历史"),component:o.historyList})}if(u){f=b({},u,n);o.initVersion(f),o.initVersionPreview(f),l.push({tag:r.Version,name:i()("版本"),component:o.versionList})}return l.length&&o.initSidebar({editor:a,guid:s,appList:l}),n.container&&o.render(n.container),o.install(),o}return y(e,t),e.prototype.render=function(t){u.a.render(s.a.createElement(l.a,b({},b({},this.options,{container:t,historyPreview:this.historyPreview,sidebar:this.sidebar,versionPreview:this.versionPreview}))),t)},e.prototype.show=function(t){void 0===t&&(t=r.History),this.sidebar&&this.sidebar.show(t)},e.prototype.hide=function(){this.sidebar&&this.sidebar.hide()},e.prototype.initHistory=function(t){var e=this,n=t.toggleHistoryHightLight,r=t.onSelectHistory,o=t.closeHistorySidebar||function(){e.sidebar&&e.sidebar.hide(),e.historyPreview&&e.historyPreview.hide(),e.versionPreview&&e.versionPreview.hide()},i=r||function(t){e.historyList&&e.historyList.setSelectedItem(t),e.historyPreview&&e.historyPreview.show(t),e.versionList&&e.versionList.setSelectedItem(null),e.versionPreview&&e.versionPreview.hide()},a=b({toggleHighLight:(n||function(){return e.historyList&&e.historyList.toggleHighLight()}).bind(this),afterRevert:o.bind(this),onSelectHistory:i.bind(this)},t);this.historyList=new h.a(a)},e.prototype.initVersion=function(t){var e=this,n=t.toggleHistoryHightLight,r=t.onSelectVersion,o=t.closeHistorySidebar,i=r||function(t){e.versionList&&e.versionList.setSelectedItem(t),e.versionPreview&&e.versionPreview.show(t),e.historyList&&e.historyList.setSelectedItem(null),e.historyPreview&&e.historyPreview.hide()},a=n||function(){e.historyList&&e.historyList.toggleHighLight()},s=b({afterRevert:(o||function(){e.sidebar&&e.sidebar.hide(),e.historyPreview&&e.historyPreview.hide(),e.versionPreview&&e.versionPreview.hide()}).bind(this),onSelectVersion:i.bind(this),toggleHighLight:a.bind(this)},t);this.versionList=new d.a(s)},e.prototype.initSidebar=function(t){var e=this,n=t.editor,r=t.guid,o=t.appList,i=t.closeHistorySidebar,a=t.swtichSidebarTab,s=i||function(){e.sidebar&&e.sidebar.hide(),e.historyPreview&&e.historyPreview.hide(),e.versionPreview&&e.versionPreview.hide()};this.sidebar=new p.a({editor:n,guid:r,appList:o,onClose:s.bind(this),onTabSwitch:a})},e.prototype.initHistoryPreview=function(t){this.historyPreview=new h.b(t)},e.prototype.initVersionPreview=function(t){this.versionPreview=new d.b(t)},e.prototype.isShown=function(){return!!this.sidebar&&!!this.sidebar.isShown},e.prototype.isPreviewing=function(){var t=!1;return this.historyPreview&&(t=t||!!this.historyPreview.isShown()),this.versionPreview&&(t=t||!!this.versionPreview.isShown()),t},e}(w);e.default=j,_(g,"shimo.sdk.sheet.plugins.HistorySidebarSkeleton",j)},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.sidebar,n=t.historyPreview,r=t.versionPreview;e&&e.render(this.refs.smHistorySidebarSkelenton.querySelector(".sm-sidebar")),n&&n.render(this.refs.smHistorySidebarSkelenton.querySelector(".sm-history-preview-container")),r&&r.render(this.refs.smHistorySidebarSkelenton.querySelector(".sm-version-preview-container"))},e.prototype.render=function(){return o.a.createElement("div",{ref:"smHistorySidebarSkelenton"},o.a.createElement("div",{className:"sm-history-preview-container"}),o.a.createElement("div",{className:"sm-version-preview-container"}),o.a.createElement("div",{className:"sm-sidebar"}))},e}(r.Component);e.a=a},function(t,e,n){"use strict";var r=n(944),o=n(964);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(223),a=n(945),s=n(693),c=n(1),u=(n.n(c),n(7)),l=n.n(u),f=n(963),p=n(2),h=n.n(p),d=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=this&&this.__assign||function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=c.sheets.ajax.ajax,b=c.sheets.Plugin,g=(c.Editor,"HistoryList"),m=function(t){function e(n){var r=t.call(this,{name:g,Constructor:e,config:n,localeOption:{localeResources:f.a,s18n:h.a}})||this;return r.options=n,n.container&&r.render(n.container),r.install(),r}return d(e,t),e.prototype.render=function(t){l.a.render(o.a.createElement(i.a,{store:s.c},o.a.createElement(a.a,v({},v({},this.options,{container:t})))),t)},e.prototype.show=function(){s.a.toggleListShowAction(!0)},e.prototype.hide=function(){s.a.toggleListShowAction(!1)},e.prototype.previewFirstItem=function(){s.a.previewFirstItemAction()},e.prototype.destory=function(){s.a.destoryAction()},e.prototype.toggleHighLight=function(){s.a.toggleHighLightAction()},e.prototype.setSelectedItem=function(t){s.a.setSelectedAction(t)},e.prototype.isShown=function(){return s.c.select("historyList.isShowList",s.c.getState())},e.prototype.addHistory=function(t){var e=t.action,n=t.options,r=void 0===n?{}:n;return y(null,{method:"POST",url:this.options.addDocHistoryUrl,params:{content:JSON.stringify(v({action:e},r))}})},e}(b);e.a=m},function(t,e,n){"use strict";var r=n(223),o=n(946),i=n(693),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=i.b.select;e.a=Object(r.b)(function(t,e){var n=s({isShow:"historyList.isShowList",isLoading:"historyList.isLoadingList",isOnScroll:"historyList.isOnScroll",list:"history.list",isLastPage:"history.isLastPage",users:"history.users",selected:"history.selected",highLight:"history.highLight",isReverting:"historyList.isReverting",revertItem:"historyList.revertItem"},t);return a({},n,e)},function(){return i.a})(o.a)},function(t,e,n){"use strict";var r,o=n(2),i=n.n(o),a=n(0),s=n.n(a),c=n(443),u=n.n(c),l=n(420),f=(n.n(l),n(947)),p=n(691),h=n(692),d=n(322),v=n(1),y=(n.n(v),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),b=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},g=v.sheets,m=g.loading,w=g.alert,_=g.track,O=m.Loading,j=w.showAlert,S=w.confirm,x=function(t){function e(e){var n=t.call(this,e)||this;return n.onScroll=n._onScroll.bind(n),n.fileType=e.fileType||-4,n}return y(e,t),e.prototype.componentWillReceiveProps=function(t){if(this.props.isShow!==t.isShow&&(u.a.notify("newdoc:history:"+(t.isShow?"show":"hide")),t.isShow)){var e=t.loadHistoryUrl,n=t.guid;(0,t.loadHistoryAction)({url:e,guid:n,start:0,headers:t.headers})}this.props.isReverting&&!t.isReverting&&"function"==typeof this.props.afterRevert&&this.props.afterRevert()},e.prototype.componentDidMount=function(){var t=this.props,e=t.guid,n=t.loadHistoryUrl,r=t.revertUrl,o=t.headers;this.props.initStateAction({guid:e,fileType:this.fileType,loadHistoryUrl:n,revertUrl:r,headers:o}),Object(l.autoRefresh)("#sheet-view .s-list-history"),this.tooltip=new p.a({rootSelector:".sm-sidebar-applist-history",content:i()("点击预览历史"),className:"s-tooltip-history"}),this.tooltip.init()},e.prototype.onPreview=function(t){var e=this.props.selected||{};Object(d.e)(t)&&t.id!==e.id&&this.props.onSelectHistory(t)},e.prototype._onScroll=function(){if(!this.props.isOnScroll){var t=this.refs.sList,e=t.scrollTop,n=t.scrollHeight,r=this.refs.footer.offsetTop,o=this.props,i=o.isLastPage,a=o.list,s=o.loadHistoryUrl,c=o.headers;n-e-r<=50&&!i&&this.props.scrollAction({url:s,guid:this.props.guid,start:a.length,headers:c})}},e.prototype.handleRevert=function(t){var e=this,n=this.props,o=n.list,a=n.revertItem;if(n.editor.permissions.query.canEditFile()&&t.id!==a.id){var s=this.fileType,c=this.props.editor.spread.gcSpread;if(Object(d.d)(c,s,t))return S({title:i()("工作表已被锁定"),description:i()("当前工作表已被锁定，您无法还原历史。如需进行还原，请与该表格的所有者联系")});var u=t.updated_at,f=Object(l.format)(u,!0);S({title:i()("还原表格"),description:Object(d.f)(t.id,o)?i()("该版本与当前表格内容一致，确认还原吗？"):i()(r||(r=b(["确认将表格还原到 ","的内容吗？"],["确认将表格还原到 ","的内容吗？"])),f),confirmFun:function(){j({title:i()("历史还原中,请稍等"),autoHide:!1}),e.props.revertAction(t)}}),_(2,"0050")}},e.prototype.handleTooltip=function(t,e,n){if(Object(d.e)(t)&&this.tooltip)return e?void this.tooltip.showInCenter(n.currentTarget):this.tooltip.hide()},e.prototype.toggleHighLight=function(){this.props.toggleHighLight()},e.prototype.render=function(){var t=this,e=this.props,n=e.guid,r=e.isShow,o=e.selected,i=e.list,a=e.isLoading,c=e.isOnScroll,u=e.highLight,l=e.users,p=e.editor,d=e.isReverting,v=e.contactUrl;return s.a.createElement("div",{className:"s-list-history "+(r?"":"hide-list"),ref:"sList",onScroll:this.onScroll},s.a.createElement(O,{isShow:d,wrapperClass:"s-history-loading s-revert-loading",imgClass:"s-history-loading-img"}),r&&s.a.createElement("div",{className:"s-list"},O({isShow:a,wrapperClass:"s-sidebar-loading s-sidebar-loading-history",imgClass:"s-sidebar-loading-img"}),i.map(function(e){return s.a.createElement(f.a,{key:e.id,guid:n,history:e,users:l,selected:o,contactUrl:v,handlePreview:t.onPreview.bind(t),handleTooltip:t.handleTooltip.bind(t),isDisableRevert:!p.permissions.query.canEditFile(),handleRevert:t.handleRevert.bind(t)})}),O({isShow:c,wrapperClass:"s-sidebar-loading s-sidebar-loading-history",imgClass:"s-sidebar-loading-img"})),r&&Object(h.a)({isChecked:u,onClick:this.toggleHighLight.bind(this)}))},e}(a.Component);e.a=x},function(t,e,n){"use strict";var r,o,i,a,s,c,u,l,f,p,h,d,v,y,b,g,m,w=n(2),_=n.n(w),O=n(0),j=n.n(O),S=n(420),x=(n.n(S),n(948)),E=n(322),k=n(1),P=(n.n(k),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),C=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},A=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},M=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},R=k.sheets.contact.getContactById,T=function(t){function e(e){var n=t.call(this,e)||this;return n.state={userName:"",inviteeName:"",deletedUserName:"",newOwnerName:""},n.handleMouseEnter=n._handleMouseEnter.bind(n),n.handleMouseLeave=n._handleMouseLeave.bind(n),n.handleClick=n._handleClick.bind(n),n}return P(e,t),e.prototype.componentDidMount=function(){this.setHistoryNames(this.props.history)},e.prototype.componentWillReceiveProps=function(t){var e=this.props.history;e.id===t.history.id&&e.content===t.history.content||this.setHistoryNames(t.history)},e.prototype.getUserName=function(t){return A(this,void 0,Promise,function(){var e,n=this;return M(this,function(r){switch(r.label){case 0:return t?(e=this.props.users||{},[4,Promise.all(t.toString().split(",").map(function(t){return A(n,void 0,void 0,function(){return M(this,function(n){switch(n.label){case 0:return e[t]?[2,e[t]]:[4,R({contactId:t,url:this.props.contactUrl})];case 1:return[2,n.sent().name]}})})}))]):[2,""];case 1:return[2,r.sent().join("、")]}})})},e.prototype.setHistoryNames=function(t){return A(this,void 0,Promise,function(){var e,n,r,o,i;return M(this,function(a){switch(a.label){case 0:return e=JSON.parse(t.content),[4,this.getUserName(t.user_id)];case 1:return n=a.sent(),[4,this.getUserName(e.invitee)];case 2:return r=a.sent(),[4,this.getUserName(e.deletedUser)];case 3:return o=a.sent(),[4,this.getUserName(e.newOwner)];case 4:return i=a.sent(),this.setState({userName:n,inviteeName:r,deletedUserName:o,newOwnerName:i}),[2]}})})},e.prototype.componentWillUnmount=function(){this.state={userName:"",inviteeName:"",deletedUserName:"",newOwnerName:""}},e.prototype.render=function(){var t,e=this.props,n=e.history,w=e.isDisableRevert,O=e.handleRevert,k=this.state,P=k.userName,A=k.inviteeName,M=k.deletedUserName,R=k.newOwnerName,T=Object(S.format)(n.updated_at),I=this._itemClass(n),L=JSON.parse(n.content);if(1===n.history_type)switch(L.action){case"invite":t=_()(r||(r=C(["邀请了 ",""],["邀请了 ",""])),A);break;case"join":t=_()("加入了文档");break;case"rename":t=_()(o||(o=C(["将表格 “","” 重命名为 “","”"],["将表格 “","” 重命名为 “","”"])),L.before,L.after);break;case"deleteShare":t=_()(i||(i=C(["对 "," 取消了共享"],["对 "," 取消了共享"])),M);break;case"set_doc_readonly":t=_()("将公开链接设置为只读");break;case"set_doc_editable":t=_()("将公开链接设置为可写");break;case"set_doc_private":t=_()("禁用了公开链接");break;case"createCopy":t=_()("创建了表格副本");break;case"transferOwnership":t=_()(a||(a=C(["把表格转让给 ",""],["把表格转让给 ",""])),R);break;case"createRevision":t=_()("保存了历史版本");break;case"renameRevision":t=_()(s||(s=C(["将历史版本 “","” 重命名为 “","”"],["将历史版本 “","” 重命名为 “","”"])),L.before,L.after);break;case"deleteRevision":t=_()(c||(c=C(["删除了历史版本 “","”"],["删除了历史版本 “","”"])),L.label);break;case"lock_sheet":t=_()(u||(u=C(["锁定了表格 “","”"],["锁定了表格 “","”"])),L.sheetName);break;case"unlock_sheet":t=_()(l||(l=C(["解锁了表格 “","”"],["解锁了表格 “","”"])),L.sheetName);break;case"update_lock":t=_()(f||(f=C(["编辑了锁定 “","”"],["编辑了锁定 “","”"])),L.sheetName);break;case"lock_cell":t=_()(p||(p=C(["锁定了单元格 “","-","”"],["锁定了单元格 “","-","”"])),L.sheetName,L.range);break;case"unlock_cell":t=_()(h||(h=C(["解锁了单元格 “","-","”"],["解锁了单元格 “","-","”"])),L.sheetName,L.range);break;case"update_lock_cell":t=_()(d||(d=C(["编辑了锁定 “","-","”"],["编辑了锁定 “","-","”"])),L.sheetName,L.range);break;case"delete_sheet":t=_()(v||(v=C(["删除了工作表 “","”"],["删除了工作表 “","”"])),L.name);break;case"create_sheet":t=_()(y||(y=C(["创建了工作表 “","”"],["创建了工作表 “","”"])),L.name);break;case"copy_sheet":t=_()(b||(b=C(["创建了工作表 “","” 的副本"],["创建了工作表 “","” 的副本"])),L.name);break;case"create_form":t=_()(g||(g=C(["创建了表单 “","”"],["创建了表单 “","”"])),L.name);break;case"delete_form":t=_()(m||(m=C(["删除了表单 “","”"],["删除了表单 “","”"])),L.name);break;case"set_doc_enterprise_readonly":t=_()("将公开链接设置为仅企业内部只读");break;case"set_doc_enterprise_editable":t=_()("将公开链接设置为仅企业内部可写");break;case"turn_on_password":t=_()("开启了访问密码");break;case"turn_off_password":t=_()("关闭了访问密码");break;case"reset_password":t=_()("更换了访问密码")}else if(2===n.history_type)switch(!0){case L.range&&1===L.range[0]&&1===L.range[1]:t=_()("创建了表格");break;case L.revert:var N=Object(S.format)(L.time,!0);t=j.a.createElement("span",null,_()("将表格还原到"),j.a.createElement("span",{className:"history-content-time"},N),_()("的内容"));break;default:t=_()("编辑了表格")}return j.a.createElement("div",{className:I,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},j.a.createElement("div",{className:"s-content-container"},j.a.createElement("div",null,j.a.createElement("div",{className:"s-history-content"},j.a.createElement("span",{className:"s-author"},P)," ",t),j.a.createElement("span",{className:"s-time","data-time":n.updated_at},T),j.a.createElement("div",{style:{clear:"both"}})),Object(E.e)(n)&&Object(x.a)(n,w,O)))},e.prototype._handleMouseEnter=function(t){var e=this.props,n=e.history;(0,e.handleTooltip)(n,!0,t)},e.prototype._handleMouseLeave=function(t){var e=this.props,n=e.history;(0,e.handleTooltip)(n,!1,t)},e.prototype._handleClick=function(t){var e=this.props,n=e.history;(0,e.handlePreview)(n)},e.prototype._itemClass=function(t){var e=this.props.selected;return"s-history-item"+(2===t.history_type?" edit":"")+(e.id===t.id?" selected":"")},e}(O.Component);e.a=T},function(t,e,n){"use strict";e.a=function(t,e,n){return a.a.createElement("div",{className:"s-action-bar-wrap"},a.a.createElement("div",{className:"s-action-bar"+(e?" disabled":""),onClick:function(e){e.stopPropagation(),n(t)}},a.a.createElement("span",{className:"hicon icon-recover"}),o()("还原")),a.a.createElement("div",{style:{clear:"both"}}))};var r=n(2),o=n.n(r),i=n(0),a=n.n(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"initStateAction",function(){return a}),n.d(e,"toggleListShowAction",function(){return s}),n.d(e,"loadHistoryAction",function(){return c}),n.d(e,"setSelectedAction",function(){return u}),n.d(e,"scrollAction",function(){return l}),n.d(e,"previewFirstItemAction",function(){return f}),n.d(e,"revertAction",function(){return p}),n.d(e,"toggleHighLightAction",function(){return h}),n.d(e,"destoryAction",function(){return d});var r=n(87),o=n(588),i=n(591),a=function(t){return Object(r.b)(i.d,t)},s=function(t){return Object(r.b)(i.m,t)},c=function(t){return Object(r.b)(i.e,o.a(t))},u=function(t){return Object(r.b)(i.k,t)},l=function(t){return Object(r.b)(i.i,o.a(t))},f=function(){return Object(r.b)(i.g)},p=function(t){return Object(r.b)(i.h,t)},h=function(){return Object(r.b)(i.l)},d=function(){return Object(r.b)(i.c)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(t){var e=t.url,n=t.range,r=t.headers,o=n[0],i=n[1];return{url:e=e.replace("{from}",o.toString()).replace("{to}",i.toString()),method:"GET",headers:r}},o=function(t){return{url:t.url,method:"GET",params:{rev:t.rev},headers:t.headers}}},function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s});var r="top",o="right",i="bottom",a="left",s=[r,o,i,a]},function(t,e,n){"use strict";var r=n(953),o=n(956),i=[].slice,a=["keyword","gray","hex"],s={};Object.keys(o).forEach(function(t){s[i.call(o[t].labels).sort().join("")]=t});var c={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in a&&(e=null),e&&!(e in o))throw new Error("Unknown model: "+e);var n,l;if(t)if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var f=r.get(t);if(null===f)throw new Error("Unable to parse color from string: "+t);this.model=f.model,l=o[this.model].channels,this.color=f.value.slice(0,l),this.valpha="number"==typeof f.value[l]?f.value[l]:1}else if(t.length){this.model=e||"rgb",l=o[this.model].channels;var h=i.call(t,0,l);this.color=p(h,l),this.valpha="number"==typeof t[l]?t[l]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var v=d.sort().join("");if(!(v in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[v];var y=o[this.model].labels,b=[];for(n=0;n<y.length;n++)b.push(t[y[n]]);this.color=p(b)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(l=o[this.model].channels,n=0;n<l;n++){var g=c[this.model][n];g&&(this.color[n]=g(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(c[t]||(c[t]=[]))[e]=n}),t=t[0],function(r){var o;return arguments.length?(n&&(r=n(r)),(o=this[t]()).color[e]=r,o):(o=this[t]().color[e],n&&(o=n(o)),o)}}function f(t){return function(e){return Math.max(0,Math.min(t,e))}}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=o[this.model].channels,n=o[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:l("rgb",0,f(255)),green:l("rgb",1,f(255)),blue:l("rgb",2,f(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:l("hsl",1,f(100)),lightness:l("hsl",2,f(100)),saturationv:l("hsv",1,f(100)),value:l("hsv",2,f(100)),chroma:l("hcg",1,f(100)),gray:l("hcg",2,f(100)),white:l("hwb",1,f(100)),wblack:l("hwb",2,f(100)),cyan:l("cmyk",0,f(100)),magenta:l("cmyk",1,f(100)),yellow:l("cmyk",2,f(100)),black:l("cmyk",3,f(100)),x:l("xyz",0,f(100)),y:l("xyz",1,f(100)),z:l("xyz",2,f(100)),l:l("lab",0,f(100)),a:l("lab",1),b:l("lab",2),keyword:function(t){return arguments.length?new u(t):o[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){var n=t.rgb(),r=this.rgb(),o=void 0===e?.5:e,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-s;return u.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*o+r.alpha()*(1-o))}},Object.keys(o).forEach(function(t){if(-1===a.indexOf(t)){var e=o[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var n="number"==typeof arguments[e]?e:this.valpha;return new u(function(t){return Array.isArray(t)?t:[t]}(o[this.model][t].raw(this.color)).concat(n),t)},u[t]=function(n){return"number"==typeof n&&(n=p(i.call(arguments),e)),new u(n,t)}}}),t.exports=u},function(t,e,n){var r=n(694),o=n(954),i={};for(var a in r)r.hasOwnProperty(a)&&(i[r[a]]=a);var s=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),n="hsl";break;case"hwb":e=s.get.hwb(t),n="hwb";break;default:e=s.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,n,o,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],n=0;n<3;n++){var a=2*n;i[n]=parseInt(e.slice(a,a+2),16)}o&&(i[3]=Math.round(parseInt(o,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);o&&(i[3]=Math.round(parseInt(o+o,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=r[e[1]])?(i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=c(i[n],0,255);return i[3]=c(i[3],0,1),i},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var t=o(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},s.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return i[t.slice(0,3)]}},function(t,e,n){"use strict";var r=n(955),o=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=o.call(e,i.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,n){var r=n(695),o=n(957),i={};Object.keys(r).forEach(function(t){i[t]={},Object.defineProperty(i[t],"channels",{value:r[t].channels}),Object.defineProperty(i[t],"labels",{value:r[t].labels});var e=o(t);Object.keys(e).forEach(function(n){var r=e[n];i[t][n]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,o=0;o<r;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),i[t][n].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=i},function(t,e,n){var r=n(695);function o(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,o=0;o<n;o++)t[e[o]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,s=0;s<a;s++){var c=i[s],u=e[c];-1===u.distance&&(u.distance=e[o].distance+1,u.parent=o,n.unshift(c))}return e}function i(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],o=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),o=i(r[e[a].parent][a],o),a=e[a].parent;return o.conversion=n,o}t.exports=function(t){for(var e=o(t),n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var c=r[s];null!==e[c].parent&&(n[c]=a(c,e))}return n}},function(t,e,n){"use strict";var r,o,i,a,s,c=n(591),u=n(518),l=n(595),f={list:[[],(r={},r[c.f]=function(t,e){var n=e.histories.reverse(),r=t[0]||{},o=n[0]||{},i=t[t.length-1]||{},a=n[n.length-1]||{};return r.id>=o.id&&i.id<=a.id&&r.content===o.content?t:n},r[c.j]=function(t,e){var n=e.histories;return t.concat(n.reverse())},r[u.b]=function(t,e){var n=e.histories;return t.concat(n.reverse())},r[c.b]=function(t,e){var n=e.histories;return t.concat(n.reverse())},r[l.d]=function(t,e){var n=e.histories;return t.concat(n.reverse())},r[l.e]=function(t,e){return e.histories.reverse()},r)],isLastPage:[!1,(o={},o[c.f]=function(t,e){return e.isLastPage},o[c.j]=function(t,e){return e.isLastPage},o[u.b]=function(t,e){return e.isLastPage},o[c.b]=function(t,e){return e.isLastPage},o[l.d]=function(t,e){return e.isLastPage},o[l.e]=function(t,e){return e.isLastPage},o)],users:[{},(i={},i[c.j]=function(t,e){var n=e.users;return Object.assign(t,n)},i[c.f]=function(t,e){var n=e.users;return Object.assign(t,n)},i[c.b]=function(t,e){var n=e.users;return Object.assign(t,n)},i[l.d]=function(t,e){var n=e.users;return Object.assign(t,n)},i[l.e]=function(t,e){var n=e.users;return Object.assign(t,n)},i)],selected:[{},(a={},a[c.k]=function(t,e){return e||{}},a[u.i]=function(t,e){return e},a[c.c]=function(){return{}},a)],highLight:[!0,(s={},s[c.l]=function(t){return!t},s)]};e.a={namespace:"history",reducers:f}},function(t,e,n){t.exports=n(960)},function(t,e,n){var r=n(52),o=n(64),i=n(168),a=n(11),s=n(28),c=n(266),u=!Object.prototype.propertyIsEnumerable.call({valueOf:1},"valueOf"),l=i(function(t,e){if(u||s(e)||a(e))o(e,c(e),t);else for(var n in e)r(t,n,e[n])});t.exports=l},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(2),o=n.n(r),i=n(1),a=(n.n(i),n(592)),s=i.sheets.changeset,c=s.unpack,u=s.compose,l=i.sheets.alert.showAlert,f=function(t,e,n,r){n=n||-1;for(var i,s=null,f=0,p=r.length;f<p;f++){var h=r[f],d=h.id;if(d>e)break;if(!(d<=n)){var v=JSON.parse(h.content).changeset,y=c(t,v);s=s?u(t,s,y):y,i=y}}var b=null;i.length>1&&(b=Object(a.g)(i));try{s.validate&&s.validate()}catch(t){throw l({type:"error",title:o()("当前历史片段的数据可能已损坏，无法预览")}),t}return{content:JSON.stringify({changeset:s}),delta:s,sheet:b}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return i});var r=function(t){var e=t.url,n=t.start,r=t.pageSize;return{url:e,method:"GET",params:{count:n,pageSize:void 0===r?30:r},headers:t.headers}},o=function(t){return{url:t.url,method:"GET",params:{rev:t.rev},headers:t.headers}},i=function(t){var e=t.url,n=t.range,r=t.headers,o=n[0],i=n[1];return{url:e=e.replace("{from}",o.toString()).replace("{to}",i.toString()),method:"GET",headers:r}}},function(t,e,n){"use strict";var r=n(698),o=n.n(r);e.a={"en-US":o.a}},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(223),a=n(965),s=n(699),c=n(1),u=(n.n(c),n(7)),l=n.n(u),f=n(701),p=n.n(f),h=n(702),d=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=this&&this.__assign||function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=c.sheets,b=y.Events,g=y.Plugin,m=(c.Editor,"HistoryPreview"),w=function(t){function e(n){var r=t.call(this,{name:m,Constructor:e,config:n})||this;return r.options=n,r.cooperation=new p.a.ColorPalette(n.currentUserId),r.editor=n.historyEditor||Object(h.a)(n.editor),n.container&&r.render(n.container),r.install(),r}return d(e,t),e.prototype.render=function(t){l.a.render(o.a.createElement(i.a,{store:s.c},o.a.createElement(a.a,v({},v({},this.options,{container:t,cooperation:this.cooperation,previewEditor:this.editor})))),t)},e.prototype.show=function(t){s.a.togglePreviewAction(!0,t),this.editor.emit(b.HistoryPreviewShown)},e.prototype.hide=function(){s.a.togglePreviewAction(!1),this.editor.emit(b.HistoryPreviewHidden)},e.prototype.destory=function(){s.a.destoryAction()},e.prototype.isShown=function(){return s.c.select("historyPreview.isShowPreview",s.c.getState())},e}(g);e.a=w},function(t,e,n){"use strict";var r=n(223),o=n(699),i=n(700),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=o.b.select;e.a=Object(r.b)(function(t,e){var n=s({isPreview:"historyPreview.isShowPreview",isLoading:"historyPreview.isLoadingPreview",selected:"history.selected",steps:"historyPreview.steps",curStep:"historyPreview.curStep",users:"history.users",baseDelta:"historyPreview.baseDelta",curDelta:"historyPreview.curDelta",sheetId:"historyPreview.sheetId",highLight:"history.highLight"},t);return a({wrapperClass:"sm-sheet-editor-history"},n,e)},function(){return o.a})(i.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"initStateAction",function(){return i}),n.d(e,"togglePreviewAction",function(){return a}),n.d(e,"onSetSelectedItem",function(){return s}),n.d(e,"onSetCurStepAction",function(){return c}),n.d(e,"setPreviewLoadingAction",function(){return u}),n.d(e,"destoryAction",function(){return l});var r=n(87),o=n(518),i=function(t){return Object(r.b)(o.e,t)},a=function(t,e){return t?Object(r.b)(o.i,e||{}):Object(r.b)(o.d)},s=function(){return Object(r.b)(o.g)},c=function(t){return Object(r.b)(o.h,t)},u=function(t){return Object(r.b)(o.f,t)},l=function(){return Object(r.b)(o.c)}},function(t,e,n){"use strict";var r,o,i=n(2),a=n.n(i),s=n(0),c=n.n(s),u=n(27),l=n.n(u),f=n(210),p=n.n(f),h=n(1),d=(n.n(h),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),v=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},y=h.sheets.changeset,b=h.sheets.alert.showAlert,g=y.compose,m=y.genEmptyDelta,w=y.unpack,_=function(t){function e(e){var n=t.call(this,e)||this;return n.onInputChange=function(t){n.setState({inputValue:t.target.value})},n.onBlur=function(){n.setState({inputValue:n.current})},n.onKeyDown=function(t){if("Enter"===t.key){var e=n.props.items.length,r=+t.target.value;!isNaN(r)&&r>0&&r<=e?n._showStep(r):n.setState({inputValue:n.current})}},n.init=!0,n.state={inputValue:n.props.current||0},n.current=n.props.current||0,n}return d(e,t),Object.defineProperty(e,"defaultProps",{get:function(){return{current:0,items:[],baseDelta:new p.a.Delta,wrapClassName:"",fileType:-4}},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.goPrev=this._changeHistory.bind(this,-1),this.goNext=this._changeHistory.bind(this,1)},e.prototype.componentWillReceiveProps=function(t){this.props.items!==t.items&&(this.init=!0,this.current=0)},e.prototype._changeHistory=function(t){var e=this.current,n=this.props.items.length;-1===t?1===e||0===e?e=n:e-=1:1===t&&(e===n?e=1:e+=1),this._showStep(e)},e.prototype._showStep=function(t){var e=this.current;if(e!==t){var n=this.props,r=n.items,o=n.historyStepChange,i=this._getStepCS(e,t);if(i){var a=r[t-1];this.init=!1,o&&o({cs:i,curStep:a}),this.current=t,this.setState({inputValue:t})}}},e.prototype._getStepCS=function(t,e){var n=this.props,r=n.items,o=n.baseDelta,i=n.fileType,s=this.init,c=s||t>e,u=[],l=[],f=m(i),p=m(i);if(t===e)return p;if(s?(l=r.slice(0,e),u=r.slice(e)):t<e?l=r.slice(t,e):(l=r.slice(0,e),u=r.slice(e,t)),l.forEach(function(t){p=g(i,p,w(i,t.delta))}),u.forEach(function(t){f=g(i,f,w(i,t.delta))}),!c)return p;try{return o=o||m(i),g(i,o,p).invert(f)}catch(t){b({title:a()("当前历史片段的数据可能已损坏，无法预览"),type:"error"})}},e.prototype.render=function(){var t=this.state.inputValue,e=this.props,n=e.wrapClassName,i=e.items.length;if(0===i)return null;var s="sm-history-head-item "+(n||""),u=this.init,f=l()({hisBtn:!0,hisBtnPrev:!0}),p=l()({hisBtn:!0,hisBtnNext:!0});return c.a.createElement("div",{className:s},u?c.a.createElement("span",null,a()(r||(r=v(["共 "," 条编辑记录"],["共 "," 条编辑记录"])),i)):c.a.createElement("span",null,a()(o||(o=v(["共 "," 条编辑记录, 查看第"],["共 "," 条编辑记录, 查看第"])),i),c.a.createElement("input",{className:"sm-form-control",value:t,onChange:this.onInputChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown}),a()("条")),i>1&&c.a.createElement("span",null,c.a.createElement("span",{className:f,onClick:this.goPrev}),c.a.createElement("span",{className:p,onClick:this.goNext})))},e}(s.Component);e.a=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["#A69ACA","#EC6E79","#F39801","#00A496","#FFD900","#674599","#83D4E7","#AF7C4F","#B8D200","#9D5B8B","#F15B1C","#41464B","#CD9F00","#47885E","#D7003B","#436EC9","#F897C7","#9C4109","#6E7A56","#83D4E7","#83609C","#F8DCDB","#E7C39C","#87B151","#9E0038","#B09FC9","#7DCFC8","#BEE7F0","#CD9F00","#CBAAC2","#F5C5C9","#CD8C28","#1A5A52","#9EB4E1","#406619","#CAB738","#F6C751","#8D699D","#613A14","#189DEC"],o=function(){function t(t,e){var n=this;this._colorPalette=r,this._userColorMap={},this._currentUserId=t,e&&(this._colorPalette=e),this._getColor=function(){var t=0;return function(){var e=n._colorPalette,r=e[t];return(t+=1)>e.length&&(t=0),r}}()}return t.prototype.setColorPalette=function(t){this._colorPalette=t,this.reset()},t.prototype.userColor=function(t){if(this._isCurrentUser(t))return"#5292F7";var e=this._userColorMap[t];return null==e&&(e=this._getColor(),this._userColorMap[t]=e),e},t.prototype.reset=function(){this._userColorMap={}},t.prototype._isCurrentUser=function(t){return t+""==this._currentUserId+""},t}();e.default=o},function(t,e,n){"use strict";var r=n(970),o=n(984);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";var r=n(2),o=n.n(r),i=n(0),a=n.n(i),s=n(223),c=n(971),u=n(703),l=n(267),f=n.n(l),p=n(1),h=(n.n(p),n(7)),d=n.n(h),v=n(704),y=n(697),b=n(982),g=n(983),m=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=this&&this.__assign||function(){return(w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_=p.sheets,O=_.alert,j=_.track,S=_.Plugin,x=O.showAlert,E=(p.Editor,"VersionList"),k=function(t){function e(n){var r=t.call(this,{name:E,Constructor:e,config:n,localeOption:{localeResources:b.a,s18n:o.a}})||this;return r.getMenuConfig=function(){return Object(g.a)({createVersion:r.createVersion.bind(r)})},r.options=n,n.container&&r.render(n.container),r.install(),r}return m(e,t),e.prototype.render=function(t,e){void 0===e&&(e={}),this.options=w({},this.options,e),d.a.render(a.a.createElement(s.a,{store:u.c},a.a.createElement(c.a,w({},w({},this.options,{container:t})))),t)},e.prototype.show=function(){u.a.toggleListShowAction(!0)},e.prototype.hide=function(){u.a.toggleListShowAction(!1)},e.prototype.destory=function(){u.a.destoryAction()},e.prototype.toggleHighLight=function(){u.a.toggleHighLightAction()},e.prototype.setSelectedItem=function(t){u.a.setSelectedAction(t)},e.prototype.reload=function(){u.a.reloadAction(!0)},e.prototype.createVersion=function(){var t=Object(y.d)({url:this.options.updateVersionUrl,id:"",label:"",headers:{}}).url;f.a.request({url:t,data:{label:Object(v.b)()},method:"POST",transformResponse:function(t){return t}}).then(function(t){var e=JSON.parse(t.data);e&&!e.error?(x({title:o()("版本创建成功，可在「更多」-「查看历史」-「版本」中查看")}),j(2,"0048")):x({title:e.error||o()("创建失败"),type:"error"})}).catch(function(t){var e=t.response.status,n=JSON.parse(t.response.data),r="";400===e?r=o()("不能重复创建版本"):403===e?r=n.error:500===e&&(r=o()("创建失败")),x({title:r,type:"error"})})},e.prototype.isShown=function(){return u.c.select("versionList.isShowList",u.c.getState())},e}(S);e.a=k},function(t,e,n){"use strict";var r=n(223),o=n(703),i=n(973),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=o.b.select;e.a=Object(r.b)(function(t,e){var n=s({isShow:"versionList.isShowList",list:"versionList.list",isLoading:"versionList.isLoadingList",highLight:"history.highLight",selected:"versionList.selected",isReverting:"versionList.isReverting",revertItem:"versionList.revertItem",shouldReload:"versionList.shouldReload"},t);return a({},n,e)},function(){return o.a})(i.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"initStateAction",function(){return i}),n.d(e,"toggleListShowAction",function(){return a}),n.d(e,"loadVersionListAction",function(){return s}),n.d(e,"onDeleteAction",function(){return c}),n.d(e,"onRevertAction",function(){return u}),n.d(e,"updateVersionAction",function(){return l}),n.d(e,"reloadAction",function(){return f}),n.d(e,"destoryAction",function(){return p}),n.d(e,"setSelectedAction",function(){return h});var r=n(87),o=n(696),i=function(t){return Object(r.b)(o.d,t)},a=function(t){return Object(r.b)(o.i,t)},s=function(t){return Object(r.b)(o.e,{url:t})},c=function(t){return Object(r.b)(o.b,t)},u=function(t){return Object(r.b)(o.g,t)},l=function(t){return Object(r.b)(o.j,t)},f=function(t){return Object(r.b)(o.f,t)},p=function(){return Object(r.b)(o.c)},h=function(t){return Object(r.b)(o.h,t)}},function(t,e,n){"use strict";var r,o=n(2),i=n.n(o),a=n(0),s=n.n(a),c=n(974),u=n.n(c),l=n(691),f=n(692),p=n(975),h=n(322),d=n(1),v=(n.n(d),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),y=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},b=d.sheets,g=b.alert,m=b.loading,w=g.showAlert,_=g.confirm,O=m.Loading,j=function(t){function e(e){var n=t.call(this,e)||this;return n.fileType=e.fileType||-4,n}return v(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.guid,n=t.initStateAction,r=t.loadVersionListUrl,o=t.revertVersionUrl,a=t.deleteVersionUrl,s=t.updateVersionUrl,c=t.headers;n({guid:e,fileType:this.fileType,loadVersionListUrl:r,revertVersionUrl:o,deleteVersionUrl:a,updateVersionUrl:s,headers:c}),this.tooltip=new l.a({rootSelector:".s-list-version",content:i()("点击预览版本"),className:"s-tooltip-version"}),this.tooltip.init()},e.prototype.componentWillReceiveProps=function(t){var e=this.props,n=e.isShow,r=e.list,o=e.getListLength,i=e.shouldReload;(!n&&t.isShow||!i&&t.shouldReload)&&(0,t.loadVersionListAction)(t.loadVersionListUrl);r.length!==t.list.length&&o&&o(t.list.length),this.props.isReverting&&!t.isReverting&&"function"==typeof this.props.afterRevert&&this.props.afterRevert()},e.prototype.handlePreview=function(t){var e=this.props.selected||{};if(t.id!==e.id){var n=this.props.onSelectVersion;"function"==typeof n&&n(t)}},e.prototype.handleTooltip=function(t,e,n){if(this.tooltip)return e?void this.tooltip.showInCenter(n.currentTarget):this.tooltip.hide()},e.prototype.handleRevert=function(t){var e=this.props,n=e.onRevertAction,o=e.editor,a=e.revertItem;if(o.permissions.query.canEditFile()&&t.id!==a.id){if((this.props.editor.spread.gcSpread.sheets||[]).some(h.g))return _({title:i()("工作表已被锁定"),description:i()("当前工作表已被锁定，您无法还原历史。如需进行还原，请与该表格的所有者联系")});_({confirmFun:function(){w({title:i()("版本还原中,请稍等"),autoHide:!1}),n(t)},title:i()("还原表格"),description:i()(r||(r=y(["确认将表格还原到历史版本 "," 吗？"],["确认将表格还原到历史版本 "," 吗？"])),t.label)}),u()(2,"0050")}},e.prototype.deleteItem=function(t){this.props.onDeleteAction(t)},e.prototype.updateVersion=function(t){this.props.updateVersionAction(t)},e.prototype.render=function(){var t=this,e=this.props,n=e.isShow,r=e.isLoading,o=e.list,a=e.selected,c=e.highLight,u=e.toggleHighLight,l=e.editor,h=e.isReverting,d=e.canManageVersionItem,v=e.currentUserId;return s.a.createElement("div",{className:"s-list-version "+(n?"":"hide-list")},s.a.createElement(O,{isShow:h,wrapperClass:"s-history-loading s-revert-loading",imgClass:"s-history-loading-img"}),n&&s.a.createElement("div",{className:"s-list"},O({isShow:r,wrapperClass:"s-sidebar-loading s-sidebar-version-loading",imgClass:"s-sidebar-loading-img"}),o.length?o.map(function(e,n){return s.a.createElement(p.a,{key:e.id,version:e,selected:a.docHistoryId,canManageVersionItem:d,currentUserId:v,handleDelete:t.deleteItem.bind(t),handlePreview:t.handlePreview.bind(t),handleTooltip:t.handleTooltip.bind(t),isDisableRevert:!l.permissions.query.canEditFile(),updateVersion:t.updateVersion.bind(t),handleRevert:t.handleRevert.bind(t)})}):!r&&s.a.createElement("div",{className:"s-version-empty"},i()("暂无历史版本")),Object(f.a)({isChecked:c,onClick:u})))},e}(a.Component);e.a=j},function(t,e,n){"use strict";function r(t,e){if(e){var n=[];for(var r in e)n.push(r+"="+e[r]);n.length>0&&(t+="?"+n.join("&"))}var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){if(4===o.readyState)return o.responseText},o.open("GET",t,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send()}var o="https://statistics.shimo.im",i=function(){var t=window.navigator.userAgent.toLowerCase();return window.ActiveXObject||/firefox|Safari|Chrome/i.test(t)?0:/shimo-iphone-app/g.test(t)?1:/shimo-android-app/g.test(t)?2:/micromessenger/g.test(t)?3:/(ipad|iphone|ipod)/g.test(t)?4:/(android)/g.test(t)?5:/dingtalk/i.test(t)?6:7}();t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(1!==String(t).length||4!==String(e).length)throw new Error("params is error, please check the parmas");if(window.cow&&cow.domain){if("shimo.im"!==cow.domain&&"shimo.run"!==cow.domain)return!1}else if("shimo.im"!==location.hostname&&"staging.shimo.run"!==location.hostname)return!1;if(!n.userId){if(!window.cow||!window.cow.currentUser)throw new Error("params is error, userId is required");n.userId=cow.currentUser.id}return n.fileId||window.cow&&window.cow.currentFile&&(n.fileId=cow.currentFile.guid),r("timing"===n.type?o+"/timing":o+"/increment",{name:""+t+i+e,uid:n.userId,fileId:n.fileId,value:n.value||1})}},function(t,e,n){"use strict";(function(t){var r,o=n(2),i=n.n(o),a=n(976),s=n.n(a),c=n(0),u=n.n(c),l=n(1),f=(n.n(l),n(704)),p=n(981),h=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},v=l.sheets.alert,y=v.showAlert,b=v.confirm,g=function(e){function n(t){var n=e.call(this,t)||this;return n.state={status:"normal",inputWidth:"100%"},n.startEdit=n._startEdit.bind(n),n.onKeyDown=n._onKeyDown.bind(n),n.onInput=n._onInput.bind(n),n.deleteVersion=n._deleteVersion.bind(n),n.versionClick=n._versionClick.bind(n),n.handleMouseEnter=n._handleMouseEnter.bind(n),n.handleMouseLeave=n._handleMouseLeave.bind(n),n.endEdit=n._endEdit.bind(n),n}return h(n,e),n.prototype.componentDidMount=function(){this.adjustInputWidth()},n.prototype._startEdit=function(){var t=this;this.setState({status:"edit"}),setTimeout(function(){t.refs.title.focus(),document.execCommand("selectAll",!1,void 0)})},n.prototype._endEdit=function(){this.setState({status:"normal"});var t=this.refs.title.value;if(!s()(t))return this.resetInput();!(t===this.props.version.label)&&this.updateVersion(t)},n.prototype._onKeyDown=function(t){13===t.keyCode&&t.target.blur()},n.prototype._onInput=function(t){var e=t.target.value;this.cutOff(e),this.adjustInputWidth()},n.prototype.resetInput=function(){this.refs.title.value=this.props.version.label,this.adjustInputWidth(),y({title:i()("版本名称不能为空"),type:"error"})},n.prototype._deleteVersion=function(){var t=this.props,e=t.handleDelete,n=t.version,o=n.id,a=n.label;b({title:i()("删除版本"),description:i()(r||(r=d(["确认删除历史版本“","”吗？<br>该删除不会影响表格内容。"],["确认删除历史版本“","”吗？<br>该删除不会影响表格内容。"])),a),confirmFun:function(){e(o)}})},n.prototype.updateVersion=function(t){var e=this.props.version;e.label=t,this.props.updateVersion({id:e.id,label:t})},n.prototype.hasPermission=function(){var t=this.props.canManageVersionItem,e=this.props.currentUserId===this.props.version.user_id;return t||e},n.prototype._versionClick=function(e){var n=t(e.target),r=n.parents(),o=["s-version-title-edit","s-version-delete"];"edit"===this.state.status&&o.push("s-version-title"),!o.some(function(t){return n.hasClass(t)||r.hasClass(t)})&&this.props.handlePreview(this.props.version)},n.prototype._handleMouseEnter=function(t){var e=this.props;(0,e.handleTooltip)(e.version,!0,t)},n.prototype._handleMouseLeave=function(t){var e=this.props;(0,e.handleTooltip)(e.version,!1,t)},n.prototype.getNameWidth=function(){var t=this.refs.title.value,e=document.createElement("span");e.style.fontSize="12px",e.innerText=t,document.body.appendChild(e);var n=e.offsetWidth;return document.body.removeChild(e),n},n.prototype.adjustInputWidth=function(){var t=this.getNameWidth();this.setState({inputWidth:Math.min(t,194).toString()+"px"})},n.prototype.cutOff=function(t){t&&(this.refs.title.value=Object(f.a)(t,32))},n.prototype.render=function(){var t=this.props,e=t.version,n=t.selected,r=t.isDisableRevert,o=t.handleRevert,a=e.label,s=e.User,c=e.docHistoryId,l=s.name,f=this.state,h=f.status,d=f.inputWidth,v="edit"===h,y=this.hasPermission(),b=c===n?"active":"";return u.a.createElement("div",{className:"s-version-item "+b,onClick:this.versionClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.a.createElement("div",{className:"s-content-container"},u.a.createElement("div",{className:"s-vertion-title-container"},u.a.createElement("input",{ref:"title",className:"s-version-title",readOnly:!v,style:{width:d},defaultValue:a,maxLength:32,onBlur:this.endEdit,onKeyDown:this.onKeyDown,onInput:this.onInput}),y&&u.a.createElement("span",{onClick:this.startEdit,className:"s-version-title-edit s-toolbar-icon s-toolbar-icon-edit"})),u.a.createElement("div",{className:"s-version-content"},u.a.createElement("span",{className:"s-author"},l)," ",i()("保存了版本")),y&&u.a.createElement("div",{className:"s-version-delete",onClick:this.deleteVersion},u.a.createElement("span",{className:"icon-trash-delete s-version-delete-icon"}),i()("删除")),Object(p.a)(e,r,o)))},n}(c.Component);e.a=g}).call(e,n(85))},function(t,e,n){var r=n(165),o=n(977),i=n(978),a=n(979),s=n(980),c=n(145),u=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var l=s(t),f=s(e),p=a(l,f),h=i(l,f)+1;return o(l,p,h).join("")}},function(t,e,n){var r=n(503);t.exports=function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:r(t,e,n)}},function(t,e,n){var r=n(228);t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(228);t.exports=function(t,e){for(var n=-1,o=t.length;++n<o&&r(e,t[n],0)>-1;);return n}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+l+u,"g");t.exports=function(t){return t.match(f)}},function(t,e,n){"use strict";e.a=function(t,e,n){return a.a.createElement("div",{className:"s-action-bar-wrap"},a.a.createElement("div",{className:"s-action-bar"+(e?" disabled":""),onClick:function(e){e.stopPropagation(),n(t)}},a.a.createElement("span",{className:"hicon icon-recover"}),o()("还原")),a.a.createElement("div",{style:{clear:"both"}}))};var r=n(2),o=n.n(r),i=n(0),a=n.n(i)},function(t,e,n){"use strict";var r=n(705),o=n.n(r);e.a={"en-US":o.a}},function(t,e,n){"use strict";var r,o=n(2),i=n.n(o),a=n(0),s=n.n(a),c=n(39),u=function(t){return!t.permission.canEditFile};function l(t){return s.a.createElement(c.j,{disabled:u(t)},s.a.createElement(c.b,{icon:"save",tooltip:i()("保存版本"),onTap:r.createVersion}))}function f(t){return s.a.createElement(c.i,{disabled:u(t)},s.a.createElement(c.b,{icon:"save",tooltip:i()("保存版本"),onTap:r.createVersion}),s.a.createElement("br",null),s.a.createElement("span",null,i()("保存版本")))}e.a=function(t){return r=t,{singleTool:l,doubleTool:f}}},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(223),a=n(701),s=n.n(a),c=n(985),u=n(706),l=n(1),f=(n.n(l),n(7)),p=n.n(f),h=n(702),d=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=this&&this.__assign||function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=l.sheets,b=y.Events,g=y.Plugin,m=(l.Editor,"VersionPreview"),w=function(t){function e(n){var r=t.call(this,{name:m,Constructor:e,config:n})||this;return r.options=n,r.cooperation=new s.a.ColorPalette(n.currentUserId),r.editor=n.historyEditor||Object(h.a)(n.editor),n.container&&r.render(n.container),r.install(),r}return d(e,t),e.prototype.render=function(t){p.a.render(o.a.createElement(i.a,{store:u.c},o.a.createElement(c.a,v({},v({},this.options,{container:t,cooperation:this.cooperation,previewEditor:this.editor})))),t)},e.prototype.show=function(t){u.a.togglePreviewAction(!0,t),this.editor.emit(b.VersionPreviewShown)},e.prototype.hide=function(){u.a.togglePreviewAction(!1),this.editor.emit(b.VersionPreviewHidden)},e.prototype.isShown=function(){return u.c.select("versionPreview.isShowPreview",u.c.getState())},e}(g);e.a=w},function(t,e,n){"use strict";var r=n(223),o=n(706),i=n(700),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=o.b.select;e.a=Object(r.b)(function(t,e){var n=s({isPreview:"versionPreview.isShowPreview",isLoading:"versionPreview.isLoadingPreview",steps:"versionPreview.steps",curStep:"versionPreview.curStep",users:"history.users",baseDelta:"versionPreview.baseDelta",curDelta:"versionPreview.curDelta",sheetId:"versionPreview.sheetId",highLight:"history.highLight",selected:"versionPreview.history="},t);return a({wrapperClass:"sm-sheet-editor-version"},n,e)},function(){return o.a})(i.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"initStateAction",function(){return i}),n.d(e,"togglePreviewAction",function(){return a}),n.d(e,"onSetCurStepAction",function(){return s}),n.d(e,"setPreviewLoadingAction",function(){return c});var r=n(87),o=n(595),i=function(t){return Object(r.b)(o.c,t)},a=function(t,e){return t?Object(r.b)(o.h,e||{}):Object(r.b)(o.b)},s=function(t){return Object(r.b)(o.f,t)},c=function(t){return Object(r.b)(o.g,t)}},function(t,e,n){"use strict";var r=n(988),o=n.n(r),i=n(698),a=n.n(i),s=n(705),c=n.n(s),u=this&&this.__assign||function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.a={"en-US":u({},o.a,a.a,c.a)}},function(t,e){t.exports={"历史":"History","版本":"Version","讨论":"Discussion"}}])});